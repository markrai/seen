var fv=t=>{throw TypeError(t)};var zh=(t,r,a)=>r.has(t)||fv("Cannot "+a);var X=(t,r,a)=>(zh(t,r,"read from private field"),a?a.call(t):r.get(t)),qe=(t,r,a)=>r.has(t)?fv("Cannot add the same private member more than once"):r instanceof WeakSet?r.add(t):r.set(t,a),Fe=(t,r,a,s)=>(zh(t,r,"write to private field"),s?s.call(t,a):r.set(t,a),a),tt=(t,r,a)=>(zh(t,r,"access private method"),a);var lu=(t,r,a,s)=>({set _(o){Fe(t,r,o,a)},get _(){return X(t,r,s)}});function E5(t,r){for(var a=0;a<r.length;a++){const s=r[a];if(typeof s!="string"&&!Array.isArray(s)){for(const o in s)if(o!=="default"&&!(o in t)){const u=Object.getOwnPropertyDescriptor(s,o);u&&Object.defineProperty(t,o,u.get?u:{enumerable:!0,get:()=>s[o]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const r=document.createElement("link").relList;if(r&&r.supports&&r.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const u of o)if(u.type==="childList")for(const d of u.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&s(d)}).observe(document,{childList:!0,subtree:!0});function a(o){const u={};return o.integrity&&(u.integrity=o.integrity),o.referrerPolicy&&(u.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?u.credentials="include":o.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function s(o){if(o.ep)return;o.ep=!0;const u=a(o);fetch(o.href,u)}})();var ou=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function gx(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var kh={exports:{}},so={};var hv;function j5(){if(hv)return so;hv=1;var t=Symbol.for("react.transitional.element"),r=Symbol.for("react.fragment");function a(s,o,u){var d=null;if(u!==void 0&&(d=""+u),o.key!==void 0&&(d=""+o.key),"key"in o){u={};for(var f in o)f!=="key"&&(u[f]=o[f])}else u=o;return o=u.ref,{$$typeof:t,type:s,key:d,ref:o!==void 0?o:null,props:u}}return so.Fragment=r,so.jsx=a,so.jsxs=a,so}var mv;function N5(){return mv||(mv=1,kh.exports=j5()),kh.exports}var c=N5(),Eh={exports:{}},rt={};var pv;function C5(){if(pv)return rt;pv=1;var t=Symbol.for("react.transitional.element"),r=Symbol.for("react.portal"),a=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),d=Symbol.for("react.context"),f=Symbol.for("react.forward_ref"),h=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),y=Symbol.for("react.activity"),w=Symbol.iterator;function x(R){return R===null||typeof R!="object"?null:(R=w&&R[w]||R["@@iterator"],typeof R=="function"?R:null)}var j={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},_=Object.assign,z={};function k(R,F,ee){this.props=R,this.context=F,this.refs=z,this.updater=ee||j}k.prototype.isReactComponent={},k.prototype.setState=function(R,F){if(typeof R!="object"&&typeof R!="function"&&R!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,R,F,"setState")},k.prototype.forceUpdate=function(R){this.updater.enqueueForceUpdate(this,R,"forceUpdate")};function C(){}C.prototype=k.prototype;function M(R,F,ee){this.props=R,this.context=F,this.refs=z,this.updater=ee||j}var A=M.prototype=new C;A.constructor=M,_(A,k.prototype),A.isPureReactComponent=!0;var O=Array.isArray;function Q(){}var B={H:null,A:null,T:null,S:null},Z=Object.prototype.hasOwnProperty;function P(R,F,ee){var ie=ee.ref;return{$$typeof:t,type:R,key:F,ref:ie!==void 0?ie:null,props:ee}}function D(R,F){return P(R.type,F,R.props)}function G(R){return typeof R=="object"&&R!==null&&R.$$typeof===t}function T(R){var F={"=":"=0",":":"=2"};return"$"+R.replace(/[=:]/g,function(ee){return F[ee]})}var U=/\/+/g;function S(R,F){return typeof R=="object"&&R!==null&&R.key!=null?T(""+R.key):F.toString(36)}function W(R){switch(R.status){case"fulfilled":return R.value;case"rejected":throw R.reason;default:switch(typeof R.status=="string"?R.then(Q,Q):(R.status="pending",R.then(function(F){R.status==="pending"&&(R.status="fulfilled",R.value=F)},function(F){R.status==="pending"&&(R.status="rejected",R.reason=F)})),R.status){case"fulfilled":return R.value;case"rejected":throw R.reason}}throw R}function K(R,F,ee,ie,ue){var Me=typeof R;(Me==="undefined"||Me==="boolean")&&(R=null);var re=!1;if(R===null)re=!0;else switch(Me){case"bigint":case"string":case"number":re=!0;break;case"object":switch(R.$$typeof){case t:case r:re=!0;break;case v:return re=R._init,K(re(R._payload),F,ee,ie,ue)}}if(re)return ue=ue(R),re=ie===""?"."+S(R,0):ie,O(ue)?(ee="",re!=null&&(ee=re.replace(U,"$&/")+"/"),K(ue,F,ee,"",function(Oe){return Oe})):ue!=null&&(G(ue)&&(ue=D(ue,ee+(ue.key==null||R&&R.key===ue.key?"":(""+ue.key).replace(U,"$&/")+"/")+re)),F.push(ue)),1;re=0;var je=ie===""?".":ie+":";if(O(R))for(var de=0;de<R.length;de++)ie=R[de],Me=je+S(ie,de),re+=K(ie,F,ee,Me,ue);else if(de=x(R),typeof de=="function")for(R=de.call(R),de=0;!(ie=R.next()).done;)ie=ie.value,Me=je+S(ie,de++),re+=K(ie,F,ee,Me,ue);else if(Me==="object"){if(typeof R.then=="function")return K(W(R),F,ee,ie,ue);throw F=String(R),Error("Objects are not valid as a React child (found: "+(F==="[object Object]"?"object with keys {"+Object.keys(R).join(", ")+"}":F)+"). If you meant to render a collection of children, use an array instead.")}return re}function I(R,F,ee){if(R==null)return R;var ie=[],ue=0;return K(R,ie,"","",function(Me){return F.call(ee,Me,ue++)}),ie}function se(R){if(R._status===-1){var F=R._result;F=F(),F.then(function(ee){(R._status===0||R._status===-1)&&(R._status=1,R._result=ee)},function(ee){(R._status===0||R._status===-1)&&(R._status=2,R._result=ee)}),R._status===-1&&(R._status=0,R._result=F)}if(R._status===1)return R._result.default;throw R._result}var J=typeof reportError=="function"?reportError:function(R){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var F=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof R=="object"&&R!==null&&typeof R.message=="string"?String(R.message):String(R),error:R});if(!window.dispatchEvent(F))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",R);return}console.error(R)},be={map:I,forEach:function(R,F,ee){I(R,function(){F.apply(this,arguments)},ee)},count:function(R){var F=0;return I(R,function(){F++}),F},toArray:function(R){return I(R,function(F){return F})||[]},only:function(R){if(!G(R))throw Error("React.Children.only expected to receive a single React element child.");return R}};return rt.Activity=y,rt.Children=be,rt.Component=k,rt.Fragment=a,rt.Profiler=o,rt.PureComponent=M,rt.StrictMode=s,rt.Suspense=h,rt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=B,rt.__COMPILER_RUNTIME={__proto__:null,c:function(R){return B.H.useMemoCache(R)}},rt.cache=function(R){return function(){return R.apply(null,arguments)}},rt.cacheSignal=function(){return null},rt.cloneElement=function(R,F,ee){if(R==null)throw Error("The argument must be a React element, but you passed "+R+".");var ie=_({},R.props),ue=R.key;if(F!=null)for(Me in F.key!==void 0&&(ue=""+F.key),F)!Z.call(F,Me)||Me==="key"||Me==="__self"||Me==="__source"||Me==="ref"&&F.ref===void 0||(ie[Me]=F[Me]);var Me=arguments.length-2;if(Me===1)ie.children=ee;else if(1<Me){for(var re=Array(Me),je=0;je<Me;je++)re[je]=arguments[je+2];ie.children=re}return P(R.type,ue,ie)},rt.createContext=function(R){return R={$$typeof:d,_currentValue:R,_currentValue2:R,_threadCount:0,Provider:null,Consumer:null},R.Provider=R,R.Consumer={$$typeof:u,_context:R},R},rt.createElement=function(R,F,ee){var ie,ue={},Me=null;if(F!=null)for(ie in F.key!==void 0&&(Me=""+F.key),F)Z.call(F,ie)&&ie!=="key"&&ie!=="__self"&&ie!=="__source"&&(ue[ie]=F[ie]);var re=arguments.length-2;if(re===1)ue.children=ee;else if(1<re){for(var je=Array(re),de=0;de<re;de++)je[de]=arguments[de+2];ue.children=je}if(R&&R.defaultProps)for(ie in re=R.defaultProps,re)ue[ie]===void 0&&(ue[ie]=re[ie]);return P(R,Me,ue)},rt.createRef=function(){return{current:null}},rt.forwardRef=function(R){return{$$typeof:f,render:R}},rt.isValidElement=G,rt.lazy=function(R){return{$$typeof:v,_payload:{_status:-1,_result:R},_init:se}},rt.memo=function(R,F){return{$$typeof:p,type:R,compare:F===void 0?null:F}},rt.startTransition=function(R){var F=B.T,ee={};B.T=ee;try{var ie=R(),ue=B.S;ue!==null&&ue(ee,ie),typeof ie=="object"&&ie!==null&&typeof ie.then=="function"&&ie.then(Q,J)}catch(Me){J(Me)}finally{F!==null&&ee.types!==null&&(F.types=ee.types),B.T=F}},rt.unstable_useCacheRefresh=function(){return B.H.useCacheRefresh()},rt.use=function(R){return B.H.use(R)},rt.useActionState=function(R,F,ee){return B.H.useActionState(R,F,ee)},rt.useCallback=function(R,F){return B.H.useCallback(R,F)},rt.useContext=function(R){return B.H.useContext(R)},rt.useDebugValue=function(){},rt.useDeferredValue=function(R,F){return B.H.useDeferredValue(R,F)},rt.useEffect=function(R,F){return B.H.useEffect(R,F)},rt.useEffectEvent=function(R){return B.H.useEffectEvent(R)},rt.useId=function(){return B.H.useId()},rt.useImperativeHandle=function(R,F,ee){return B.H.useImperativeHandle(R,F,ee)},rt.useInsertionEffect=function(R,F){return B.H.useInsertionEffect(R,F)},rt.useLayoutEffect=function(R,F){return B.H.useLayoutEffect(R,F)},rt.useMemo=function(R,F){return B.H.useMemo(R,F)},rt.useOptimistic=function(R,F){return B.H.useOptimistic(R,F)},rt.useReducer=function(R,F,ee){return B.H.useReducer(R,F,ee)},rt.useRef=function(R){return B.H.useRef(R)},rt.useState=function(R){return B.H.useState(R)},rt.useSyncExternalStore=function(R,F,ee){return B.H.useSyncExternalStore(R,F,ee)},rt.useTransition=function(){return B.H.useTransition()},rt.version="19.2.0",rt}var gv;function Wu(){return gv||(gv=1,Eh.exports=C5()),Eh.exports}var b=Wu();const nt=gx(b),bv=E5({__proto__:null,default:nt},[b]);var jh={exports:{}},lo={},Nh={exports:{}},Ch={};var vv;function A5(){return vv||(vv=1,(function(t){function r(K,I){var se=K.length;K.push(I);e:for(;0<se;){var J=se-1>>>1,be=K[J];if(0<o(be,I))K[J]=I,K[se]=be,se=J;else break e}}function a(K){return K.length===0?null:K[0]}function s(K){if(K.length===0)return null;var I=K[0],se=K.pop();if(se!==I){K[0]=se;e:for(var J=0,be=K.length,R=be>>>1;J<R;){var F=2*(J+1)-1,ee=K[F],ie=F+1,ue=K[ie];if(0>o(ee,se))ie<be&&0>o(ue,ee)?(K[J]=ue,K[ie]=se,J=ie):(K[J]=ee,K[F]=se,J=F);else if(ie<be&&0>o(ue,se))K[J]=ue,K[ie]=se,J=ie;else break e}}return I}function o(K,I){var se=K.sortIndex-I.sortIndex;return se!==0?se:K.id-I.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;t.unstable_now=function(){return u.now()}}else{var d=Date,f=d.now();t.unstable_now=function(){return d.now()-f}}var h=[],p=[],v=1,y=null,w=3,x=!1,j=!1,_=!1,z=!1,k=typeof setTimeout=="function"?setTimeout:null,C=typeof clearTimeout=="function"?clearTimeout:null,M=typeof setImmediate<"u"?setImmediate:null;function A(K){for(var I=a(p);I!==null;){if(I.callback===null)s(p);else if(I.startTime<=K)s(p),I.sortIndex=I.expirationTime,r(h,I);else break;I=a(p)}}function O(K){if(_=!1,A(K),!j)if(a(h)!==null)j=!0,Q||(Q=!0,T());else{var I=a(p);I!==null&&W(O,I.startTime-K)}}var Q=!1,B=-1,Z=5,P=-1;function D(){return z?!0:!(t.unstable_now()-P<Z)}function G(){if(z=!1,Q){var K=t.unstable_now();P=K;var I=!0;try{e:{j=!1,_&&(_=!1,C(B),B=-1),x=!0;var se=w;try{t:{for(A(K),y=a(h);y!==null&&!(y.expirationTime>K&&D());){var J=y.callback;if(typeof J=="function"){y.callback=null,w=y.priorityLevel;var be=J(y.expirationTime<=K);if(K=t.unstable_now(),typeof be=="function"){y.callback=be,A(K),I=!0;break t}y===a(h)&&s(h),A(K)}else s(h);y=a(h)}if(y!==null)I=!0;else{var R=a(p);R!==null&&W(O,R.startTime-K),I=!1}}break e}finally{y=null,w=se,x=!1}I=void 0}}finally{I?T():Q=!1}}}var T;if(typeof M=="function")T=function(){M(G)};else if(typeof MessageChannel<"u"){var U=new MessageChannel,S=U.port2;U.port1.onmessage=G,T=function(){S.postMessage(null)}}else T=function(){k(G,0)};function W(K,I){B=k(function(){K(t.unstable_now())},I)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(K){K.callback=null},t.unstable_forceFrameRate=function(K){0>K||125<K?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):Z=0<K?Math.floor(1e3/K):5},t.unstable_getCurrentPriorityLevel=function(){return w},t.unstable_next=function(K){switch(w){case 1:case 2:case 3:var I=3;break;default:I=w}var se=w;w=I;try{return K()}finally{w=se}},t.unstable_requestPaint=function(){z=!0},t.unstable_runWithPriority=function(K,I){switch(K){case 1:case 2:case 3:case 4:case 5:break;default:K=3}var se=w;w=K;try{return I()}finally{w=se}},t.unstable_scheduleCallback=function(K,I,se){var J=t.unstable_now();switch(typeof se=="object"&&se!==null?(se=se.delay,se=typeof se=="number"&&0<se?J+se:J):se=J,K){case 1:var be=-1;break;case 2:be=250;break;case 5:be=1073741823;break;case 4:be=1e4;break;default:be=5e3}return be=se+be,K={id:v++,callback:I,priorityLevel:K,startTime:se,expirationTime:be,sortIndex:-1},se>J?(K.sortIndex=se,r(p,K),a(h)===null&&K===a(p)&&(_?(C(B),B=-1):_=!0,W(O,se-J))):(K.sortIndex=be,r(h,K),j||x||(j=!0,Q||(Q=!0,T()))),K},t.unstable_shouldYield=D,t.unstable_wrapCallback=function(K){var I=w;return function(){var se=w;w=I;try{return K.apply(this,arguments)}finally{w=se}}}})(Ch)),Ch}var yv;function T5(){return yv||(yv=1,Nh.exports=A5()),Nh.exports}var Ah={exports:{}},bn={};var xv;function M5(){if(xv)return bn;xv=1;var t=Wu();function r(h){var p="https://react.dev/errors/"+h;if(1<arguments.length){p+="?args[]="+encodeURIComponent(arguments[1]);for(var v=2;v<arguments.length;v++)p+="&args[]="+encodeURIComponent(arguments[v])}return"Minified React error #"+h+"; visit "+p+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(){}var s={d:{f:a,r:function(){throw Error(r(522))},D:a,C:a,L:a,m:a,X:a,S:a,M:a},p:0,findDOMNode:null},o=Symbol.for("react.portal");function u(h,p,v){var y=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:y==null?null:""+y,children:h,containerInfo:p,implementation:v}}var d=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function f(h,p){if(h==="font")return"";if(typeof p=="string")return p==="use-credentials"?p:""}return bn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,bn.createPortal=function(h,p){var v=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!p||p.nodeType!==1&&p.nodeType!==9&&p.nodeType!==11)throw Error(r(299));return u(h,p,null,v)},bn.flushSync=function(h){var p=d.T,v=s.p;try{if(d.T=null,s.p=2,h)return h()}finally{d.T=p,s.p=v,s.d.f()}},bn.preconnect=function(h,p){typeof h=="string"&&(p?(p=p.crossOrigin,p=typeof p=="string"?p==="use-credentials"?p:"":void 0):p=null,s.d.C(h,p))},bn.prefetchDNS=function(h){typeof h=="string"&&s.d.D(h)},bn.preinit=function(h,p){if(typeof h=="string"&&p&&typeof p.as=="string"){var v=p.as,y=f(v,p.crossOrigin),w=typeof p.integrity=="string"?p.integrity:void 0,x=typeof p.fetchPriority=="string"?p.fetchPriority:void 0;v==="style"?s.d.S(h,typeof p.precedence=="string"?p.precedence:void 0,{crossOrigin:y,integrity:w,fetchPriority:x}):v==="script"&&s.d.X(h,{crossOrigin:y,integrity:w,fetchPriority:x,nonce:typeof p.nonce=="string"?p.nonce:void 0})}},bn.preinitModule=function(h,p){if(typeof h=="string")if(typeof p=="object"&&p!==null){if(p.as==null||p.as==="script"){var v=f(p.as,p.crossOrigin);s.d.M(h,{crossOrigin:v,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0})}}else p==null&&s.d.M(h)},bn.preload=function(h,p){if(typeof h=="string"&&typeof p=="object"&&p!==null&&typeof p.as=="string"){var v=p.as,y=f(v,p.crossOrigin);s.d.L(h,v,{crossOrigin:y,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0,type:typeof p.type=="string"?p.type:void 0,fetchPriority:typeof p.fetchPriority=="string"?p.fetchPriority:void 0,referrerPolicy:typeof p.referrerPolicy=="string"?p.referrerPolicy:void 0,imageSrcSet:typeof p.imageSrcSet=="string"?p.imageSrcSet:void 0,imageSizes:typeof p.imageSizes=="string"?p.imageSizes:void 0,media:typeof p.media=="string"?p.media:void 0})}},bn.preloadModule=function(h,p){if(typeof h=="string")if(p){var v=f(p.as,p.crossOrigin);s.d.m(h,{as:typeof p.as=="string"&&p.as!=="script"?p.as:void 0,crossOrigin:v,integrity:typeof p.integrity=="string"?p.integrity:void 0})}else s.d.m(h)},bn.requestFormReset=function(h){s.d.r(h)},bn.unstable_batchedUpdates=function(h,p){return h(p)},bn.useFormState=function(h,p,v){return d.H.useFormState(h,p,v)},bn.useFormStatus=function(){return d.H.useHostTransitionStatus()},bn.version="19.2.0",bn}var wv;function bx(){if(wv)return Ah.exports;wv=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(r){console.error(r)}}return t(),Ah.exports=M5(),Ah.exports}var _v;function R5(){if(_v)return lo;_v=1;var t=T5(),r=Wu(),a=bx();function s(e){var n="https://react.dev/errors/"+e;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var i=2;i<arguments.length;i++)n+="&args[]="+encodeURIComponent(arguments[i])}return"Minified React error #"+e+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function u(e){var n=e,i=e;if(e.alternate)for(;n.return;)n=n.return;else{e=n;do n=e,(n.flags&4098)!==0&&(i=n.return),e=n.return;while(e)}return n.tag===3?i:null}function d(e){if(e.tag===13){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function f(e){if(e.tag===31){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function h(e){if(u(e)!==e)throw Error(s(188))}function p(e){var n=e.alternate;if(!n){if(n=u(e),n===null)throw Error(s(188));return n!==e?null:e}for(var i=e,l=n;;){var m=i.return;if(m===null)break;var g=m.alternate;if(g===null){if(l=m.return,l!==null){i=l;continue}break}if(m.child===g.child){for(g=m.child;g;){if(g===i)return h(m),e;if(g===l)return h(m),n;g=g.sibling}throw Error(s(188))}if(i.return!==l.return)i=m,l=g;else{for(var N=!1,L=m.child;L;){if(L===i){N=!0,i=m,l=g;break}if(L===l){N=!0,l=m,i=g;break}L=L.sibling}if(!N){for(L=g.child;L;){if(L===i){N=!0,i=g,l=m;break}if(L===l){N=!0,l=g,i=m;break}L=L.sibling}if(!N)throw Error(s(189))}}if(i.alternate!==l)throw Error(s(190))}if(i.tag!==3)throw Error(s(188));return i.stateNode.current===i?e:n}function v(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e;for(e=e.child;e!==null;){if(n=v(e),n!==null)return n;e=e.sibling}return null}var y=Object.assign,w=Symbol.for("react.element"),x=Symbol.for("react.transitional.element"),j=Symbol.for("react.portal"),_=Symbol.for("react.fragment"),z=Symbol.for("react.strict_mode"),k=Symbol.for("react.profiler"),C=Symbol.for("react.consumer"),M=Symbol.for("react.context"),A=Symbol.for("react.forward_ref"),O=Symbol.for("react.suspense"),Q=Symbol.for("react.suspense_list"),B=Symbol.for("react.memo"),Z=Symbol.for("react.lazy"),P=Symbol.for("react.activity"),D=Symbol.for("react.memo_cache_sentinel"),G=Symbol.iterator;function T(e){return e===null||typeof e!="object"?null:(e=G&&e[G]||e["@@iterator"],typeof e=="function"?e:null)}var U=Symbol.for("react.client.reference");function S(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===U?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case _:return"Fragment";case k:return"Profiler";case z:return"StrictMode";case O:return"Suspense";case Q:return"SuspenseList";case P:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case j:return"Portal";case M:return e.displayName||"Context";case C:return(e._context.displayName||"Context")+".Consumer";case A:var n=e.render;return e=e.displayName,e||(e=n.displayName||n.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case B:return n=e.displayName||null,n!==null?n:S(e.type)||"Memo";case Z:n=e._payload,e=e._init;try{return S(e(n))}catch{}}return null}var W=Array.isArray,K=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,I=a.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,se={pending:!1,data:null,method:null,action:null},J=[],be=-1;function R(e){return{current:e}}function F(e){0>be||(e.current=J[be],J[be]=null,be--)}function ee(e,n){be++,J[be]=e.current,e.current=n}var ie=R(null),ue=R(null),Me=R(null),re=R(null);function je(e,n){switch(ee(Me,n),ee(ue,e),ee(ie,null),n.nodeType){case 9:case 11:e=(e=n.documentElement)&&(e=e.namespaceURI)?Db(e):0;break;default:if(e=n.tagName,n=n.namespaceURI)n=Db(n),e=Lb(n,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}F(ie),ee(ie,e)}function de(){F(ie),F(ue),F(Me)}function Oe(e){e.memoizedState!==null&&ee(re,e);var n=ie.current,i=Lb(n,e.type);n!==i&&(ee(ue,e),ee(ie,i))}function Ue(e){ue.current===e&&(F(ie),F(ue)),re.current===e&&(F(re),no._currentValue=se)}var _e,ze;function E(e){if(_e===void 0)try{throw Error()}catch(i){var n=i.stack.trim().match(/\n( *(at )?)/);_e=n&&n[1]||"",ze=-1<i.stack.indexOf(`
    at`)?" (<anonymous>)":-1<i.stack.indexOf("@")?"@unknown:0:0":""}return`
`+_e+e+ze}var ae=!1;function te(e,n){if(!e||ae)return"";ae=!0;var i=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(n){var Ce=function(){throw Error()};if(Object.defineProperty(Ce.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Ce,[])}catch(ye){var ge=ye}Reflect.construct(e,[],Ce)}else{try{Ce.call()}catch(ye){ge=ye}e.call(Ce.prototype)}}else{try{throw Error()}catch(ye){ge=ye}(Ce=e())&&typeof Ce.catch=="function"&&Ce.catch(function(){})}}catch(ye){if(ye&&ge&&typeof ye.stack=="string")return[ye.stack,ge.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var m=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");m&&m.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var g=l.DetermineComponentFrameRoot(),N=g[0],L=g[1];if(N&&L){var V=N.split(`
`),pe=L.split(`
`);for(m=l=0;l<V.length&&!V[l].includes("DetermineComponentFrameRoot");)l++;for(;m<pe.length&&!pe[m].includes("DetermineComponentFrameRoot");)m++;if(l===V.length||m===pe.length)for(l=V.length-1,m=pe.length-1;1<=l&&0<=m&&V[l]!==pe[m];)m--;for(;1<=l&&0<=m;l--,m--)if(V[l]!==pe[m]){if(l!==1||m!==1)do if(l--,m--,0>m||V[l]!==pe[m]){var Se=`
`+V[l].replace(" at new "," at ");return e.displayName&&Se.includes("<anonymous>")&&(Se=Se.replace("<anonymous>",e.displayName)),Se}while(1<=l&&0<=m);break}}}finally{ae=!1,Error.prepareStackTrace=i}return(i=e?e.displayName||e.name:"")?E(i):""}function q(e,n){switch(e.tag){case 26:case 27:case 5:return E(e.type);case 16:return E("Lazy");case 13:return e.child!==n&&n!==null?E("Suspense Fallback"):E("Suspense");case 19:return E("SuspenseList");case 0:case 15:return te(e.type,!1);case 11:return te(e.type.render,!1);case 1:return te(e.type,!0);case 31:return E("Activity");default:return""}}function H(e){try{var n="",i=null;do n+=q(e,i),i=e,e=e.return;while(e);return n}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}var $=Object.prototype.hasOwnProperty,he=t.unstable_scheduleCallback,ke=t.unstable_cancelCallback,oe=t.unstable_shouldYield,Te=t.unstable_requestPaint,ve=t.unstable_now,we=t.unstable_getCurrentPriorityLevel,De=t.unstable_ImmediatePriority,Ee=t.unstable_UserBlockingPriority,He=t.unstable_NormalPriority,Ae=t.unstable_LowPriority,$e=t.unstable_IdlePriority,Ge=t.log,Ze=t.unstable_setDisableYieldValue,Be=null,Je=null;function vt(e){if(typeof Ge=="function"&&Ze(e),Je&&typeof Je.setStrictMode=="function")try{Je.setStrictMode(Be,e)}catch{}}var Pe=Math.clz32?Math.clz32:qt,Ut=Math.log,wt=Math.LN2;function qt(e){return e>>>=0,e===0?32:31-(Ut(e)/wt|0)|0}var xt=256,Dt=262144,jt=4194304;function Lt(e){var n=e&42;if(n!==0)return n;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function jn(e,n,i){var l=e.pendingLanes;if(l===0)return 0;var m=0,g=e.suspendedLanes,N=e.pingedLanes;e=e.warmLanes;var L=l&134217727;return L!==0?(l=L&~g,l!==0?m=Lt(l):(N&=L,N!==0?m=Lt(N):i||(i=L&~e,i!==0&&(m=Lt(i))))):(L=l&~g,L!==0?m=Lt(L):N!==0?m=Lt(N):i||(i=l&~e,i!==0&&(m=Lt(i)))),m===0?0:n!==0&&n!==m&&(n&g)===0&&(g=m&-m,i=n&-n,g>=i||g===32&&(i&4194048)!==0)?n:m}function xe(e,n){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&n)===0}function Ke(e,n){switch(e){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Y(){var e=jt;return jt<<=1,(jt&62914560)===0&&(jt=4194304),e}function fe(e){for(var n=[],i=0;31>i;i++)n.push(e);return n}function Re(e,n){e.pendingLanes|=n,n!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function Le(e,n,i,l,m,g){var N=e.pendingLanes;e.pendingLanes=i,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=i,e.entangledLanes&=i,e.errorRecoveryDisabledLanes&=i,e.shellSuspendCounter=0;var L=e.entanglements,V=e.expirationTimes,pe=e.hiddenUpdates;for(i=N&~i;0<i;){var Se=31-Pe(i),Ce=1<<Se;L[Se]=0,V[Se]=-1;var ge=pe[Se];if(ge!==null)for(pe[Se]=null,Se=0;Se<ge.length;Se++){var ye=ge[Se];ye!==null&&(ye.lane&=-536870913)}i&=~Ce}l!==0&&Xe(e,l,0),g!==0&&m===0&&e.tag!==0&&(e.suspendedLanes|=g&~(N&~n))}function Xe(e,n,i){e.pendingLanes|=n,e.suspendedLanes&=~n;var l=31-Pe(n);e.entangledLanes|=n,e.entanglements[l]=e.entanglements[l]|1073741824|i&261930}function st(e,n){var i=e.entangledLanes|=n;for(e=e.entanglements;i;){var l=31-Pe(i),m=1<<l;m&n|e[l]&n&&(e[l]|=n),i&=~m}}function yt(e,n){var i=n&-n;return i=(i&42)!==0?1:ot(i),(i&(e.suspendedLanes|n))!==0?0:i}function ot(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function Vt(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function Sr(){var e=I.p;return e!==0?e:(e=window.event,e===void 0?32:iv(e.type))}function zr(e,n){var i=I.p;try{return I.p=e,n()}finally{I.p=i}}var Ft=Math.random().toString(36).slice(2),rn="__reactFiber$"+Ft,un="__reactProps$"+Ft,Br="__reactContainer$"+Ft,$r="__reactEvents$"+Ft,xi="__reactListeners$"+Ft,wi="__reactHandles$"+Ft,Xo="__reactResources$"+Ft,_i="__reactMarker$"+Ft;function fs(e){delete e[rn],delete e[un],delete e[$r],delete e[xi],delete e[wi]}function Hr(e){var n=e[rn];if(n)return n;for(var i=e.parentNode;i;){if(n=i[Br]||i[rn]){if(i=n.alternate,n.child!==null||i!==null&&i.child!==null)for(e=qb(e);e!==null;){if(i=e[rn])return i;e=qb(e)}return n}e=i,i=e.parentNode}return null}function Pr(e){if(e=e[rn]||e[Br]){var n=e.tag;if(n===5||n===6||n===13||n===31||n===26||n===27||n===3)return e}return null}function Na(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e.stateNode;throw Error(s(33))}function qr(e){var n=e[Xo];return n||(n=e[Xo]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function ce(e){e[_i]=!0}var Ve=new Set,ht={};function ut(e,n){_t(e,n),_t(e+"Capture",n)}function _t(e,n){for(ht[e]=n,e=0;e<n.length;e++)Ve.add(n[e])}var ur=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Ir={},Ca={};function hs(e){return $.call(Ca,e)?!0:$.call(Ir,e)?!1:ur.test(e)?Ca[e]=!0:(Ir[e]=!0,!1)}function Yr(e,n,i){if(hs(n))if(i===null)e.removeAttribute(n);else{switch(typeof i){case"undefined":case"function":case"symbol":e.removeAttribute(n);return;case"boolean":var l=n.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){e.removeAttribute(n);return}}e.setAttribute(n,""+i)}}function ms(e,n,i){if(i===null)e.removeAttribute(n);else{switch(typeof i){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(n);return}e.setAttribute(n,""+i)}}function Qr(e,n,i,l){if(l===null)e.removeAttribute(i);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(i);return}e.setAttributeNS(n,i,""+l)}}function Kn(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function j0(e){var n=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function y2(e,n,i){var l=Object.getOwnPropertyDescriptor(e.constructor.prototype,n);if(!e.hasOwnProperty(n)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var m=l.get,g=l.set;return Object.defineProperty(e,n,{configurable:!0,get:function(){return m.call(this)},set:function(N){i=""+N,g.call(this,N)}}),Object.defineProperty(e,n,{enumerable:l.enumerable}),{getValue:function(){return i},setValue:function(N){i=""+N},stopTracking:function(){e._valueTracker=null,delete e[n]}}}}function gd(e){if(!e._valueTracker){var n=j0(e)?"checked":"value";e._valueTracker=y2(e,n,""+e[n])}}function N0(e){if(!e)return!1;var n=e._valueTracker;if(!n)return!0;var i=n.getValue(),l="";return e&&(l=j0(e)?e.checked?"true":"false":e.value),e=l,e!==i?(n.setValue(e),!0):!1}function Vo(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var x2=/[\n"\\]/g;function Xn(e){return e.replace(x2,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function bd(e,n,i,l,m,g,N,L){e.name="",N!=null&&typeof N!="function"&&typeof N!="symbol"&&typeof N!="boolean"?e.type=N:e.removeAttribute("type"),n!=null?N==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+Kn(n)):e.value!==""+Kn(n)&&(e.value=""+Kn(n)):N!=="submit"&&N!=="reset"||e.removeAttribute("value"),n!=null?vd(e,N,Kn(n)):i!=null?vd(e,N,Kn(i)):l!=null&&e.removeAttribute("value"),m==null&&g!=null&&(e.defaultChecked=!!g),m!=null&&(e.checked=m&&typeof m!="function"&&typeof m!="symbol"),L!=null&&typeof L!="function"&&typeof L!="symbol"&&typeof L!="boolean"?e.name=""+Kn(L):e.removeAttribute("name")}function C0(e,n,i,l,m,g,N,L){if(g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"&&(e.type=g),n!=null||i!=null){if(!(g!=="submit"&&g!=="reset"||n!=null)){gd(e);return}i=i!=null?""+Kn(i):"",n=n!=null?""+Kn(n):i,L||n===e.value||(e.value=n),e.defaultValue=n}l=l!=null?l:m,l=typeof l!="function"&&typeof l!="symbol"&&!!l,e.checked=L?e.checked:!!l,e.defaultChecked=!!l,N!=null&&typeof N!="function"&&typeof N!="symbol"&&typeof N!="boolean"&&(e.name=N),gd(e)}function vd(e,n,i){n==="number"&&Vo(e.ownerDocument)===e||e.defaultValue===""+i||(e.defaultValue=""+i)}function ps(e,n,i,l){if(e=e.options,n){n={};for(var m=0;m<i.length;m++)n["$"+i[m]]=!0;for(i=0;i<e.length;i++)m=n.hasOwnProperty("$"+e[i].value),e[i].selected!==m&&(e[i].selected=m),m&&l&&(e[i].defaultSelected=!0)}else{for(i=""+Kn(i),n=null,m=0;m<e.length;m++){if(e[m].value===i){e[m].selected=!0,l&&(e[m].defaultSelected=!0);return}n!==null||e[m].disabled||(n=e[m])}n!==null&&(n.selected=!0)}}function A0(e,n,i){if(n!=null&&(n=""+Kn(n),n!==e.value&&(e.value=n),i==null)){e.defaultValue!==n&&(e.defaultValue=n);return}e.defaultValue=i!=null?""+Kn(i):""}function T0(e,n,i,l){if(n==null){if(l!=null){if(i!=null)throw Error(s(92));if(W(l)){if(1<l.length)throw Error(s(93));l=l[0]}i=l}i==null&&(i=""),n=i}i=Kn(n),e.defaultValue=i,l=e.textContent,l===i&&l!==""&&l!==null&&(e.value=l),gd(e)}function gs(e,n){if(n){var i=e.firstChild;if(i&&i===e.lastChild&&i.nodeType===3){i.nodeValue=n;return}}e.textContent=n}var w2=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function M0(e,n,i){var l=n.indexOf("--")===0;i==null||typeof i=="boolean"||i===""?l?e.setProperty(n,""):n==="float"?e.cssFloat="":e[n]="":l?e.setProperty(n,i):typeof i!="number"||i===0||w2.has(n)?n==="float"?e.cssFloat=i:e[n]=(""+i).trim():e[n]=i+"px"}function R0(e,n,i){if(n!=null&&typeof n!="object")throw Error(s(62));if(e=e.style,i!=null){for(var l in i)!i.hasOwnProperty(l)||n!=null&&n.hasOwnProperty(l)||(l.indexOf("--")===0?e.setProperty(l,""):l==="float"?e.cssFloat="":e[l]="");for(var m in n)l=n[m],n.hasOwnProperty(m)&&i[m]!==l&&M0(e,m,l)}else for(var g in n)n.hasOwnProperty(g)&&M0(e,g,n[g])}function yd(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var _2=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),S2=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Wo(e){return S2.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function Gr(){}var xd=null;function wd(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var bs=null,vs=null;function O0(e){var n=Pr(e);if(n&&(e=n.stateNode)){var i=e[un]||null;e:switch(e=n.stateNode,n.type){case"input":if(bd(e,i.value,i.defaultValue,i.defaultValue,i.checked,i.defaultChecked,i.type,i.name),n=i.name,i.type==="radio"&&n!=null){for(i=e;i.parentNode;)i=i.parentNode;for(i=i.querySelectorAll('input[name="'+Xn(""+n)+'"][type="radio"]'),n=0;n<i.length;n++){var l=i[n];if(l!==e&&l.form===e.form){var m=l[un]||null;if(!m)throw Error(s(90));bd(l,m.value,m.defaultValue,m.defaultValue,m.checked,m.defaultChecked,m.type,m.name)}}for(n=0;n<i.length;n++)l=i[n],l.form===e.form&&N0(l)}break e;case"textarea":A0(e,i.value,i.defaultValue);break e;case"select":n=i.value,n!=null&&ps(e,!!i.multiple,n,!1)}}}var _d=!1;function D0(e,n,i){if(_d)return e(n,i);_d=!0;try{var l=e(n);return l}finally{if(_d=!1,(bs!==null||vs!==null)&&(Bc(),bs&&(n=bs,e=vs,vs=bs=null,O0(n),e)))for(n=0;n<e.length;n++)O0(e[n])}}function yl(e,n){var i=e.stateNode;if(i===null)return null;var l=i[un]||null;if(l===null)return null;i=l[n];e:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(e=e.type,l=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!l;break e;default:e=!1}if(e)return null;if(i&&typeof i!="function")throw Error(s(231,n,typeof i));return i}var Zr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Sd=!1;if(Zr)try{var xl={};Object.defineProperty(xl,"passive",{get:function(){Sd=!0}}),window.addEventListener("test",xl,xl),window.removeEventListener("test",xl,xl)}catch{Sd=!1}var Aa=null,zd=null,Jo=null;function L0(){if(Jo)return Jo;var e,n=zd,i=n.length,l,m="value"in Aa?Aa.value:Aa.textContent,g=m.length;for(e=0;e<i&&n[e]===m[e];e++);var N=i-e;for(l=1;l<=N&&n[i-l]===m[g-l];l++);return Jo=m.slice(e,1<l?1-l:void 0)}function ec(e){var n=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&n===13&&(e=13)):e=n,e===10&&(e=13),32<=e||e===13?e:0}function tc(){return!0}function F0(){return!1}function Nn(e){function n(i,l,m,g,N){this._reactName=i,this._targetInst=m,this.type=l,this.nativeEvent=g,this.target=N,this.currentTarget=null;for(var L in e)e.hasOwnProperty(L)&&(i=e[L],this[L]=i?i(g):g[L]);return this.isDefaultPrevented=(g.defaultPrevented!=null?g.defaultPrevented:g.returnValue===!1)?tc:F0,this.isPropagationStopped=F0,this}return y(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var i=this.nativeEvent;i&&(i.preventDefault?i.preventDefault():typeof i.returnValue!="unknown"&&(i.returnValue=!1),this.isDefaultPrevented=tc)},stopPropagation:function(){var i=this.nativeEvent;i&&(i.stopPropagation?i.stopPropagation():typeof i.cancelBubble!="unknown"&&(i.cancelBubble=!0),this.isPropagationStopped=tc)},persist:function(){},isPersistent:tc}),n}var Si={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},nc=Nn(Si),wl=y({},Si,{view:0,detail:0}),z2=Nn(wl),kd,Ed,_l,rc=y({},wl,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Nd,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==_l&&(_l&&e.type==="mousemove"?(kd=e.screenX-_l.screenX,Ed=e.screenY-_l.screenY):Ed=kd=0,_l=e),kd)},movementY:function(e){return"movementY"in e?e.movementY:Ed}}),U0=Nn(rc),k2=y({},rc,{dataTransfer:0}),E2=Nn(k2),j2=y({},wl,{relatedTarget:0}),jd=Nn(j2),N2=y({},Si,{animationName:0,elapsedTime:0,pseudoElement:0}),C2=Nn(N2),A2=y({},Si,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),T2=Nn(A2),M2=y({},Si,{data:0}),B0=Nn(M2),R2={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},O2={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},D2={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function L2(e){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(e):(e=D2[e])?!!n[e]:!1}function Nd(){return L2}var F2=y({},wl,{key:function(e){if(e.key){var n=R2[e.key]||e.key;if(n!=="Unidentified")return n}return e.type==="keypress"?(e=ec(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?O2[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Nd,charCode:function(e){return e.type==="keypress"?ec(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?ec(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),U2=Nn(F2),B2=y({},rc,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),$0=Nn(B2),$2=y({},wl,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Nd}),H2=Nn($2),P2=y({},Si,{propertyName:0,elapsedTime:0,pseudoElement:0}),q2=Nn(P2),I2=y({},rc,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Y2=Nn(I2),Q2=y({},Si,{newState:0,oldState:0}),G2=Nn(Q2),Z2=[9,13,27,32],Cd=Zr&&"CompositionEvent"in window,Sl=null;Zr&&"documentMode"in document&&(Sl=document.documentMode);var K2=Zr&&"TextEvent"in window&&!Sl,H0=Zr&&(!Cd||Sl&&8<Sl&&11>=Sl),P0=" ",q0=!1;function I0(e,n){switch(e){case"keyup":return Z2.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Y0(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var ys=!1;function X2(e,n){switch(e){case"compositionend":return Y0(n);case"keypress":return n.which!==32?null:(q0=!0,P0);case"textInput":return e=n.data,e===P0&&q0?null:e;default:return null}}function V2(e,n){if(ys)return e==="compositionend"||!Cd&&I0(e,n)?(e=L0(),Jo=zd=Aa=null,ys=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return H0&&n.locale!=="ko"?null:n.data;default:return null}}var W2={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Q0(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n==="input"?!!W2[e.type]:n==="textarea"}function G0(e,n,i,l){bs?vs?vs.push(l):vs=[l]:bs=l,n=Qc(n,"onChange"),0<n.length&&(i=new nc("onChange","change",null,i,l),e.push({event:i,listeners:n}))}var zl=null,kl=null;function J2(e){Cb(e,0)}function ac(e){var n=Na(e);if(N0(n))return e}function Z0(e,n){if(e==="change")return n}var K0=!1;if(Zr){var Ad;if(Zr){var Td="oninput"in document;if(!Td){var X0=document.createElement("div");X0.setAttribute("oninput","return;"),Td=typeof X0.oninput=="function"}Ad=Td}else Ad=!1;K0=Ad&&(!document.documentMode||9<document.documentMode)}function V0(){zl&&(zl.detachEvent("onpropertychange",W0),kl=zl=null)}function W0(e){if(e.propertyName==="value"&&ac(kl)){var n=[];G0(n,kl,e,wd(e)),D0(J2,n)}}function ew(e,n,i){e==="focusin"?(V0(),zl=n,kl=i,zl.attachEvent("onpropertychange",W0)):e==="focusout"&&V0()}function tw(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return ac(kl)}function nw(e,n){if(e==="click")return ac(n)}function rw(e,n){if(e==="input"||e==="change")return ac(n)}function aw(e,n){return e===n&&(e!==0||1/e===1/n)||e!==e&&n!==n}var $n=typeof Object.is=="function"?Object.is:aw;function El(e,n){if($n(e,n))return!0;if(typeof e!="object"||e===null||typeof n!="object"||n===null)return!1;var i=Object.keys(e),l=Object.keys(n);if(i.length!==l.length)return!1;for(l=0;l<i.length;l++){var m=i[l];if(!$.call(n,m)||!$n(e[m],n[m]))return!1}return!0}function J0(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function ep(e,n){var i=J0(e);e=0;for(var l;i;){if(i.nodeType===3){if(l=e+i.textContent.length,e<=n&&l>=n)return{node:i,offset:n-e};e=l}e:{for(;i;){if(i.nextSibling){i=i.nextSibling;break e}i=i.parentNode}i=void 0}i=J0(i)}}function tp(e,n){return e&&n?e===n?!0:e&&e.nodeType===3?!1:n&&n.nodeType===3?tp(e,n.parentNode):"contains"in e?e.contains(n):e.compareDocumentPosition?!!(e.compareDocumentPosition(n)&16):!1:!1}function np(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var n=Vo(e.document);n instanceof e.HTMLIFrameElement;){try{var i=typeof n.contentWindow.location.href=="string"}catch{i=!1}if(i)e=n.contentWindow;else break;n=Vo(e.document)}return n}function Md(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n&&(n==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||n==="textarea"||e.contentEditable==="true")}var iw=Zr&&"documentMode"in document&&11>=document.documentMode,xs=null,Rd=null,jl=null,Od=!1;function rp(e,n,i){var l=i.window===i?i.document:i.nodeType===9?i:i.ownerDocument;Od||xs==null||xs!==Vo(l)||(l=xs,"selectionStart"in l&&Md(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),jl&&El(jl,l)||(jl=l,l=Qc(Rd,"onSelect"),0<l.length&&(n=new nc("onSelect","select",null,n,i),e.push({event:n,listeners:l}),n.target=xs)))}function zi(e,n){var i={};return i[e.toLowerCase()]=n.toLowerCase(),i["Webkit"+e]="webkit"+n,i["Moz"+e]="moz"+n,i}var ws={animationend:zi("Animation","AnimationEnd"),animationiteration:zi("Animation","AnimationIteration"),animationstart:zi("Animation","AnimationStart"),transitionrun:zi("Transition","TransitionRun"),transitionstart:zi("Transition","TransitionStart"),transitioncancel:zi("Transition","TransitionCancel"),transitionend:zi("Transition","TransitionEnd")},Dd={},ap={};Zr&&(ap=document.createElement("div").style,"AnimationEvent"in window||(delete ws.animationend.animation,delete ws.animationiteration.animation,delete ws.animationstart.animation),"TransitionEvent"in window||delete ws.transitionend.transition);function ki(e){if(Dd[e])return Dd[e];if(!ws[e])return e;var n=ws[e],i;for(i in n)if(n.hasOwnProperty(i)&&i in ap)return Dd[e]=n[i];return e}var ip=ki("animationend"),sp=ki("animationiteration"),lp=ki("animationstart"),sw=ki("transitionrun"),lw=ki("transitionstart"),ow=ki("transitioncancel"),op=ki("transitionend"),cp=new Map,Ld="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Ld.push("scrollEnd");function dr(e,n){cp.set(e,n),ut(n,[e])}var ic=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},Vn=[],_s=0,Fd=0;function sc(){for(var e=_s,n=Fd=_s=0;n<e;){var i=Vn[n];Vn[n++]=null;var l=Vn[n];Vn[n++]=null;var m=Vn[n];Vn[n++]=null;var g=Vn[n];if(Vn[n++]=null,l!==null&&m!==null){var N=l.pending;N===null?m.next=m:(m.next=N.next,N.next=m),l.pending=m}g!==0&&up(i,m,g)}}function lc(e,n,i,l){Vn[_s++]=e,Vn[_s++]=n,Vn[_s++]=i,Vn[_s++]=l,Fd|=l,e.lanes|=l,e=e.alternate,e!==null&&(e.lanes|=l)}function Ud(e,n,i,l){return lc(e,n,i,l),oc(e)}function Ei(e,n){return lc(e,null,null,n),oc(e)}function up(e,n,i){e.lanes|=i;var l=e.alternate;l!==null&&(l.lanes|=i);for(var m=!1,g=e.return;g!==null;)g.childLanes|=i,l=g.alternate,l!==null&&(l.childLanes|=i),g.tag===22&&(e=g.stateNode,e===null||e._visibility&1||(m=!0)),e=g,g=g.return;return e.tag===3?(g=e.stateNode,m&&n!==null&&(m=31-Pe(i),e=g.hiddenUpdates,l=e[m],l===null?e[m]=[n]:l.push(n),n.lane=i|536870912),g):null}function oc(e){if(50<Kl)throw Kl=0,Zf=null,Error(s(185));for(var n=e.return;n!==null;)e=n,n=e.return;return e.tag===3?e.stateNode:null}var Ss={};function cw(e,n,i,l){this.tag=e,this.key=i,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Hn(e,n,i,l){return new cw(e,n,i,l)}function Bd(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Kr(e,n){var i=e.alternate;return i===null?(i=Hn(e.tag,n,e.key,e.mode),i.elementType=e.elementType,i.type=e.type,i.stateNode=e.stateNode,i.alternate=e,e.alternate=i):(i.pendingProps=n,i.type=e.type,i.flags=0,i.subtreeFlags=0,i.deletions=null),i.flags=e.flags&65011712,i.childLanes=e.childLanes,i.lanes=e.lanes,i.child=e.child,i.memoizedProps=e.memoizedProps,i.memoizedState=e.memoizedState,i.updateQueue=e.updateQueue,n=e.dependencies,i.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},i.sibling=e.sibling,i.index=e.index,i.ref=e.ref,i.refCleanup=e.refCleanup,i}function dp(e,n){e.flags&=65011714;var i=e.alternate;return i===null?(e.childLanes=0,e.lanes=n,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=i.childLanes,e.lanes=i.lanes,e.child=i.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=i.memoizedProps,e.memoizedState=i.memoizedState,e.updateQueue=i.updateQueue,e.type=i.type,n=i.dependencies,e.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),e}function cc(e,n,i,l,m,g){var N=0;if(l=e,typeof e=="function")Bd(e)&&(N=1);else if(typeof e=="string")N=m5(e,i,ie.current)?26:e==="html"||e==="head"||e==="body"?27:5;else e:switch(e){case P:return e=Hn(31,i,n,m),e.elementType=P,e.lanes=g,e;case _:return ji(i.children,m,g,n);case z:N=8,m|=24;break;case k:return e=Hn(12,i,n,m|2),e.elementType=k,e.lanes=g,e;case O:return e=Hn(13,i,n,m),e.elementType=O,e.lanes=g,e;case Q:return e=Hn(19,i,n,m),e.elementType=Q,e.lanes=g,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case M:N=10;break e;case C:N=9;break e;case A:N=11;break e;case B:N=14;break e;case Z:N=16,l=null;break e}N=29,i=Error(s(130,e===null?"null":typeof e,"")),l=null}return n=Hn(N,i,n,m),n.elementType=e,n.type=l,n.lanes=g,n}function ji(e,n,i,l){return e=Hn(7,e,l,n),e.lanes=i,e}function $d(e,n,i){return e=Hn(6,e,null,n),e.lanes=i,e}function fp(e){var n=Hn(18,null,null,0);return n.stateNode=e,n}function Hd(e,n,i){return n=Hn(4,e.children!==null?e.children:[],e.key,n),n.lanes=i,n.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},n}var hp=new WeakMap;function Wn(e,n){if(typeof e=="object"&&e!==null){var i=hp.get(e);return i!==void 0?i:(n={value:e,source:n,stack:H(n)},hp.set(e,n),n)}return{value:e,source:n,stack:H(n)}}var zs=[],ks=0,uc=null,Nl=0,Jn=[],er=0,Ta=null,kr=1,Er="";function Xr(e,n){zs[ks++]=Nl,zs[ks++]=uc,uc=e,Nl=n}function mp(e,n,i){Jn[er++]=kr,Jn[er++]=Er,Jn[er++]=Ta,Ta=e;var l=kr;e=Er;var m=32-Pe(l)-1;l&=~(1<<m),i+=1;var g=32-Pe(n)+m;if(30<g){var N=m-m%5;g=(l&(1<<N)-1).toString(32),l>>=N,m-=N,kr=1<<32-Pe(n)+m|i<<m|l,Er=g+e}else kr=1<<g|i<<m|l,Er=e}function Pd(e){e.return!==null&&(Xr(e,1),mp(e,1,0))}function qd(e){for(;e===uc;)uc=zs[--ks],zs[ks]=null,Nl=zs[--ks],zs[ks]=null;for(;e===Ta;)Ta=Jn[--er],Jn[er]=null,Er=Jn[--er],Jn[er]=null,kr=Jn[--er],Jn[er]=null}function pp(e,n){Jn[er++]=kr,Jn[er++]=Er,Jn[er++]=Ta,kr=n.id,Er=n.overflow,Ta=e}var dn=null,Bt=null,gt=!1,Ma=null,tr=!1,Id=Error(s(519));function Ra(e){var n=Error(s(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Cl(Wn(n,e)),Id}function gp(e){var n=e.stateNode,i=e.type,l=e.memoizedProps;switch(n[rn]=e,n[un]=l,i){case"dialog":ft("cancel",n),ft("close",n);break;case"iframe":case"object":case"embed":ft("load",n);break;case"video":case"audio":for(i=0;i<Vl.length;i++)ft(Vl[i],n);break;case"source":ft("error",n);break;case"img":case"image":case"link":ft("error",n),ft("load",n);break;case"details":ft("toggle",n);break;case"input":ft("invalid",n),C0(n,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0);break;case"select":ft("invalid",n);break;case"textarea":ft("invalid",n),T0(n,l.value,l.defaultValue,l.children)}i=l.children,typeof i!="string"&&typeof i!="number"&&typeof i!="bigint"||n.textContent===""+i||l.suppressHydrationWarning===!0||Rb(n.textContent,i)?(l.popover!=null&&(ft("beforetoggle",n),ft("toggle",n)),l.onScroll!=null&&ft("scroll",n),l.onScrollEnd!=null&&ft("scrollend",n),l.onClick!=null&&(n.onclick=Gr),n=!0):n=!1,n||Ra(e,!0)}function bp(e){for(dn=e.return;dn;)switch(dn.tag){case 5:case 31:case 13:tr=!1;return;case 27:case 3:tr=!0;return;default:dn=dn.return}}function Es(e){if(e!==dn)return!1;if(!gt)return bp(e),gt=!0,!1;var n=e.tag,i;if((i=n!==3&&n!==27)&&((i=n===5)&&(i=e.type,i=!(i!=="form"&&i!=="button")||ch(e.type,e.memoizedProps)),i=!i),i&&Bt&&Ra(e),bp(e),n===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(s(317));Bt=Pb(e)}else if(n===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(s(317));Bt=Pb(e)}else n===27?(n=Bt,Ga(e.type)?(e=mh,mh=null,Bt=e):Bt=n):Bt=dn?rr(e.stateNode.nextSibling):null;return!0}function Ni(){Bt=dn=null,gt=!1}function Yd(){var e=Ma;return e!==null&&(Mn===null?Mn=e:Mn.push.apply(Mn,e),Ma=null),e}function Cl(e){Ma===null?Ma=[e]:Ma.push(e)}var Qd=R(null),Ci=null,Vr=null;function Oa(e,n,i){ee(Qd,n._currentValue),n._currentValue=i}function Wr(e){e._currentValue=Qd.current,F(Qd)}function Gd(e,n,i){for(;e!==null;){var l=e.alternate;if((e.childLanes&n)!==n?(e.childLanes|=n,l!==null&&(l.childLanes|=n)):l!==null&&(l.childLanes&n)!==n&&(l.childLanes|=n),e===i)break;e=e.return}}function Zd(e,n,i,l){var m=e.child;for(m!==null&&(m.return=e);m!==null;){var g=m.dependencies;if(g!==null){var N=m.child;g=g.firstContext;e:for(;g!==null;){var L=g;g=m;for(var V=0;V<n.length;V++)if(L.context===n[V]){g.lanes|=i,L=g.alternate,L!==null&&(L.lanes|=i),Gd(g.return,i,e),l||(N=null);break e}g=L.next}}else if(m.tag===18){if(N=m.return,N===null)throw Error(s(341));N.lanes|=i,g=N.alternate,g!==null&&(g.lanes|=i),Gd(N,i,e),N=null}else N=m.child;if(N!==null)N.return=m;else for(N=m;N!==null;){if(N===e){N=null;break}if(m=N.sibling,m!==null){m.return=N.return,N=m;break}N=N.return}m=N}}function js(e,n,i,l){e=null;for(var m=n,g=!1;m!==null;){if(!g){if((m.flags&524288)!==0)g=!0;else if((m.flags&262144)!==0)break}if(m.tag===10){var N=m.alternate;if(N===null)throw Error(s(387));if(N=N.memoizedProps,N!==null){var L=m.type;$n(m.pendingProps.value,N.value)||(e!==null?e.push(L):e=[L])}}else if(m===re.current){if(N=m.alternate,N===null)throw Error(s(387));N.memoizedState.memoizedState!==m.memoizedState.memoizedState&&(e!==null?e.push(no):e=[no])}m=m.return}e!==null&&Zd(n,e,i,l),n.flags|=262144}function dc(e){for(e=e.firstContext;e!==null;){if(!$n(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function Ai(e){Ci=e,Vr=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function fn(e){return vp(Ci,e)}function fc(e,n){return Ci===null&&Ai(e),vp(e,n)}function vp(e,n){var i=n._currentValue;if(n={context:n,memoizedValue:i,next:null},Vr===null){if(e===null)throw Error(s(308));Vr=n,e.dependencies={lanes:0,firstContext:n},e.flags|=524288}else Vr=Vr.next=n;return i}var uw=typeof AbortController<"u"?AbortController:function(){var e=[],n=this.signal={aborted:!1,addEventListener:function(i,l){e.push(l)}};this.abort=function(){n.aborted=!0,e.forEach(function(i){return i()})}},dw=t.unstable_scheduleCallback,fw=t.unstable_NormalPriority,Wt={$$typeof:M,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Kd(){return{controller:new uw,data:new Map,refCount:0}}function Al(e){e.refCount--,e.refCount===0&&dw(fw,function(){e.controller.abort()})}var Tl=null,Xd=0,Ns=0,Cs=null;function hw(e,n){if(Tl===null){var i=Tl=[];Xd=0,Ns=eh(),Cs={status:"pending",value:void 0,then:function(l){i.push(l)}}}return Xd++,n.then(yp,yp),n}function yp(){if(--Xd===0&&Tl!==null){Cs!==null&&(Cs.status="fulfilled");var e=Tl;Tl=null,Ns=0,Cs=null;for(var n=0;n<e.length;n++)(0,e[n])()}}function mw(e,n){var i=[],l={status:"pending",value:null,reason:null,then:function(m){i.push(m)}};return e.then(function(){l.status="fulfilled",l.value=n;for(var m=0;m<i.length;m++)(0,i[m])(n)},function(m){for(l.status="rejected",l.reason=m,m=0;m<i.length;m++)(0,i[m])(void 0)}),l}var xp=K.S;K.S=function(e,n){rb=ve(),typeof n=="object"&&n!==null&&typeof n.then=="function"&&hw(e,n),xp!==null&&xp(e,n)};var Ti=R(null);function Vd(){var e=Ti.current;return e!==null?e:Rt.pooledCache}function hc(e,n){n===null?ee(Ti,Ti.current):ee(Ti,n.pool)}function wp(){var e=Vd();return e===null?null:{parent:Wt._currentValue,pool:e}}var As=Error(s(460)),Wd=Error(s(474)),mc=Error(s(542)),pc={then:function(){}};function _p(e){return e=e.status,e==="fulfilled"||e==="rejected"}function Sp(e,n,i){switch(i=e[i],i===void 0?e.push(n):i!==n&&(n.then(Gr,Gr),n=i),n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,kp(e),e;default:if(typeof n.status=="string")n.then(Gr,Gr);else{if(e=Rt,e!==null&&100<e.shellSuspendCounter)throw Error(s(482));e=n,e.status="pending",e.then(function(l){if(n.status==="pending"){var m=n;m.status="fulfilled",m.value=l}},function(l){if(n.status==="pending"){var m=n;m.status="rejected",m.reason=l}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,kp(e),e}throw Ri=n,As}}function Mi(e){try{var n=e._init;return n(e._payload)}catch(i){throw i!==null&&typeof i=="object"&&typeof i.then=="function"?(Ri=i,As):i}}var Ri=null;function zp(){if(Ri===null)throw Error(s(459));var e=Ri;return Ri=null,e}function kp(e){if(e===As||e===mc)throw Error(s(483))}var Ts=null,Ml=0;function gc(e){var n=Ml;return Ml+=1,Ts===null&&(Ts=[]),Sp(Ts,e,n)}function Rl(e,n){n=n.props.ref,e.ref=n!==void 0?n:null}function bc(e,n){throw n.$$typeof===w?Error(s(525)):(e=Object.prototype.toString.call(n),Error(s(31,e==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":e)))}function Ep(e){function n(le,ne){if(e){var me=le.deletions;me===null?(le.deletions=[ne],le.flags|=16):me.push(ne)}}function i(le,ne){if(!e)return null;for(;ne!==null;)n(le,ne),ne=ne.sibling;return null}function l(le){for(var ne=new Map;le!==null;)le.key!==null?ne.set(le.key,le):ne.set(le.index,le),le=le.sibling;return ne}function m(le,ne){return le=Kr(le,ne),le.index=0,le.sibling=null,le}function g(le,ne,me){return le.index=me,e?(me=le.alternate,me!==null?(me=me.index,me<ne?(le.flags|=67108866,ne):me):(le.flags|=67108866,ne)):(le.flags|=1048576,ne)}function N(le){return e&&le.alternate===null&&(le.flags|=67108866),le}function L(le,ne,me,Ne){return ne===null||ne.tag!==6?(ne=$d(me,le.mode,Ne),ne.return=le,ne):(ne=m(ne,me),ne.return=le,ne)}function V(le,ne,me,Ne){var We=me.type;return We===_?Se(le,ne,me.props.children,Ne,me.key):ne!==null&&(ne.elementType===We||typeof We=="object"&&We!==null&&We.$$typeof===Z&&Mi(We)===ne.type)?(ne=m(ne,me.props),Rl(ne,me),ne.return=le,ne):(ne=cc(me.type,me.key,me.props,null,le.mode,Ne),Rl(ne,me),ne.return=le,ne)}function pe(le,ne,me,Ne){return ne===null||ne.tag!==4||ne.stateNode.containerInfo!==me.containerInfo||ne.stateNode.implementation!==me.implementation?(ne=Hd(me,le.mode,Ne),ne.return=le,ne):(ne=m(ne,me.children||[]),ne.return=le,ne)}function Se(le,ne,me,Ne,We){return ne===null||ne.tag!==7?(ne=ji(me,le.mode,Ne,We),ne.return=le,ne):(ne=m(ne,me),ne.return=le,ne)}function Ce(le,ne,me){if(typeof ne=="string"&&ne!==""||typeof ne=="number"||typeof ne=="bigint")return ne=$d(""+ne,le.mode,me),ne.return=le,ne;if(typeof ne=="object"&&ne!==null){switch(ne.$$typeof){case x:return me=cc(ne.type,ne.key,ne.props,null,le.mode,me),Rl(me,ne),me.return=le,me;case j:return ne=Hd(ne,le.mode,me),ne.return=le,ne;case Z:return ne=Mi(ne),Ce(le,ne,me)}if(W(ne)||T(ne))return ne=ji(ne,le.mode,me,null),ne.return=le,ne;if(typeof ne.then=="function")return Ce(le,gc(ne),me);if(ne.$$typeof===M)return Ce(le,fc(le,ne),me);bc(le,ne)}return null}function ge(le,ne,me,Ne){var We=ne!==null?ne.key:null;if(typeof me=="string"&&me!==""||typeof me=="number"||typeof me=="bigint")return We!==null?null:L(le,ne,""+me,Ne);if(typeof me=="object"&&me!==null){switch(me.$$typeof){case x:return me.key===We?V(le,ne,me,Ne):null;case j:return me.key===We?pe(le,ne,me,Ne):null;case Z:return me=Mi(me),ge(le,ne,me,Ne)}if(W(me)||T(me))return We!==null?null:Se(le,ne,me,Ne,null);if(typeof me.then=="function")return ge(le,ne,gc(me),Ne);if(me.$$typeof===M)return ge(le,ne,fc(le,me),Ne);bc(le,me)}return null}function ye(le,ne,me,Ne,We){if(typeof Ne=="string"&&Ne!==""||typeof Ne=="number"||typeof Ne=="bigint")return le=le.get(me)||null,L(ne,le,""+Ne,We);if(typeof Ne=="object"&&Ne!==null){switch(Ne.$$typeof){case x:return le=le.get(Ne.key===null?me:Ne.key)||null,V(ne,le,Ne,We);case j:return le=le.get(Ne.key===null?me:Ne.key)||null,pe(ne,le,Ne,We);case Z:return Ne=Mi(Ne),ye(le,ne,me,Ne,We)}if(W(Ne)||T(Ne))return le=le.get(me)||null,Se(ne,le,Ne,We,null);if(typeof Ne.then=="function")return ye(le,ne,me,gc(Ne),We);if(Ne.$$typeof===M)return ye(le,ne,me,fc(ne,Ne),We);bc(ne,Ne)}return null}function Ie(le,ne,me,Ne){for(var We=null,St=null,Ye=ne,ct=ne=0,pt=null;Ye!==null&&ct<me.length;ct++){Ye.index>ct?(pt=Ye,Ye=null):pt=Ye.sibling;var zt=ge(le,Ye,me[ct],Ne);if(zt===null){Ye===null&&(Ye=pt);break}e&&Ye&&zt.alternate===null&&n(le,Ye),ne=g(zt,ne,ct),St===null?We=zt:St.sibling=zt,St=zt,Ye=pt}if(ct===me.length)return i(le,Ye),gt&&Xr(le,ct),We;if(Ye===null){for(;ct<me.length;ct++)Ye=Ce(le,me[ct],Ne),Ye!==null&&(ne=g(Ye,ne,ct),St===null?We=Ye:St.sibling=Ye,St=Ye);return gt&&Xr(le,ct),We}for(Ye=l(Ye);ct<me.length;ct++)pt=ye(Ye,le,ct,me[ct],Ne),pt!==null&&(e&&pt.alternate!==null&&Ye.delete(pt.key===null?ct:pt.key),ne=g(pt,ne,ct),St===null?We=pt:St.sibling=pt,St=pt);return e&&Ye.forEach(function(Wa){return n(le,Wa)}),gt&&Xr(le,ct),We}function et(le,ne,me,Ne){if(me==null)throw Error(s(151));for(var We=null,St=null,Ye=ne,ct=ne=0,pt=null,zt=me.next();Ye!==null&&!zt.done;ct++,zt=me.next()){Ye.index>ct?(pt=Ye,Ye=null):pt=Ye.sibling;var Wa=ge(le,Ye,zt.value,Ne);if(Wa===null){Ye===null&&(Ye=pt);break}e&&Ye&&Wa.alternate===null&&n(le,Ye),ne=g(Wa,ne,ct),St===null?We=Wa:St.sibling=Wa,St=Wa,Ye=pt}if(zt.done)return i(le,Ye),gt&&Xr(le,ct),We;if(Ye===null){for(;!zt.done;ct++,zt=me.next())zt=Ce(le,zt.value,Ne),zt!==null&&(ne=g(zt,ne,ct),St===null?We=zt:St.sibling=zt,St=zt);return gt&&Xr(le,ct),We}for(Ye=l(Ye);!zt.done;ct++,zt=me.next())zt=ye(Ye,le,ct,zt.value,Ne),zt!==null&&(e&&zt.alternate!==null&&Ye.delete(zt.key===null?ct:zt.key),ne=g(zt,ne,ct),St===null?We=zt:St.sibling=zt,St=zt);return e&&Ye.forEach(function(k5){return n(le,k5)}),gt&&Xr(le,ct),We}function Mt(le,ne,me,Ne){if(typeof me=="object"&&me!==null&&me.type===_&&me.key===null&&(me=me.props.children),typeof me=="object"&&me!==null){switch(me.$$typeof){case x:e:{for(var We=me.key;ne!==null;){if(ne.key===We){if(We=me.type,We===_){if(ne.tag===7){i(le,ne.sibling),Ne=m(ne,me.props.children),Ne.return=le,le=Ne;break e}}else if(ne.elementType===We||typeof We=="object"&&We!==null&&We.$$typeof===Z&&Mi(We)===ne.type){i(le,ne.sibling),Ne=m(ne,me.props),Rl(Ne,me),Ne.return=le,le=Ne;break e}i(le,ne);break}else n(le,ne);ne=ne.sibling}me.type===_?(Ne=ji(me.props.children,le.mode,Ne,me.key),Ne.return=le,le=Ne):(Ne=cc(me.type,me.key,me.props,null,le.mode,Ne),Rl(Ne,me),Ne.return=le,le=Ne)}return N(le);case j:e:{for(We=me.key;ne!==null;){if(ne.key===We)if(ne.tag===4&&ne.stateNode.containerInfo===me.containerInfo&&ne.stateNode.implementation===me.implementation){i(le,ne.sibling),Ne=m(ne,me.children||[]),Ne.return=le,le=Ne;break e}else{i(le,ne);break}else n(le,ne);ne=ne.sibling}Ne=Hd(me,le.mode,Ne),Ne.return=le,le=Ne}return N(le);case Z:return me=Mi(me),Mt(le,ne,me,Ne)}if(W(me))return Ie(le,ne,me,Ne);if(T(me)){if(We=T(me),typeof We!="function")throw Error(s(150));return me=We.call(me),et(le,ne,me,Ne)}if(typeof me.then=="function")return Mt(le,ne,gc(me),Ne);if(me.$$typeof===M)return Mt(le,ne,fc(le,me),Ne);bc(le,me)}return typeof me=="string"&&me!==""||typeof me=="number"||typeof me=="bigint"?(me=""+me,ne!==null&&ne.tag===6?(i(le,ne.sibling),Ne=m(ne,me),Ne.return=le,le=Ne):(i(le,ne),Ne=$d(me,le.mode,Ne),Ne.return=le,le=Ne),N(le)):i(le,ne)}return function(le,ne,me,Ne){try{Ml=0;var We=Mt(le,ne,me,Ne);return Ts=null,We}catch(Ye){if(Ye===As||Ye===mc)throw Ye;var St=Hn(29,Ye,null,le.mode);return St.lanes=Ne,St.return=le,St}finally{}}}var Oi=Ep(!0),jp=Ep(!1),Da=!1;function Jd(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function ef(e,n){e=e.updateQueue,n.updateQueue===e&&(n.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function La(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function Fa(e,n,i){var l=e.updateQueue;if(l===null)return null;if(l=l.shared,(kt&2)!==0){var m=l.pending;return m===null?n.next=n:(n.next=m.next,m.next=n),l.pending=n,n=oc(e),up(e,null,i),n}return lc(e,l,n,i),oc(e)}function Ol(e,n,i){if(n=n.updateQueue,n!==null&&(n=n.shared,(i&4194048)!==0)){var l=n.lanes;l&=e.pendingLanes,i|=l,n.lanes=i,st(e,i)}}function tf(e,n){var i=e.updateQueue,l=e.alternate;if(l!==null&&(l=l.updateQueue,i===l)){var m=null,g=null;if(i=i.firstBaseUpdate,i!==null){do{var N={lane:i.lane,tag:i.tag,payload:i.payload,callback:null,next:null};g===null?m=g=N:g=g.next=N,i=i.next}while(i!==null);g===null?m=g=n:g=g.next=n}else m=g=n;i={baseState:l.baseState,firstBaseUpdate:m,lastBaseUpdate:g,shared:l.shared,callbacks:l.callbacks},e.updateQueue=i;return}e=i.lastBaseUpdate,e===null?i.firstBaseUpdate=n:e.next=n,i.lastBaseUpdate=n}var nf=!1;function Dl(){if(nf){var e=Cs;if(e!==null)throw e}}function Ll(e,n,i,l){nf=!1;var m=e.updateQueue;Da=!1;var g=m.firstBaseUpdate,N=m.lastBaseUpdate,L=m.shared.pending;if(L!==null){m.shared.pending=null;var V=L,pe=V.next;V.next=null,N===null?g=pe:N.next=pe,N=V;var Se=e.alternate;Se!==null&&(Se=Se.updateQueue,L=Se.lastBaseUpdate,L!==N&&(L===null?Se.firstBaseUpdate=pe:L.next=pe,Se.lastBaseUpdate=V))}if(g!==null){var Ce=m.baseState;N=0,Se=pe=V=null,L=g;do{var ge=L.lane&-536870913,ye=ge!==L.lane;if(ye?(mt&ge)===ge:(l&ge)===ge){ge!==0&&ge===Ns&&(nf=!0),Se!==null&&(Se=Se.next={lane:0,tag:L.tag,payload:L.payload,callback:null,next:null});e:{var Ie=e,et=L;ge=n;var Mt=i;switch(et.tag){case 1:if(Ie=et.payload,typeof Ie=="function"){Ce=Ie.call(Mt,Ce,ge);break e}Ce=Ie;break e;case 3:Ie.flags=Ie.flags&-65537|128;case 0:if(Ie=et.payload,ge=typeof Ie=="function"?Ie.call(Mt,Ce,ge):Ie,ge==null)break e;Ce=y({},Ce,ge);break e;case 2:Da=!0}}ge=L.callback,ge!==null&&(e.flags|=64,ye&&(e.flags|=8192),ye=m.callbacks,ye===null?m.callbacks=[ge]:ye.push(ge))}else ye={lane:ge,tag:L.tag,payload:L.payload,callback:L.callback,next:null},Se===null?(pe=Se=ye,V=Ce):Se=Se.next=ye,N|=ge;if(L=L.next,L===null){if(L=m.shared.pending,L===null)break;ye=L,L=ye.next,ye.next=null,m.lastBaseUpdate=ye,m.shared.pending=null}}while(!0);Se===null&&(V=Ce),m.baseState=V,m.firstBaseUpdate=pe,m.lastBaseUpdate=Se,g===null&&(m.shared.lanes=0),Pa|=N,e.lanes=N,e.memoizedState=Ce}}function Np(e,n){if(typeof e!="function")throw Error(s(191,e));e.call(n)}function Cp(e,n){var i=e.callbacks;if(i!==null)for(e.callbacks=null,e=0;e<i.length;e++)Np(i[e],n)}var Ms=R(null),vc=R(0);function Ap(e,n){e=la,ee(vc,e),ee(Ms,n),la=e|n.baseLanes}function rf(){ee(vc,la),ee(Ms,Ms.current)}function af(){la=vc.current,F(Ms),F(vc)}var Pn=R(null),nr=null;function Ua(e){var n=e.alternate;ee(Kt,Kt.current&1),ee(Pn,e),nr===null&&(n===null||Ms.current!==null||n.memoizedState!==null)&&(nr=e)}function sf(e){ee(Kt,Kt.current),ee(Pn,e),nr===null&&(nr=e)}function Tp(e){e.tag===22?(ee(Kt,Kt.current),ee(Pn,e),nr===null&&(nr=e)):Ba()}function Ba(){ee(Kt,Kt.current),ee(Pn,Pn.current)}function qn(e){F(Pn),nr===e&&(nr=null),F(Kt)}var Kt=R(0);function yc(e){for(var n=e;n!==null;){if(n.tag===13){var i=n.memoizedState;if(i!==null&&(i=i.dehydrated,i===null||fh(i)||hh(i)))return n}else if(n.tag===19&&(n.memoizedProps.revealOrder==="forwards"||n.memoizedProps.revealOrder==="backwards"||n.memoizedProps.revealOrder==="unstable_legacy-backwards"||n.memoizedProps.revealOrder==="together")){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var Jr=0,lt=null,At=null,Jt=null,xc=!1,Rs=!1,Di=!1,wc=0,Fl=0,Os=null,pw=0;function It(){throw Error(s(321))}function lf(e,n){if(n===null)return!1;for(var i=0;i<n.length&&i<e.length;i++)if(!$n(e[i],n[i]))return!1;return!0}function of(e,n,i,l,m,g){return Jr=g,lt=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,K.H=e===null||e.memoizedState===null?mg:Sf,Di=!1,g=i(l,m),Di=!1,Rs&&(g=Rp(n,i,l,m)),Mp(e),g}function Mp(e){K.H=$l;var n=At!==null&&At.next!==null;if(Jr=0,Jt=At=lt=null,xc=!1,Fl=0,Os=null,n)throw Error(s(300));e===null||en||(e=e.dependencies,e!==null&&dc(e)&&(en=!0))}function Rp(e,n,i,l){lt=e;var m=0;do{if(Rs&&(Os=null),Fl=0,Rs=!1,25<=m)throw Error(s(301));if(m+=1,Jt=At=null,e.updateQueue!=null){var g=e.updateQueue;g.lastEffect=null,g.events=null,g.stores=null,g.memoCache!=null&&(g.memoCache.index=0)}K.H=pg,g=n(i,l)}while(Rs);return g}function gw(){var e=K.H,n=e.useState()[0];return n=typeof n.then=="function"?Ul(n):n,e=e.useState()[0],(At!==null?At.memoizedState:null)!==e&&(lt.flags|=1024),n}function cf(){var e=wc!==0;return wc=0,e}function uf(e,n,i){n.updateQueue=e.updateQueue,n.flags&=-2053,e.lanes&=~i}function df(e){if(xc){for(e=e.memoizedState;e!==null;){var n=e.queue;n!==null&&(n.pending=null),e=e.next}xc=!1}Jr=0,Jt=At=lt=null,Rs=!1,Fl=wc=0,Os=null}function _n(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Jt===null?lt.memoizedState=Jt=e:Jt=Jt.next=e,Jt}function Xt(){if(At===null){var e=lt.alternate;e=e!==null?e.memoizedState:null}else e=At.next;var n=Jt===null?lt.memoizedState:Jt.next;if(n!==null)Jt=n,At=e;else{if(e===null)throw lt.alternate===null?Error(s(467)):Error(s(310));At=e,e={memoizedState:At.memoizedState,baseState:At.baseState,baseQueue:At.baseQueue,queue:At.queue,next:null},Jt===null?lt.memoizedState=Jt=e:Jt=Jt.next=e}return Jt}function _c(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Ul(e){var n=Fl;return Fl+=1,Os===null&&(Os=[]),e=Sp(Os,e,n),n=lt,(Jt===null?n.memoizedState:Jt.next)===null&&(n=n.alternate,K.H=n===null||n.memoizedState===null?mg:Sf),e}function Sc(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return Ul(e);if(e.$$typeof===M)return fn(e)}throw Error(s(438,String(e)))}function ff(e){var n=null,i=lt.updateQueue;if(i!==null&&(n=i.memoCache),n==null){var l=lt.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(n={data:l.data.map(function(m){return m.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),i===null&&(i=_c(),lt.updateQueue=i),i.memoCache=n,i=n.data[n.index],i===void 0)for(i=n.data[n.index]=Array(e),l=0;l<e;l++)i[l]=D;return n.index++,i}function ea(e,n){return typeof n=="function"?n(e):n}function zc(e){var n=Xt();return hf(n,At,e)}function hf(e,n,i){var l=e.queue;if(l===null)throw Error(s(311));l.lastRenderedReducer=i;var m=e.baseQueue,g=l.pending;if(g!==null){if(m!==null){var N=m.next;m.next=g.next,g.next=N}n.baseQueue=m=g,l.pending=null}if(g=e.baseState,m===null)e.memoizedState=g;else{n=m.next;var L=N=null,V=null,pe=n,Se=!1;do{var Ce=pe.lane&-536870913;if(Ce!==pe.lane?(mt&Ce)===Ce:(Jr&Ce)===Ce){var ge=pe.revertLane;if(ge===0)V!==null&&(V=V.next={lane:0,revertLane:0,gesture:null,action:pe.action,hasEagerState:pe.hasEagerState,eagerState:pe.eagerState,next:null}),Ce===Ns&&(Se=!0);else if((Jr&ge)===ge){pe=pe.next,ge===Ns&&(Se=!0);continue}else Ce={lane:0,revertLane:pe.revertLane,gesture:null,action:pe.action,hasEagerState:pe.hasEagerState,eagerState:pe.eagerState,next:null},V===null?(L=V=Ce,N=g):V=V.next=Ce,lt.lanes|=ge,Pa|=ge;Ce=pe.action,Di&&i(g,Ce),g=pe.hasEagerState?pe.eagerState:i(g,Ce)}else ge={lane:Ce,revertLane:pe.revertLane,gesture:pe.gesture,action:pe.action,hasEagerState:pe.hasEagerState,eagerState:pe.eagerState,next:null},V===null?(L=V=ge,N=g):V=V.next=ge,lt.lanes|=Ce,Pa|=Ce;pe=pe.next}while(pe!==null&&pe!==n);if(V===null?N=g:V.next=L,!$n(g,e.memoizedState)&&(en=!0,Se&&(i=Cs,i!==null)))throw i;e.memoizedState=g,e.baseState=N,e.baseQueue=V,l.lastRenderedState=g}return m===null&&(l.lanes=0),[e.memoizedState,l.dispatch]}function mf(e){var n=Xt(),i=n.queue;if(i===null)throw Error(s(311));i.lastRenderedReducer=e;var l=i.dispatch,m=i.pending,g=n.memoizedState;if(m!==null){i.pending=null;var N=m=m.next;do g=e(g,N.action),N=N.next;while(N!==m);$n(g,n.memoizedState)||(en=!0),n.memoizedState=g,n.baseQueue===null&&(n.baseState=g),i.lastRenderedState=g}return[g,l]}function Op(e,n,i){var l=lt,m=Xt(),g=gt;if(g){if(i===void 0)throw Error(s(407));i=i()}else i=n();var N=!$n((At||m).memoizedState,i);if(N&&(m.memoizedState=i,en=!0),m=m.queue,bf(Fp.bind(null,l,m,e),[e]),m.getSnapshot!==n||N||Jt!==null&&Jt.memoizedState.tag&1){if(l.flags|=2048,Ds(9,{destroy:void 0},Lp.bind(null,l,m,i,n),null),Rt===null)throw Error(s(349));g||(Jr&127)!==0||Dp(l,n,i)}return i}function Dp(e,n,i){e.flags|=16384,e={getSnapshot:n,value:i},n=lt.updateQueue,n===null?(n=_c(),lt.updateQueue=n,n.stores=[e]):(i=n.stores,i===null?n.stores=[e]:i.push(e))}function Lp(e,n,i,l){n.value=i,n.getSnapshot=l,Up(n)&&Bp(e)}function Fp(e,n,i){return i(function(){Up(n)&&Bp(e)})}function Up(e){var n=e.getSnapshot;e=e.value;try{var i=n();return!$n(e,i)}catch{return!0}}function Bp(e){var n=Ei(e,2);n!==null&&Rn(n,e,2)}function pf(e){var n=_n();if(typeof e=="function"){var i=e;if(e=i(),Di){vt(!0);try{i()}finally{vt(!1)}}}return n.memoizedState=n.baseState=e,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ea,lastRenderedState:e},n}function $p(e,n,i,l){return e.baseState=i,hf(e,At,typeof l=="function"?l:ea)}function bw(e,n,i,l,m){if(jc(e))throw Error(s(485));if(e=n.action,e!==null){var g={payload:m,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(N){g.listeners.push(N)}};K.T!==null?i(!0):g.isTransition=!1,l(g),i=n.pending,i===null?(g.next=n.pending=g,Hp(n,g)):(g.next=i.next,n.pending=i.next=g)}}function Hp(e,n){var i=n.action,l=n.payload,m=e.state;if(n.isTransition){var g=K.T,N={};K.T=N;try{var L=i(m,l),V=K.S;V!==null&&V(N,L),Pp(e,n,L)}catch(pe){gf(e,n,pe)}finally{g!==null&&N.types!==null&&(g.types=N.types),K.T=g}}else try{g=i(m,l),Pp(e,n,g)}catch(pe){gf(e,n,pe)}}function Pp(e,n,i){i!==null&&typeof i=="object"&&typeof i.then=="function"?i.then(function(l){qp(e,n,l)},function(l){return gf(e,n,l)}):qp(e,n,i)}function qp(e,n,i){n.status="fulfilled",n.value=i,Ip(n),e.state=i,n=e.pending,n!==null&&(i=n.next,i===n?e.pending=null:(i=i.next,n.next=i,Hp(e,i)))}function gf(e,n,i){var l=e.pending;if(e.pending=null,l!==null){l=l.next;do n.status="rejected",n.reason=i,Ip(n),n=n.next;while(n!==l)}e.action=null}function Ip(e){e=e.listeners;for(var n=0;n<e.length;n++)(0,e[n])()}function Yp(e,n){return n}function Qp(e,n){if(gt){var i=Rt.formState;if(i!==null){e:{var l=lt;if(gt){if(Bt){t:{for(var m=Bt,g=tr;m.nodeType!==8;){if(!g){m=null;break t}if(m=rr(m.nextSibling),m===null){m=null;break t}}g=m.data,m=g==="F!"||g==="F"?m:null}if(m){Bt=rr(m.nextSibling),l=m.data==="F!";break e}}Ra(l)}l=!1}l&&(n=i[0])}}return i=_n(),i.memoizedState=i.baseState=n,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Yp,lastRenderedState:n},i.queue=l,i=dg.bind(null,lt,l),l.dispatch=i,l=pf(!1),g=_f.bind(null,lt,!1,l.queue),l=_n(),m={state:n,dispatch:null,action:e,pending:null},l.queue=m,i=bw.bind(null,lt,m,g,i),m.dispatch=i,l.memoizedState=e,[n,i,!1]}function Gp(e){var n=Xt();return Zp(n,At,e)}function Zp(e,n,i){if(n=hf(e,n,Yp)[0],e=zc(ea)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var l=Ul(n)}catch(N){throw N===As?mc:N}else l=n;n=Xt();var m=n.queue,g=m.dispatch;return i!==n.memoizedState&&(lt.flags|=2048,Ds(9,{destroy:void 0},vw.bind(null,m,i),null)),[l,g,e]}function vw(e,n){e.action=n}function Kp(e){var n=Xt(),i=At;if(i!==null)return Zp(n,i,e);Xt(),n=n.memoizedState,i=Xt();var l=i.queue.dispatch;return i.memoizedState=e,[n,l,!1]}function Ds(e,n,i,l){return e={tag:e,create:i,deps:l,inst:n,next:null},n=lt.updateQueue,n===null&&(n=_c(),lt.updateQueue=n),i=n.lastEffect,i===null?n.lastEffect=e.next=e:(l=i.next,i.next=e,e.next=l,n.lastEffect=e),e}function Xp(){return Xt().memoizedState}function kc(e,n,i,l){var m=_n();lt.flags|=e,m.memoizedState=Ds(1|n,{destroy:void 0},i,l===void 0?null:l)}function Ec(e,n,i,l){var m=Xt();l=l===void 0?null:l;var g=m.memoizedState.inst;At!==null&&l!==null&&lf(l,At.memoizedState.deps)?m.memoizedState=Ds(n,g,i,l):(lt.flags|=e,m.memoizedState=Ds(1|n,g,i,l))}function Vp(e,n){kc(8390656,8,e,n)}function bf(e,n){Ec(2048,8,e,n)}function yw(e){lt.flags|=4;var n=lt.updateQueue;if(n===null)n=_c(),lt.updateQueue=n,n.events=[e];else{var i=n.events;i===null?n.events=[e]:i.push(e)}}function Wp(e){var n=Xt().memoizedState;return yw({ref:n,nextImpl:e}),function(){if((kt&2)!==0)throw Error(s(440));return n.impl.apply(void 0,arguments)}}function Jp(e,n){return Ec(4,2,e,n)}function eg(e,n){return Ec(4,4,e,n)}function tg(e,n){if(typeof n=="function"){e=e();var i=n(e);return function(){typeof i=="function"?i():n(null)}}if(n!=null)return e=e(),n.current=e,function(){n.current=null}}function ng(e,n,i){i=i!=null?i.concat([e]):null,Ec(4,4,tg.bind(null,n,e),i)}function vf(){}function rg(e,n){var i=Xt();n=n===void 0?null:n;var l=i.memoizedState;return n!==null&&lf(n,l[1])?l[0]:(i.memoizedState=[e,n],e)}function ag(e,n){var i=Xt();n=n===void 0?null:n;var l=i.memoizedState;if(n!==null&&lf(n,l[1]))return l[0];if(l=e(),Di){vt(!0);try{e()}finally{vt(!1)}}return i.memoizedState=[l,n],l}function yf(e,n,i){return i===void 0||(Jr&1073741824)!==0&&(mt&261930)===0?e.memoizedState=n:(e.memoizedState=i,e=ib(),lt.lanes|=e,Pa|=e,i)}function ig(e,n,i,l){return $n(i,n)?i:Ms.current!==null?(e=yf(e,i,l),$n(e,n)||(en=!0),e):(Jr&42)===0||(Jr&1073741824)!==0&&(mt&261930)===0?(en=!0,e.memoizedState=i):(e=ib(),lt.lanes|=e,Pa|=e,n)}function sg(e,n,i,l,m){var g=I.p;I.p=g!==0&&8>g?g:8;var N=K.T,L={};K.T=L,_f(e,!1,n,i);try{var V=m(),pe=K.S;if(pe!==null&&pe(L,V),V!==null&&typeof V=="object"&&typeof V.then=="function"){var Se=mw(V,l);Bl(e,n,Se,Qn(e))}else Bl(e,n,l,Qn(e))}catch(Ce){Bl(e,n,{then:function(){},status:"rejected",reason:Ce},Qn())}finally{I.p=g,N!==null&&L.types!==null&&(N.types=L.types),K.T=N}}function xw(){}function xf(e,n,i,l){if(e.tag!==5)throw Error(s(476));var m=lg(e).queue;sg(e,m,n,se,i===null?xw:function(){return og(e),i(l)})}function lg(e){var n=e.memoizedState;if(n!==null)return n;n={memoizedState:se,baseState:se,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ea,lastRenderedState:se},next:null};var i={};return n.next={memoizedState:i,baseState:i,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ea,lastRenderedState:i},next:null},e.memoizedState=n,e=e.alternate,e!==null&&(e.memoizedState=n),n}function og(e){var n=lg(e);n.next===null&&(n=e.alternate.memoizedState),Bl(e,n.next.queue,{},Qn())}function wf(){return fn(no)}function cg(){return Xt().memoizedState}function ug(){return Xt().memoizedState}function ww(e){for(var n=e.return;n!==null;){switch(n.tag){case 24:case 3:var i=Qn();e=La(i);var l=Fa(n,e,i);l!==null&&(Rn(l,n,i),Ol(l,n,i)),n={cache:Kd()},e.payload=n;return}n=n.return}}function _w(e,n,i){var l=Qn();i={lane:l,revertLane:0,gesture:null,action:i,hasEagerState:!1,eagerState:null,next:null},jc(e)?fg(n,i):(i=Ud(e,n,i,l),i!==null&&(Rn(i,e,l),hg(i,n,l)))}function dg(e,n,i){var l=Qn();Bl(e,n,i,l)}function Bl(e,n,i,l){var m={lane:l,revertLane:0,gesture:null,action:i,hasEagerState:!1,eagerState:null,next:null};if(jc(e))fg(n,m);else{var g=e.alternate;if(e.lanes===0&&(g===null||g.lanes===0)&&(g=n.lastRenderedReducer,g!==null))try{var N=n.lastRenderedState,L=g(N,i);if(m.hasEagerState=!0,m.eagerState=L,$n(L,N))return lc(e,n,m,0),Rt===null&&sc(),!1}catch{}finally{}if(i=Ud(e,n,m,l),i!==null)return Rn(i,e,l),hg(i,n,l),!0}return!1}function _f(e,n,i,l){if(l={lane:2,revertLane:eh(),gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},jc(e)){if(n)throw Error(s(479))}else n=Ud(e,i,l,2),n!==null&&Rn(n,e,2)}function jc(e){var n=e.alternate;return e===lt||n!==null&&n===lt}function fg(e,n){Rs=xc=!0;var i=e.pending;i===null?n.next=n:(n.next=i.next,i.next=n),e.pending=n}function hg(e,n,i){if((i&4194048)!==0){var l=n.lanes;l&=e.pendingLanes,i|=l,n.lanes=i,st(e,i)}}var $l={readContext:fn,use:Sc,useCallback:It,useContext:It,useEffect:It,useImperativeHandle:It,useLayoutEffect:It,useInsertionEffect:It,useMemo:It,useReducer:It,useRef:It,useState:It,useDebugValue:It,useDeferredValue:It,useTransition:It,useSyncExternalStore:It,useId:It,useHostTransitionStatus:It,useFormState:It,useActionState:It,useOptimistic:It,useMemoCache:It,useCacheRefresh:It};$l.useEffectEvent=It;var mg={readContext:fn,use:Sc,useCallback:function(e,n){return _n().memoizedState=[e,n===void 0?null:n],e},useContext:fn,useEffect:Vp,useImperativeHandle:function(e,n,i){i=i!=null?i.concat([e]):null,kc(4194308,4,tg.bind(null,n,e),i)},useLayoutEffect:function(e,n){return kc(4194308,4,e,n)},useInsertionEffect:function(e,n){kc(4,2,e,n)},useMemo:function(e,n){var i=_n();n=n===void 0?null:n;var l=e();if(Di){vt(!0);try{e()}finally{vt(!1)}}return i.memoizedState=[l,n],l},useReducer:function(e,n,i){var l=_n();if(i!==void 0){var m=i(n);if(Di){vt(!0);try{i(n)}finally{vt(!1)}}}else m=n;return l.memoizedState=l.baseState=m,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:m},l.queue=e,e=e.dispatch=_w.bind(null,lt,e),[l.memoizedState,e]},useRef:function(e){var n=_n();return e={current:e},n.memoizedState=e},useState:function(e){e=pf(e);var n=e.queue,i=dg.bind(null,lt,n);return n.dispatch=i,[e.memoizedState,i]},useDebugValue:vf,useDeferredValue:function(e,n){var i=_n();return yf(i,e,n)},useTransition:function(){var e=pf(!1);return e=sg.bind(null,lt,e.queue,!0,!1),_n().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,n,i){var l=lt,m=_n();if(gt){if(i===void 0)throw Error(s(407));i=i()}else{if(i=n(),Rt===null)throw Error(s(349));(mt&127)!==0||Dp(l,n,i)}m.memoizedState=i;var g={value:i,getSnapshot:n};return m.queue=g,Vp(Fp.bind(null,l,g,e),[e]),l.flags|=2048,Ds(9,{destroy:void 0},Lp.bind(null,l,g,i,n),null),i},useId:function(){var e=_n(),n=Rt.identifierPrefix;if(gt){var i=Er,l=kr;i=(l&~(1<<32-Pe(l)-1)).toString(32)+i,n="_"+n+"R_"+i,i=wc++,0<i&&(n+="H"+i.toString(32)),n+="_"}else i=pw++,n="_"+n+"r_"+i.toString(32)+"_";return e.memoizedState=n},useHostTransitionStatus:wf,useFormState:Qp,useActionState:Qp,useOptimistic:function(e){var n=_n();n.memoizedState=n.baseState=e;var i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=i,n=_f.bind(null,lt,!0,i),i.dispatch=n,[e,n]},useMemoCache:ff,useCacheRefresh:function(){return _n().memoizedState=ww.bind(null,lt)},useEffectEvent:function(e){var n=_n(),i={impl:e};return n.memoizedState=i,function(){if((kt&2)!==0)throw Error(s(440));return i.impl.apply(void 0,arguments)}}},Sf={readContext:fn,use:Sc,useCallback:rg,useContext:fn,useEffect:bf,useImperativeHandle:ng,useInsertionEffect:Jp,useLayoutEffect:eg,useMemo:ag,useReducer:zc,useRef:Xp,useState:function(){return zc(ea)},useDebugValue:vf,useDeferredValue:function(e,n){var i=Xt();return ig(i,At.memoizedState,e,n)},useTransition:function(){var e=zc(ea)[0],n=Xt().memoizedState;return[typeof e=="boolean"?e:Ul(e),n]},useSyncExternalStore:Op,useId:cg,useHostTransitionStatus:wf,useFormState:Gp,useActionState:Gp,useOptimistic:function(e,n){var i=Xt();return $p(i,At,e,n)},useMemoCache:ff,useCacheRefresh:ug};Sf.useEffectEvent=Wp;var pg={readContext:fn,use:Sc,useCallback:rg,useContext:fn,useEffect:bf,useImperativeHandle:ng,useInsertionEffect:Jp,useLayoutEffect:eg,useMemo:ag,useReducer:mf,useRef:Xp,useState:function(){return mf(ea)},useDebugValue:vf,useDeferredValue:function(e,n){var i=Xt();return At===null?yf(i,e,n):ig(i,At.memoizedState,e,n)},useTransition:function(){var e=mf(ea)[0],n=Xt().memoizedState;return[typeof e=="boolean"?e:Ul(e),n]},useSyncExternalStore:Op,useId:cg,useHostTransitionStatus:wf,useFormState:Kp,useActionState:Kp,useOptimistic:function(e,n){var i=Xt();return At!==null?$p(i,At,e,n):(i.baseState=e,[e,i.queue.dispatch])},useMemoCache:ff,useCacheRefresh:ug};pg.useEffectEvent=Wp;function zf(e,n,i,l){n=e.memoizedState,i=i(l,n),i=i==null?n:y({},n,i),e.memoizedState=i,e.lanes===0&&(e.updateQueue.baseState=i)}var kf={enqueueSetState:function(e,n,i){e=e._reactInternals;var l=Qn(),m=La(l);m.payload=n,i!=null&&(m.callback=i),n=Fa(e,m,l),n!==null&&(Rn(n,e,l),Ol(n,e,l))},enqueueReplaceState:function(e,n,i){e=e._reactInternals;var l=Qn(),m=La(l);m.tag=1,m.payload=n,i!=null&&(m.callback=i),n=Fa(e,m,l),n!==null&&(Rn(n,e,l),Ol(n,e,l))},enqueueForceUpdate:function(e,n){e=e._reactInternals;var i=Qn(),l=La(i);l.tag=2,n!=null&&(l.callback=n),n=Fa(e,l,i),n!==null&&(Rn(n,e,i),Ol(n,e,i))}};function gg(e,n,i,l,m,g,N){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(l,g,N):n.prototype&&n.prototype.isPureReactComponent?!El(i,l)||!El(m,g):!0}function bg(e,n,i,l){e=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(i,l),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(i,l),n.state!==e&&kf.enqueueReplaceState(n,n.state,null)}function Li(e,n){var i=n;if("ref"in n){i={};for(var l in n)l!=="ref"&&(i[l]=n[l])}if(e=e.defaultProps){i===n&&(i=y({},i));for(var m in e)i[m]===void 0&&(i[m]=e[m])}return i}function vg(e){ic(e)}function yg(e){console.error(e)}function xg(e){ic(e)}function Nc(e,n){try{var i=e.onUncaughtError;i(n.value,{componentStack:n.stack})}catch(l){setTimeout(function(){throw l})}}function wg(e,n,i){try{var l=e.onCaughtError;l(i.value,{componentStack:i.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(m){setTimeout(function(){throw m})}}function Ef(e,n,i){return i=La(i),i.tag=3,i.payload={element:null},i.callback=function(){Nc(e,n)},i}function _g(e){return e=La(e),e.tag=3,e}function Sg(e,n,i,l){var m=i.type.getDerivedStateFromError;if(typeof m=="function"){var g=l.value;e.payload=function(){return m(g)},e.callback=function(){wg(n,i,l)}}var N=i.stateNode;N!==null&&typeof N.componentDidCatch=="function"&&(e.callback=function(){wg(n,i,l),typeof m!="function"&&(qa===null?qa=new Set([this]):qa.add(this));var L=l.stack;this.componentDidCatch(l.value,{componentStack:L!==null?L:""})})}function Sw(e,n,i,l,m){if(i.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(n=i.alternate,n!==null&&js(n,i,m,!0),i=Pn.current,i!==null){switch(i.tag){case 31:case 13:return nr===null?$c():i.alternate===null&&Yt===0&&(Yt=3),i.flags&=-257,i.flags|=65536,i.lanes=m,l===pc?i.flags|=16384:(n=i.updateQueue,n===null?i.updateQueue=new Set([l]):n.add(l),Vf(e,l,m)),!1;case 22:return i.flags|=65536,l===pc?i.flags|=16384:(n=i.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([l])},i.updateQueue=n):(i=n.retryQueue,i===null?n.retryQueue=new Set([l]):i.add(l)),Vf(e,l,m)),!1}throw Error(s(435,i.tag))}return Vf(e,l,m),$c(),!1}if(gt)return n=Pn.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=m,l!==Id&&(e=Error(s(422),{cause:l}),Cl(Wn(e,i)))):(l!==Id&&(n=Error(s(423),{cause:l}),Cl(Wn(n,i))),e=e.current.alternate,e.flags|=65536,m&=-m,e.lanes|=m,l=Wn(l,i),m=Ef(e.stateNode,l,m),tf(e,m),Yt!==4&&(Yt=2)),!1;var g=Error(s(520),{cause:l});if(g=Wn(g,i),Zl===null?Zl=[g]:Zl.push(g),Yt!==4&&(Yt=2),n===null)return!0;l=Wn(l,i),i=n;do{switch(i.tag){case 3:return i.flags|=65536,e=m&-m,i.lanes|=e,e=Ef(i.stateNode,l,e),tf(i,e),!1;case 1:if(n=i.type,g=i.stateNode,(i.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||g!==null&&typeof g.componentDidCatch=="function"&&(qa===null||!qa.has(g))))return i.flags|=65536,m&=-m,i.lanes|=m,m=_g(m),Sg(m,e,i,l),tf(i,m),!1}i=i.return}while(i!==null);return!1}var jf=Error(s(461)),en=!1;function hn(e,n,i,l){n.child=e===null?jp(n,null,i,l):Oi(n,e.child,i,l)}function zg(e,n,i,l,m){i=i.render;var g=n.ref;if("ref"in l){var N={};for(var L in l)L!=="ref"&&(N[L]=l[L])}else N=l;return Ai(n),l=of(e,n,i,N,g,m),L=cf(),e!==null&&!en?(uf(e,n,m),ta(e,n,m)):(gt&&L&&Pd(n),n.flags|=1,hn(e,n,l,m),n.child)}function kg(e,n,i,l,m){if(e===null){var g=i.type;return typeof g=="function"&&!Bd(g)&&g.defaultProps===void 0&&i.compare===null?(n.tag=15,n.type=g,Eg(e,n,g,l,m)):(e=cc(i.type,null,l,n,n.mode,m),e.ref=n.ref,e.return=n,n.child=e)}if(g=e.child,!Df(e,m)){var N=g.memoizedProps;if(i=i.compare,i=i!==null?i:El,i(N,l)&&e.ref===n.ref)return ta(e,n,m)}return n.flags|=1,e=Kr(g,l),e.ref=n.ref,e.return=n,n.child=e}function Eg(e,n,i,l,m){if(e!==null){var g=e.memoizedProps;if(El(g,l)&&e.ref===n.ref)if(en=!1,n.pendingProps=l=g,Df(e,m))(e.flags&131072)!==0&&(en=!0);else return n.lanes=e.lanes,ta(e,n,m)}return Nf(e,n,i,l,m)}function jg(e,n,i,l){var m=l.children,g=e!==null?e.memoizedState:null;if(e===null&&n.stateNode===null&&(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),l.mode==="hidden"){if((n.flags&128)!==0){if(g=g!==null?g.baseLanes|i:i,e!==null){for(l=n.child=e.child,m=0;l!==null;)m=m|l.lanes|l.childLanes,l=l.sibling;l=m&~g}else l=0,n.child=null;return Ng(e,n,g,i,l)}if((i&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},e!==null&&hc(n,g!==null?g.cachePool:null),g!==null?Ap(n,g):rf(),Tp(n);else return l=n.lanes=536870912,Ng(e,n,g!==null?g.baseLanes|i:i,i,l)}else g!==null?(hc(n,g.cachePool),Ap(n,g),Ba(),n.memoizedState=null):(e!==null&&hc(n,null),rf(),Ba());return hn(e,n,m,i),n.child}function Hl(e,n){return e!==null&&e.tag===22||n.stateNode!==null||(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),n.sibling}function Ng(e,n,i,l,m){var g=Vd();return g=g===null?null:{parent:Wt._currentValue,pool:g},n.memoizedState={baseLanes:i,cachePool:g},e!==null&&hc(n,null),rf(),Tp(n),e!==null&&js(e,n,l,!0),n.childLanes=m,null}function Cc(e,n){return n=Tc({mode:n.mode,children:n.children},e.mode),n.ref=e.ref,e.child=n,n.return=e,n}function Cg(e,n,i){return Oi(n,e.child,null,i),e=Cc(n,n.pendingProps),e.flags|=2,qn(n),n.memoizedState=null,e}function zw(e,n,i){var l=n.pendingProps,m=(n.flags&128)!==0;if(n.flags&=-129,e===null){if(gt){if(l.mode==="hidden")return e=Cc(n,l),n.lanes=536870912,Hl(null,e);if(sf(n),(e=Bt)?(e=Hb(e,tr),e=e!==null&&e.data==="&"?e:null,e!==null&&(n.memoizedState={dehydrated:e,treeContext:Ta!==null?{id:kr,overflow:Er}:null,retryLane:536870912,hydrationErrors:null},i=fp(e),i.return=n,n.child=i,dn=n,Bt=null)):e=null,e===null)throw Ra(n);return n.lanes=536870912,null}return Cc(n,l)}var g=e.memoizedState;if(g!==null){var N=g.dehydrated;if(sf(n),m)if(n.flags&256)n.flags&=-257,n=Cg(e,n,i);else if(n.memoizedState!==null)n.child=e.child,n.flags|=128,n=null;else throw Error(s(558));else if(en||js(e,n,i,!1),m=(i&e.childLanes)!==0,en||m){if(l=Rt,l!==null&&(N=yt(l,i),N!==0&&N!==g.retryLane))throw g.retryLane=N,Ei(e,N),Rn(l,e,N),jf;$c(),n=Cg(e,n,i)}else e=g.treeContext,Bt=rr(N.nextSibling),dn=n,gt=!0,Ma=null,tr=!1,e!==null&&pp(n,e),n=Cc(n,l),n.flags|=4096;return n}return e=Kr(e.child,{mode:l.mode,children:l.children}),e.ref=n.ref,n.child=e,e.return=n,e}function Ac(e,n){var i=n.ref;if(i===null)e!==null&&e.ref!==null&&(n.flags|=4194816);else{if(typeof i!="function"&&typeof i!="object")throw Error(s(284));(e===null||e.ref!==i)&&(n.flags|=4194816)}}function Nf(e,n,i,l,m){return Ai(n),i=of(e,n,i,l,void 0,m),l=cf(),e!==null&&!en?(uf(e,n,m),ta(e,n,m)):(gt&&l&&Pd(n),n.flags|=1,hn(e,n,i,m),n.child)}function Ag(e,n,i,l,m,g){return Ai(n),n.updateQueue=null,i=Rp(n,l,i,m),Mp(e),l=cf(),e!==null&&!en?(uf(e,n,g),ta(e,n,g)):(gt&&l&&Pd(n),n.flags|=1,hn(e,n,i,g),n.child)}function Tg(e,n,i,l,m){if(Ai(n),n.stateNode===null){var g=Ss,N=i.contextType;typeof N=="object"&&N!==null&&(g=fn(N)),g=new i(l,g),n.memoizedState=g.state!==null&&g.state!==void 0?g.state:null,g.updater=kf,n.stateNode=g,g._reactInternals=n,g=n.stateNode,g.props=l,g.state=n.memoizedState,g.refs={},Jd(n),N=i.contextType,g.context=typeof N=="object"&&N!==null?fn(N):Ss,g.state=n.memoizedState,N=i.getDerivedStateFromProps,typeof N=="function"&&(zf(n,i,N,l),g.state=n.memoizedState),typeof i.getDerivedStateFromProps=="function"||typeof g.getSnapshotBeforeUpdate=="function"||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(N=g.state,typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount(),N!==g.state&&kf.enqueueReplaceState(g,g.state,null),Ll(n,l,g,m),Dl(),g.state=n.memoizedState),typeof g.componentDidMount=="function"&&(n.flags|=4194308),l=!0}else if(e===null){g=n.stateNode;var L=n.memoizedProps,V=Li(i,L);g.props=V;var pe=g.context,Se=i.contextType;N=Ss,typeof Se=="object"&&Se!==null&&(N=fn(Se));var Ce=i.getDerivedStateFromProps;Se=typeof Ce=="function"||typeof g.getSnapshotBeforeUpdate=="function",L=n.pendingProps!==L,Se||typeof g.UNSAFE_componentWillReceiveProps!="function"&&typeof g.componentWillReceiveProps!="function"||(L||pe!==N)&&bg(n,g,l,N),Da=!1;var ge=n.memoizedState;g.state=ge,Ll(n,l,g,m),Dl(),pe=n.memoizedState,L||ge!==pe||Da?(typeof Ce=="function"&&(zf(n,i,Ce,l),pe=n.memoizedState),(V=Da||gg(n,i,V,l,ge,pe,N))?(Se||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount()),typeof g.componentDidMount=="function"&&(n.flags|=4194308)):(typeof g.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=l,n.memoizedState=pe),g.props=l,g.state=pe,g.context=N,l=V):(typeof g.componentDidMount=="function"&&(n.flags|=4194308),l=!1)}else{g=n.stateNode,ef(e,n),N=n.memoizedProps,Se=Li(i,N),g.props=Se,Ce=n.pendingProps,ge=g.context,pe=i.contextType,V=Ss,typeof pe=="object"&&pe!==null&&(V=fn(pe)),L=i.getDerivedStateFromProps,(pe=typeof L=="function"||typeof g.getSnapshotBeforeUpdate=="function")||typeof g.UNSAFE_componentWillReceiveProps!="function"&&typeof g.componentWillReceiveProps!="function"||(N!==Ce||ge!==V)&&bg(n,g,l,V),Da=!1,ge=n.memoizedState,g.state=ge,Ll(n,l,g,m),Dl();var ye=n.memoizedState;N!==Ce||ge!==ye||Da||e!==null&&e.dependencies!==null&&dc(e.dependencies)?(typeof L=="function"&&(zf(n,i,L,l),ye=n.memoizedState),(Se=Da||gg(n,i,Se,l,ge,ye,V)||e!==null&&e.dependencies!==null&&dc(e.dependencies))?(pe||typeof g.UNSAFE_componentWillUpdate!="function"&&typeof g.componentWillUpdate!="function"||(typeof g.componentWillUpdate=="function"&&g.componentWillUpdate(l,ye,V),typeof g.UNSAFE_componentWillUpdate=="function"&&g.UNSAFE_componentWillUpdate(l,ye,V)),typeof g.componentDidUpdate=="function"&&(n.flags|=4),typeof g.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof g.componentDidUpdate!="function"||N===e.memoizedProps&&ge===e.memoizedState||(n.flags|=4),typeof g.getSnapshotBeforeUpdate!="function"||N===e.memoizedProps&&ge===e.memoizedState||(n.flags|=1024),n.memoizedProps=l,n.memoizedState=ye),g.props=l,g.state=ye,g.context=V,l=Se):(typeof g.componentDidUpdate!="function"||N===e.memoizedProps&&ge===e.memoizedState||(n.flags|=4),typeof g.getSnapshotBeforeUpdate!="function"||N===e.memoizedProps&&ge===e.memoizedState||(n.flags|=1024),l=!1)}return g=l,Ac(e,n),l=(n.flags&128)!==0,g||l?(g=n.stateNode,i=l&&typeof i.getDerivedStateFromError!="function"?null:g.render(),n.flags|=1,e!==null&&l?(n.child=Oi(n,e.child,null,m),n.child=Oi(n,null,i,m)):hn(e,n,i,m),n.memoizedState=g.state,e=n.child):e=ta(e,n,m),e}function Mg(e,n,i,l){return Ni(),n.flags|=256,hn(e,n,i,l),n.child}var Cf={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Af(e){return{baseLanes:e,cachePool:wp()}}function Tf(e,n,i){return e=e!==null?e.childLanes&~i:0,n&&(e|=Yn),e}function Rg(e,n,i){var l=n.pendingProps,m=!1,g=(n.flags&128)!==0,N;if((N=g)||(N=e!==null&&e.memoizedState===null?!1:(Kt.current&2)!==0),N&&(m=!0,n.flags&=-129),N=(n.flags&32)!==0,n.flags&=-33,e===null){if(gt){if(m?Ua(n):Ba(),(e=Bt)?(e=Hb(e,tr),e=e!==null&&e.data!=="&"?e:null,e!==null&&(n.memoizedState={dehydrated:e,treeContext:Ta!==null?{id:kr,overflow:Er}:null,retryLane:536870912,hydrationErrors:null},i=fp(e),i.return=n,n.child=i,dn=n,Bt=null)):e=null,e===null)throw Ra(n);return hh(e)?n.lanes=32:n.lanes=536870912,null}var L=l.children;return l=l.fallback,m?(Ba(),m=n.mode,L=Tc({mode:"hidden",children:L},m),l=ji(l,m,i,null),L.return=n,l.return=n,L.sibling=l,n.child=L,l=n.child,l.memoizedState=Af(i),l.childLanes=Tf(e,N,i),n.memoizedState=Cf,Hl(null,l)):(Ua(n),Mf(n,L))}var V=e.memoizedState;if(V!==null&&(L=V.dehydrated,L!==null)){if(g)n.flags&256?(Ua(n),n.flags&=-257,n=Rf(e,n,i)):n.memoizedState!==null?(Ba(),n.child=e.child,n.flags|=128,n=null):(Ba(),L=l.fallback,m=n.mode,l=Tc({mode:"visible",children:l.children},m),L=ji(L,m,i,null),L.flags|=2,l.return=n,L.return=n,l.sibling=L,n.child=l,Oi(n,e.child,null,i),l=n.child,l.memoizedState=Af(i),l.childLanes=Tf(e,N,i),n.memoizedState=Cf,n=Hl(null,l));else if(Ua(n),hh(L)){if(N=L.nextSibling&&L.nextSibling.dataset,N)var pe=N.dgst;N=pe,l=Error(s(419)),l.stack="",l.digest=N,Cl({value:l,source:null,stack:null}),n=Rf(e,n,i)}else if(en||js(e,n,i,!1),N=(i&e.childLanes)!==0,en||N){if(N=Rt,N!==null&&(l=yt(N,i),l!==0&&l!==V.retryLane))throw V.retryLane=l,Ei(e,l),Rn(N,e,l),jf;fh(L)||$c(),n=Rf(e,n,i)}else fh(L)?(n.flags|=192,n.child=e.child,n=null):(e=V.treeContext,Bt=rr(L.nextSibling),dn=n,gt=!0,Ma=null,tr=!1,e!==null&&pp(n,e),n=Mf(n,l.children),n.flags|=4096);return n}return m?(Ba(),L=l.fallback,m=n.mode,V=e.child,pe=V.sibling,l=Kr(V,{mode:"hidden",children:l.children}),l.subtreeFlags=V.subtreeFlags&65011712,pe!==null?L=Kr(pe,L):(L=ji(L,m,i,null),L.flags|=2),L.return=n,l.return=n,l.sibling=L,n.child=l,Hl(null,l),l=n.child,L=e.child.memoizedState,L===null?L=Af(i):(m=L.cachePool,m!==null?(V=Wt._currentValue,m=m.parent!==V?{parent:V,pool:V}:m):m=wp(),L={baseLanes:L.baseLanes|i,cachePool:m}),l.memoizedState=L,l.childLanes=Tf(e,N,i),n.memoizedState=Cf,Hl(e.child,l)):(Ua(n),i=e.child,e=i.sibling,i=Kr(i,{mode:"visible",children:l.children}),i.return=n,i.sibling=null,e!==null&&(N=n.deletions,N===null?(n.deletions=[e],n.flags|=16):N.push(e)),n.child=i,n.memoizedState=null,i)}function Mf(e,n){return n=Tc({mode:"visible",children:n},e.mode),n.return=e,e.child=n}function Tc(e,n){return e=Hn(22,e,null,n),e.lanes=0,e}function Rf(e,n,i){return Oi(n,e.child,null,i),e=Mf(n,n.pendingProps.children),e.flags|=2,n.memoizedState=null,e}function Og(e,n,i){e.lanes|=n;var l=e.alternate;l!==null&&(l.lanes|=n),Gd(e.return,n,i)}function Of(e,n,i,l,m,g){var N=e.memoizedState;N===null?e.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:l,tail:i,tailMode:m,treeForkCount:g}:(N.isBackwards=n,N.rendering=null,N.renderingStartTime=0,N.last=l,N.tail=i,N.tailMode=m,N.treeForkCount=g)}function Dg(e,n,i){var l=n.pendingProps,m=l.revealOrder,g=l.tail;l=l.children;var N=Kt.current,L=(N&2)!==0;if(L?(N=N&1|2,n.flags|=128):N&=1,ee(Kt,N),hn(e,n,l,i),l=gt?Nl:0,!L&&e!==null&&(e.flags&128)!==0)e:for(e=n.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Og(e,i,n);else if(e.tag===19)Og(e,i,n);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===n)break e;for(;e.sibling===null;){if(e.return===null||e.return===n)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(m){case"forwards":for(i=n.child,m=null;i!==null;)e=i.alternate,e!==null&&yc(e)===null&&(m=i),i=i.sibling;i=m,i===null?(m=n.child,n.child=null):(m=i.sibling,i.sibling=null),Of(n,!1,m,i,g,l);break;case"backwards":case"unstable_legacy-backwards":for(i=null,m=n.child,n.child=null;m!==null;){if(e=m.alternate,e!==null&&yc(e)===null){n.child=m;break}e=m.sibling,m.sibling=i,i=m,m=e}Of(n,!0,i,null,g,l);break;case"together":Of(n,!1,null,null,void 0,l);break;default:n.memoizedState=null}return n.child}function ta(e,n,i){if(e!==null&&(n.dependencies=e.dependencies),Pa|=n.lanes,(i&n.childLanes)===0)if(e!==null){if(js(e,n,i,!1),(i&n.childLanes)===0)return null}else return null;if(e!==null&&n.child!==e.child)throw Error(s(153));if(n.child!==null){for(e=n.child,i=Kr(e,e.pendingProps),n.child=i,i.return=n;e.sibling!==null;)e=e.sibling,i=i.sibling=Kr(e,e.pendingProps),i.return=n;i.sibling=null}return n.child}function Df(e,n){return(e.lanes&n)!==0?!0:(e=e.dependencies,!!(e!==null&&dc(e)))}function kw(e,n,i){switch(n.tag){case 3:je(n,n.stateNode.containerInfo),Oa(n,Wt,e.memoizedState.cache),Ni();break;case 27:case 5:Oe(n);break;case 4:je(n,n.stateNode.containerInfo);break;case 10:Oa(n,n.type,n.memoizedProps.value);break;case 31:if(n.memoizedState!==null)return n.flags|=128,sf(n),null;break;case 13:var l=n.memoizedState;if(l!==null)return l.dehydrated!==null?(Ua(n),n.flags|=128,null):(i&n.child.childLanes)!==0?Rg(e,n,i):(Ua(n),e=ta(e,n,i),e!==null?e.sibling:null);Ua(n);break;case 19:var m=(e.flags&128)!==0;if(l=(i&n.childLanes)!==0,l||(js(e,n,i,!1),l=(i&n.childLanes)!==0),m){if(l)return Dg(e,n,i);n.flags|=128}if(m=n.memoizedState,m!==null&&(m.rendering=null,m.tail=null,m.lastEffect=null),ee(Kt,Kt.current),l)break;return null;case 22:return n.lanes=0,jg(e,n,i,n.pendingProps);case 24:Oa(n,Wt,e.memoizedState.cache)}return ta(e,n,i)}function Lg(e,n,i){if(e!==null)if(e.memoizedProps!==n.pendingProps)en=!0;else{if(!Df(e,i)&&(n.flags&128)===0)return en=!1,kw(e,n,i);en=(e.flags&131072)!==0}else en=!1,gt&&(n.flags&1048576)!==0&&mp(n,Nl,n.index);switch(n.lanes=0,n.tag){case 16:e:{var l=n.pendingProps;if(e=Mi(n.elementType),n.type=e,typeof e=="function")Bd(e)?(l=Li(e,l),n.tag=1,n=Tg(null,n,e,l,i)):(n.tag=0,n=Nf(null,n,e,l,i));else{if(e!=null){var m=e.$$typeof;if(m===A){n.tag=11,n=zg(null,n,e,l,i);break e}else if(m===B){n.tag=14,n=kg(null,n,e,l,i);break e}}throw n=S(e)||e,Error(s(306,n,""))}}return n;case 0:return Nf(e,n,n.type,n.pendingProps,i);case 1:return l=n.type,m=Li(l,n.pendingProps),Tg(e,n,l,m,i);case 3:e:{if(je(n,n.stateNode.containerInfo),e===null)throw Error(s(387));l=n.pendingProps;var g=n.memoizedState;m=g.element,ef(e,n),Ll(n,l,null,i);var N=n.memoizedState;if(l=N.cache,Oa(n,Wt,l),l!==g.cache&&Zd(n,[Wt],i,!0),Dl(),l=N.element,g.isDehydrated)if(g={element:l,isDehydrated:!1,cache:N.cache},n.updateQueue.baseState=g,n.memoizedState=g,n.flags&256){n=Mg(e,n,l,i);break e}else if(l!==m){m=Wn(Error(s(424)),n),Cl(m),n=Mg(e,n,l,i);break e}else{switch(e=n.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(Bt=rr(e.firstChild),dn=n,gt=!0,Ma=null,tr=!0,i=jp(n,null,l,i),n.child=i;i;)i.flags=i.flags&-3|4096,i=i.sibling}else{if(Ni(),l===m){n=ta(e,n,i);break e}hn(e,n,l,i)}n=n.child}return n;case 26:return Ac(e,n),e===null?(i=Gb(n.type,null,n.pendingProps,null))?n.memoizedState=i:gt||(i=n.type,e=n.pendingProps,l=Gc(Me.current).createElement(i),l[rn]=n,l[un]=e,mn(l,i,e),ce(l),n.stateNode=l):n.memoizedState=Gb(n.type,e.memoizedProps,n.pendingProps,e.memoizedState),null;case 27:return Oe(n),e===null&&gt&&(l=n.stateNode=Ib(n.type,n.pendingProps,Me.current),dn=n,tr=!0,m=Bt,Ga(n.type)?(mh=m,Bt=rr(l.firstChild)):Bt=m),hn(e,n,n.pendingProps.children,i),Ac(e,n),e===null&&(n.flags|=4194304),n.child;case 5:return e===null&&gt&&((m=l=Bt)&&(l=t5(l,n.type,n.pendingProps,tr),l!==null?(n.stateNode=l,dn=n,Bt=rr(l.firstChild),tr=!1,m=!0):m=!1),m||Ra(n)),Oe(n),m=n.type,g=n.pendingProps,N=e!==null?e.memoizedProps:null,l=g.children,ch(m,g)?l=null:N!==null&&ch(m,N)&&(n.flags|=32),n.memoizedState!==null&&(m=of(e,n,gw,null,null,i),no._currentValue=m),Ac(e,n),hn(e,n,l,i),n.child;case 6:return e===null&&gt&&((e=i=Bt)&&(i=n5(i,n.pendingProps,tr),i!==null?(n.stateNode=i,dn=n,Bt=null,e=!0):e=!1),e||Ra(n)),null;case 13:return Rg(e,n,i);case 4:return je(n,n.stateNode.containerInfo),l=n.pendingProps,e===null?n.child=Oi(n,null,l,i):hn(e,n,l,i),n.child;case 11:return zg(e,n,n.type,n.pendingProps,i);case 7:return hn(e,n,n.pendingProps,i),n.child;case 8:return hn(e,n,n.pendingProps.children,i),n.child;case 12:return hn(e,n,n.pendingProps.children,i),n.child;case 10:return l=n.pendingProps,Oa(n,n.type,l.value),hn(e,n,l.children,i),n.child;case 9:return m=n.type._context,l=n.pendingProps.children,Ai(n),m=fn(m),l=l(m),n.flags|=1,hn(e,n,l,i),n.child;case 14:return kg(e,n,n.type,n.pendingProps,i);case 15:return Eg(e,n,n.type,n.pendingProps,i);case 19:return Dg(e,n,i);case 31:return zw(e,n,i);case 22:return jg(e,n,i,n.pendingProps);case 24:return Ai(n),l=fn(Wt),e===null?(m=Vd(),m===null&&(m=Rt,g=Kd(),m.pooledCache=g,g.refCount++,g!==null&&(m.pooledCacheLanes|=i),m=g),n.memoizedState={parent:l,cache:m},Jd(n),Oa(n,Wt,m)):((e.lanes&i)!==0&&(ef(e,n),Ll(n,null,null,i),Dl()),m=e.memoizedState,g=n.memoizedState,m.parent!==l?(m={parent:l,cache:l},n.memoizedState=m,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=m),Oa(n,Wt,l)):(l=g.cache,Oa(n,Wt,l),l!==m.cache&&Zd(n,[Wt],i,!0))),hn(e,n,n.pendingProps.children,i),n.child;case 29:throw n.pendingProps}throw Error(s(156,n.tag))}function na(e){e.flags|=4}function Lf(e,n,i,l,m){if((n=(e.mode&32)!==0)&&(n=!1),n){if(e.flags|=16777216,(m&335544128)===m)if(e.stateNode.complete)e.flags|=8192;else if(cb())e.flags|=8192;else throw Ri=pc,Wd}else e.flags&=-16777217}function Fg(e,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!Wb(n))if(cb())e.flags|=8192;else throw Ri=pc,Wd}function Mc(e,n){n!==null&&(e.flags|=4),e.flags&16384&&(n=e.tag!==22?Y():536870912,e.lanes|=n,Bs|=n)}function Pl(e,n){if(!gt)switch(e.tailMode){case"hidden":n=e.tail;for(var i=null;n!==null;)n.alternate!==null&&(i=n),n=n.sibling;i===null?e.tail=null:i.sibling=null;break;case"collapsed":i=e.tail;for(var l=null;i!==null;)i.alternate!==null&&(l=i),i=i.sibling;l===null?n||e.tail===null?e.tail=null:e.tail.sibling=null:l.sibling=null}}function $t(e){var n=e.alternate!==null&&e.alternate.child===e.child,i=0,l=0;if(n)for(var m=e.child;m!==null;)i|=m.lanes|m.childLanes,l|=m.subtreeFlags&65011712,l|=m.flags&65011712,m.return=e,m=m.sibling;else for(m=e.child;m!==null;)i|=m.lanes|m.childLanes,l|=m.subtreeFlags,l|=m.flags,m.return=e,m=m.sibling;return e.subtreeFlags|=l,e.childLanes=i,n}function Ew(e,n,i){var l=n.pendingProps;switch(qd(n),n.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return $t(n),null;case 1:return $t(n),null;case 3:return i=n.stateNode,l=null,e!==null&&(l=e.memoizedState.cache),n.memoizedState.cache!==l&&(n.flags|=2048),Wr(Wt),de(),i.pendingContext&&(i.context=i.pendingContext,i.pendingContext=null),(e===null||e.child===null)&&(Es(n)?na(n):e===null||e.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,Yd())),$t(n),null;case 26:var m=n.type,g=n.memoizedState;return e===null?(na(n),g!==null?($t(n),Fg(n,g)):($t(n),Lf(n,m,null,l,i))):g?g!==e.memoizedState?(na(n),$t(n),Fg(n,g)):($t(n),n.flags&=-16777217):(e=e.memoizedProps,e!==l&&na(n),$t(n),Lf(n,m,e,l,i)),null;case 27:if(Ue(n),i=Me.current,m=n.type,e!==null&&n.stateNode!=null)e.memoizedProps!==l&&na(n);else{if(!l){if(n.stateNode===null)throw Error(s(166));return $t(n),null}e=ie.current,Es(n)?gp(n):(e=Ib(m,l,i),n.stateNode=e,na(n))}return $t(n),null;case 5:if(Ue(n),m=n.type,e!==null&&n.stateNode!=null)e.memoizedProps!==l&&na(n);else{if(!l){if(n.stateNode===null)throw Error(s(166));return $t(n),null}if(g=ie.current,Es(n))gp(n);else{var N=Gc(Me.current);switch(g){case 1:g=N.createElementNS("http://www.w3.org/2000/svg",m);break;case 2:g=N.createElementNS("http://www.w3.org/1998/Math/MathML",m);break;default:switch(m){case"svg":g=N.createElementNS("http://www.w3.org/2000/svg",m);break;case"math":g=N.createElementNS("http://www.w3.org/1998/Math/MathML",m);break;case"script":g=N.createElement("div"),g.innerHTML="<script><\/script>",g=g.removeChild(g.firstChild);break;case"select":g=typeof l.is=="string"?N.createElement("select",{is:l.is}):N.createElement("select"),l.multiple?g.multiple=!0:l.size&&(g.size=l.size);break;default:g=typeof l.is=="string"?N.createElement(m,{is:l.is}):N.createElement(m)}}g[rn]=n,g[un]=l;e:for(N=n.child;N!==null;){if(N.tag===5||N.tag===6)g.appendChild(N.stateNode);else if(N.tag!==4&&N.tag!==27&&N.child!==null){N.child.return=N,N=N.child;continue}if(N===n)break e;for(;N.sibling===null;){if(N.return===null||N.return===n)break e;N=N.return}N.sibling.return=N.return,N=N.sibling}n.stateNode=g;e:switch(mn(g,m,l),m){case"button":case"input":case"select":case"textarea":l=!!l.autoFocus;break e;case"img":l=!0;break e;default:l=!1}l&&na(n)}}return $t(n),Lf(n,n.type,e===null?null:e.memoizedProps,n.pendingProps,i),null;case 6:if(e&&n.stateNode!=null)e.memoizedProps!==l&&na(n);else{if(typeof l!="string"&&n.stateNode===null)throw Error(s(166));if(e=Me.current,Es(n)){if(e=n.stateNode,i=n.memoizedProps,l=null,m=dn,m!==null)switch(m.tag){case 27:case 5:l=m.memoizedProps}e[rn]=n,e=!!(e.nodeValue===i||l!==null&&l.suppressHydrationWarning===!0||Rb(e.nodeValue,i)),e||Ra(n,!0)}else e=Gc(e).createTextNode(l),e[rn]=n,n.stateNode=e}return $t(n),null;case 31:if(i=n.memoizedState,e===null||e.memoizedState!==null){if(l=Es(n),i!==null){if(e===null){if(!l)throw Error(s(318));if(e=n.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(s(557));e[rn]=n}else Ni(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;$t(n),e=!1}else i=Yd(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=i),e=!0;if(!e)return n.flags&256?(qn(n),n):(qn(n),null);if((n.flags&128)!==0)throw Error(s(558))}return $t(n),null;case 13:if(l=n.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(m=Es(n),l!==null&&l.dehydrated!==null){if(e===null){if(!m)throw Error(s(318));if(m=n.memoizedState,m=m!==null?m.dehydrated:null,!m)throw Error(s(317));m[rn]=n}else Ni(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;$t(n),m=!1}else m=Yd(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=m),m=!0;if(!m)return n.flags&256?(qn(n),n):(qn(n),null)}return qn(n),(n.flags&128)!==0?(n.lanes=i,n):(i=l!==null,e=e!==null&&e.memoizedState!==null,i&&(l=n.child,m=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(m=l.alternate.memoizedState.cachePool.pool),g=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(g=l.memoizedState.cachePool.pool),g!==m&&(l.flags|=2048)),i!==e&&i&&(n.child.flags|=8192),Mc(n,n.updateQueue),$t(n),null);case 4:return de(),e===null&&ah(n.stateNode.containerInfo),$t(n),null;case 10:return Wr(n.type),$t(n),null;case 19:if(F(Kt),l=n.memoizedState,l===null)return $t(n),null;if(m=(n.flags&128)!==0,g=l.rendering,g===null)if(m)Pl(l,!1);else{if(Yt!==0||e!==null&&(e.flags&128)!==0)for(e=n.child;e!==null;){if(g=yc(e),g!==null){for(n.flags|=128,Pl(l,!1),e=g.updateQueue,n.updateQueue=e,Mc(n,e),n.subtreeFlags=0,e=i,i=n.child;i!==null;)dp(i,e),i=i.sibling;return ee(Kt,Kt.current&1|2),gt&&Xr(n,l.treeForkCount),n.child}e=e.sibling}l.tail!==null&&ve()>Fc&&(n.flags|=128,m=!0,Pl(l,!1),n.lanes=4194304)}else{if(!m)if(e=yc(g),e!==null){if(n.flags|=128,m=!0,e=e.updateQueue,n.updateQueue=e,Mc(n,e),Pl(l,!0),l.tail===null&&l.tailMode==="hidden"&&!g.alternate&&!gt)return $t(n),null}else 2*ve()-l.renderingStartTime>Fc&&i!==536870912&&(n.flags|=128,m=!0,Pl(l,!1),n.lanes=4194304);l.isBackwards?(g.sibling=n.child,n.child=g):(e=l.last,e!==null?e.sibling=g:n.child=g,l.last=g)}return l.tail!==null?(e=l.tail,l.rendering=e,l.tail=e.sibling,l.renderingStartTime=ve(),e.sibling=null,i=Kt.current,ee(Kt,m?i&1|2:i&1),gt&&Xr(n,l.treeForkCount),e):($t(n),null);case 22:case 23:return qn(n),af(),l=n.memoizedState!==null,e!==null?e.memoizedState!==null!==l&&(n.flags|=8192):l&&(n.flags|=8192),l?(i&536870912)!==0&&(n.flags&128)===0&&($t(n),n.subtreeFlags&6&&(n.flags|=8192)):$t(n),i=n.updateQueue,i!==null&&Mc(n,i.retryQueue),i=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(i=e.memoizedState.cachePool.pool),l=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(l=n.memoizedState.cachePool.pool),l!==i&&(n.flags|=2048),e!==null&&F(Ti),null;case 24:return i=null,e!==null&&(i=e.memoizedState.cache),n.memoizedState.cache!==i&&(n.flags|=2048),Wr(Wt),$t(n),null;case 25:return null;case 30:return null}throw Error(s(156,n.tag))}function jw(e,n){switch(qd(n),n.tag){case 1:return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 3:return Wr(Wt),de(),e=n.flags,(e&65536)!==0&&(e&128)===0?(n.flags=e&-65537|128,n):null;case 26:case 27:case 5:return Ue(n),null;case 31:if(n.memoizedState!==null){if(qn(n),n.alternate===null)throw Error(s(340));Ni()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 13:if(qn(n),e=n.memoizedState,e!==null&&e.dehydrated!==null){if(n.alternate===null)throw Error(s(340));Ni()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 19:return F(Kt),null;case 4:return de(),null;case 10:return Wr(n.type),null;case 22:case 23:return qn(n),af(),e!==null&&F(Ti),e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 24:return Wr(Wt),null;case 25:return null;default:return null}}function Ug(e,n){switch(qd(n),n.tag){case 3:Wr(Wt),de();break;case 26:case 27:case 5:Ue(n);break;case 4:de();break;case 31:n.memoizedState!==null&&qn(n);break;case 13:qn(n);break;case 19:F(Kt);break;case 10:Wr(n.type);break;case 22:case 23:qn(n),af(),e!==null&&F(Ti);break;case 24:Wr(Wt)}}function ql(e,n){try{var i=n.updateQueue,l=i!==null?i.lastEffect:null;if(l!==null){var m=l.next;i=m;do{if((i.tag&e)===e){l=void 0;var g=i.create,N=i.inst;l=g(),N.destroy=l}i=i.next}while(i!==m)}}catch(L){Ct(n,n.return,L)}}function $a(e,n,i){try{var l=n.updateQueue,m=l!==null?l.lastEffect:null;if(m!==null){var g=m.next;l=g;do{if((l.tag&e)===e){var N=l.inst,L=N.destroy;if(L!==void 0){N.destroy=void 0,m=n;var V=i,pe=L;try{pe()}catch(Se){Ct(m,V,Se)}}}l=l.next}while(l!==g)}}catch(Se){Ct(n,n.return,Se)}}function Bg(e){var n=e.updateQueue;if(n!==null){var i=e.stateNode;try{Cp(n,i)}catch(l){Ct(e,e.return,l)}}}function $g(e,n,i){i.props=Li(e.type,e.memoizedProps),i.state=e.memoizedState;try{i.componentWillUnmount()}catch(l){Ct(e,n,l)}}function Il(e,n){try{var i=e.ref;if(i!==null){switch(e.tag){case 26:case 27:case 5:var l=e.stateNode;break;case 30:l=e.stateNode;break;default:l=e.stateNode}typeof i=="function"?e.refCleanup=i(l):i.current=l}}catch(m){Ct(e,n,m)}}function jr(e,n){var i=e.ref,l=e.refCleanup;if(i!==null)if(typeof l=="function")try{l()}catch(m){Ct(e,n,m)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof i=="function")try{i(null)}catch(m){Ct(e,n,m)}else i.current=null}function Hg(e){var n=e.type,i=e.memoizedProps,l=e.stateNode;try{e:switch(n){case"button":case"input":case"select":case"textarea":i.autoFocus&&l.focus();break e;case"img":i.src?l.src=i.src:i.srcSet&&(l.srcset=i.srcSet)}}catch(m){Ct(e,e.return,m)}}function Ff(e,n,i){try{var l=e.stateNode;Kw(l,e.type,i,n),l[un]=n}catch(m){Ct(e,e.return,m)}}function Pg(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&Ga(e.type)||e.tag===4}function Uf(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Pg(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&Ga(e.type)||e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Bf(e,n,i){var l=e.tag;if(l===5||l===6)e=e.stateNode,n?(i.nodeType===9?i.body:i.nodeName==="HTML"?i.ownerDocument.body:i).insertBefore(e,n):(n=i.nodeType===9?i.body:i.nodeName==="HTML"?i.ownerDocument.body:i,n.appendChild(e),i=i._reactRootContainer,i!=null||n.onclick!==null||(n.onclick=Gr));else if(l!==4&&(l===27&&Ga(e.type)&&(i=e.stateNode,n=null),e=e.child,e!==null))for(Bf(e,n,i),e=e.sibling;e!==null;)Bf(e,n,i),e=e.sibling}function Rc(e,n,i){var l=e.tag;if(l===5||l===6)e=e.stateNode,n?i.insertBefore(e,n):i.appendChild(e);else if(l!==4&&(l===27&&Ga(e.type)&&(i=e.stateNode),e=e.child,e!==null))for(Rc(e,n,i),e=e.sibling;e!==null;)Rc(e,n,i),e=e.sibling}function qg(e){var n=e.stateNode,i=e.memoizedProps;try{for(var l=e.type,m=n.attributes;m.length;)n.removeAttributeNode(m[0]);mn(n,l,i),n[rn]=e,n[un]=i}catch(g){Ct(e,e.return,g)}}var ra=!1,tn=!1,$f=!1,Ig=typeof WeakSet=="function"?WeakSet:Set,sn=null;function Nw(e,n){if(e=e.containerInfo,lh=eu,e=np(e),Md(e)){if("selectionStart"in e)var i={start:e.selectionStart,end:e.selectionEnd};else e:{i=(i=e.ownerDocument)&&i.defaultView||window;var l=i.getSelection&&i.getSelection();if(l&&l.rangeCount!==0){i=l.anchorNode;var m=l.anchorOffset,g=l.focusNode;l=l.focusOffset;try{i.nodeType,g.nodeType}catch{i=null;break e}var N=0,L=-1,V=-1,pe=0,Se=0,Ce=e,ge=null;t:for(;;){for(var ye;Ce!==i||m!==0&&Ce.nodeType!==3||(L=N+m),Ce!==g||l!==0&&Ce.nodeType!==3||(V=N+l),Ce.nodeType===3&&(N+=Ce.nodeValue.length),(ye=Ce.firstChild)!==null;)ge=Ce,Ce=ye;for(;;){if(Ce===e)break t;if(ge===i&&++pe===m&&(L=N),ge===g&&++Se===l&&(V=N),(ye=Ce.nextSibling)!==null)break;Ce=ge,ge=Ce.parentNode}Ce=ye}i=L===-1||V===-1?null:{start:L,end:V}}else i=null}i=i||{start:0,end:0}}else i=null;for(oh={focusedElem:e,selectionRange:i},eu=!1,sn=n;sn!==null;)if(n=sn,e=n.child,(n.subtreeFlags&1028)!==0&&e!==null)e.return=n,sn=e;else for(;sn!==null;){switch(n=sn,g=n.alternate,e=n.flags,n.tag){case 0:if((e&4)!==0&&(e=n.updateQueue,e=e!==null?e.events:null,e!==null))for(i=0;i<e.length;i++)m=e[i],m.ref.impl=m.nextImpl;break;case 11:case 15:break;case 1:if((e&1024)!==0&&g!==null){e=void 0,i=n,m=g.memoizedProps,g=g.memoizedState,l=i.stateNode;try{var Ie=Li(i.type,m);e=l.getSnapshotBeforeUpdate(Ie,g),l.__reactInternalSnapshotBeforeUpdate=e}catch(et){Ct(i,i.return,et)}}break;case 3:if((e&1024)!==0){if(e=n.stateNode.containerInfo,i=e.nodeType,i===9)dh(e);else if(i===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":dh(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(s(163))}if(e=n.sibling,e!==null){e.return=n.return,sn=e;break}sn=n.return}}function Yg(e,n,i){var l=i.flags;switch(i.tag){case 0:case 11:case 15:ia(e,i),l&4&&ql(5,i);break;case 1:if(ia(e,i),l&4)if(e=i.stateNode,n===null)try{e.componentDidMount()}catch(N){Ct(i,i.return,N)}else{var m=Li(i.type,n.memoizedProps);n=n.memoizedState;try{e.componentDidUpdate(m,n,e.__reactInternalSnapshotBeforeUpdate)}catch(N){Ct(i,i.return,N)}}l&64&&Bg(i),l&512&&Il(i,i.return);break;case 3:if(ia(e,i),l&64&&(e=i.updateQueue,e!==null)){if(n=null,i.child!==null)switch(i.child.tag){case 27:case 5:n=i.child.stateNode;break;case 1:n=i.child.stateNode}try{Cp(e,n)}catch(N){Ct(i,i.return,N)}}break;case 27:n===null&&l&4&&qg(i);case 26:case 5:ia(e,i),n===null&&l&4&&Hg(i),l&512&&Il(i,i.return);break;case 12:ia(e,i);break;case 31:ia(e,i),l&4&&Zg(e,i);break;case 13:ia(e,i),l&4&&Kg(e,i),l&64&&(e=i.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(i=Fw.bind(null,i),r5(e,i))));break;case 22:if(l=i.memoizedState!==null||ra,!l){n=n!==null&&n.memoizedState!==null||tn,m=ra;var g=tn;ra=l,(tn=n)&&!g?sa(e,i,(i.subtreeFlags&8772)!==0):ia(e,i),ra=m,tn=g}break;case 30:break;default:ia(e,i)}}function Qg(e){var n=e.alternate;n!==null&&(e.alternate=null,Qg(n)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(n=e.stateNode,n!==null&&fs(n)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var Ht=null,Cn=!1;function aa(e,n,i){for(i=i.child;i!==null;)Gg(e,n,i),i=i.sibling}function Gg(e,n,i){if(Je&&typeof Je.onCommitFiberUnmount=="function")try{Je.onCommitFiberUnmount(Be,i)}catch{}switch(i.tag){case 26:tn||jr(i,n),aa(e,n,i),i.memoizedState?i.memoizedState.count--:i.stateNode&&(i=i.stateNode,i.parentNode.removeChild(i));break;case 27:tn||jr(i,n);var l=Ht,m=Cn;Ga(i.type)&&(Ht=i.stateNode,Cn=!1),aa(e,n,i),Jl(i.stateNode),Ht=l,Cn=m;break;case 5:tn||jr(i,n);case 6:if(l=Ht,m=Cn,Ht=null,aa(e,n,i),Ht=l,Cn=m,Ht!==null)if(Cn)try{(Ht.nodeType===9?Ht.body:Ht.nodeName==="HTML"?Ht.ownerDocument.body:Ht).removeChild(i.stateNode)}catch(g){Ct(i,n,g)}else try{Ht.removeChild(i.stateNode)}catch(g){Ct(i,n,g)}break;case 18:Ht!==null&&(Cn?(e=Ht,Bb(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,i.stateNode),Gs(e)):Bb(Ht,i.stateNode));break;case 4:l=Ht,m=Cn,Ht=i.stateNode.containerInfo,Cn=!0,aa(e,n,i),Ht=l,Cn=m;break;case 0:case 11:case 14:case 15:$a(2,i,n),tn||$a(4,i,n),aa(e,n,i);break;case 1:tn||(jr(i,n),l=i.stateNode,typeof l.componentWillUnmount=="function"&&$g(i,n,l)),aa(e,n,i);break;case 21:aa(e,n,i);break;case 22:tn=(l=tn)||i.memoizedState!==null,aa(e,n,i),tn=l;break;default:aa(e,n,i)}}function Zg(e,n){if(n.memoizedState===null&&(e=n.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{Gs(e)}catch(i){Ct(n,n.return,i)}}}function Kg(e,n){if(n.memoizedState===null&&(e=n.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{Gs(e)}catch(i){Ct(n,n.return,i)}}function Cw(e){switch(e.tag){case 31:case 13:case 19:var n=e.stateNode;return n===null&&(n=e.stateNode=new Ig),n;case 22:return e=e.stateNode,n=e._retryCache,n===null&&(n=e._retryCache=new Ig),n;default:throw Error(s(435,e.tag))}}function Oc(e,n){var i=Cw(e);n.forEach(function(l){if(!i.has(l)){i.add(l);var m=Uw.bind(null,e,l);l.then(m,m)}})}function An(e,n){var i=n.deletions;if(i!==null)for(var l=0;l<i.length;l++){var m=i[l],g=e,N=n,L=N;e:for(;L!==null;){switch(L.tag){case 27:if(Ga(L.type)){Ht=L.stateNode,Cn=!1;break e}break;case 5:Ht=L.stateNode,Cn=!1;break e;case 3:case 4:Ht=L.stateNode.containerInfo,Cn=!0;break e}L=L.return}if(Ht===null)throw Error(s(160));Gg(g,N,m),Ht=null,Cn=!1,g=m.alternate,g!==null&&(g.return=null),m.return=null}if(n.subtreeFlags&13886)for(n=n.child;n!==null;)Xg(n,e),n=n.sibling}var fr=null;function Xg(e,n){var i=e.alternate,l=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:An(n,e),Tn(e),l&4&&($a(3,e,e.return),ql(3,e),$a(5,e,e.return));break;case 1:An(n,e),Tn(e),l&512&&(tn||i===null||jr(i,i.return)),l&64&&ra&&(e=e.updateQueue,e!==null&&(l=e.callbacks,l!==null&&(i=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=i===null?l:i.concat(l))));break;case 26:var m=fr;if(An(n,e),Tn(e),l&512&&(tn||i===null||jr(i,i.return)),l&4){var g=i!==null?i.memoizedState:null;if(l=e.memoizedState,i===null)if(l===null)if(e.stateNode===null){e:{l=e.type,i=e.memoizedProps,m=m.ownerDocument||m;t:switch(l){case"title":g=m.getElementsByTagName("title")[0],(!g||g[_i]||g[rn]||g.namespaceURI==="http://www.w3.org/2000/svg"||g.hasAttribute("itemprop"))&&(g=m.createElement(l),m.head.insertBefore(g,m.querySelector("head > title"))),mn(g,l,i),g[rn]=e,ce(g),l=g;break e;case"link":var N=Xb("link","href",m).get(l+(i.href||""));if(N){for(var L=0;L<N.length;L++)if(g=N[L],g.getAttribute("href")===(i.href==null||i.href===""?null:i.href)&&g.getAttribute("rel")===(i.rel==null?null:i.rel)&&g.getAttribute("title")===(i.title==null?null:i.title)&&g.getAttribute("crossorigin")===(i.crossOrigin==null?null:i.crossOrigin)){N.splice(L,1);break t}}g=m.createElement(l),mn(g,l,i),m.head.appendChild(g);break;case"meta":if(N=Xb("meta","content",m).get(l+(i.content||""))){for(L=0;L<N.length;L++)if(g=N[L],g.getAttribute("content")===(i.content==null?null:""+i.content)&&g.getAttribute("name")===(i.name==null?null:i.name)&&g.getAttribute("property")===(i.property==null?null:i.property)&&g.getAttribute("http-equiv")===(i.httpEquiv==null?null:i.httpEquiv)&&g.getAttribute("charset")===(i.charSet==null?null:i.charSet)){N.splice(L,1);break t}}g=m.createElement(l),mn(g,l,i),m.head.appendChild(g);break;default:throw Error(s(468,l))}g[rn]=e,ce(g),l=g}e.stateNode=l}else Vb(m,e.type,e.stateNode);else e.stateNode=Kb(m,l,e.memoizedProps);else g!==l?(g===null?i.stateNode!==null&&(i=i.stateNode,i.parentNode.removeChild(i)):g.count--,l===null?Vb(m,e.type,e.stateNode):Kb(m,l,e.memoizedProps)):l===null&&e.stateNode!==null&&Ff(e,e.memoizedProps,i.memoizedProps)}break;case 27:An(n,e),Tn(e),l&512&&(tn||i===null||jr(i,i.return)),i!==null&&l&4&&Ff(e,e.memoizedProps,i.memoizedProps);break;case 5:if(An(n,e),Tn(e),l&512&&(tn||i===null||jr(i,i.return)),e.flags&32){m=e.stateNode;try{gs(m,"")}catch(Ie){Ct(e,e.return,Ie)}}l&4&&e.stateNode!=null&&(m=e.memoizedProps,Ff(e,m,i!==null?i.memoizedProps:m)),l&1024&&($f=!0);break;case 6:if(An(n,e),Tn(e),l&4){if(e.stateNode===null)throw Error(s(162));l=e.memoizedProps,i=e.stateNode;try{i.nodeValue=l}catch(Ie){Ct(e,e.return,Ie)}}break;case 3:if(Xc=null,m=fr,fr=Zc(n.containerInfo),An(n,e),fr=m,Tn(e),l&4&&i!==null&&i.memoizedState.isDehydrated)try{Gs(n.containerInfo)}catch(Ie){Ct(e,e.return,Ie)}$f&&($f=!1,Vg(e));break;case 4:l=fr,fr=Zc(e.stateNode.containerInfo),An(n,e),Tn(e),fr=l;break;case 12:An(n,e),Tn(e);break;case 31:An(n,e),Tn(e),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,Oc(e,l)));break;case 13:An(n,e),Tn(e),e.child.flags&8192&&e.memoizedState!==null!=(i!==null&&i.memoizedState!==null)&&(Lc=ve()),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,Oc(e,l)));break;case 22:m=e.memoizedState!==null;var V=i!==null&&i.memoizedState!==null,pe=ra,Se=tn;if(ra=pe||m,tn=Se||V,An(n,e),tn=Se,ra=pe,Tn(e),l&8192)e:for(n=e.stateNode,n._visibility=m?n._visibility&-2:n._visibility|1,m&&(i===null||V||ra||tn||Fi(e)),i=null,n=e;;){if(n.tag===5||n.tag===26){if(i===null){V=i=n;try{if(g=V.stateNode,m)N=g.style,typeof N.setProperty=="function"?N.setProperty("display","none","important"):N.display="none";else{L=V.stateNode;var Ce=V.memoizedProps.style,ge=Ce!=null&&Ce.hasOwnProperty("display")?Ce.display:null;L.style.display=ge==null||typeof ge=="boolean"?"":(""+ge).trim()}}catch(Ie){Ct(V,V.return,Ie)}}}else if(n.tag===6){if(i===null){V=n;try{V.stateNode.nodeValue=m?"":V.memoizedProps}catch(Ie){Ct(V,V.return,Ie)}}}else if(n.tag===18){if(i===null){V=n;try{var ye=V.stateNode;m?$b(ye,!0):$b(V.stateNode,!1)}catch(Ie){Ct(V,V.return,Ie)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===e)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break e;for(;n.sibling===null;){if(n.return===null||n.return===e)break e;i===n&&(i=null),n=n.return}i===n&&(i=null),n.sibling.return=n.return,n=n.sibling}l&4&&(l=e.updateQueue,l!==null&&(i=l.retryQueue,i!==null&&(l.retryQueue=null,Oc(e,i))));break;case 19:An(n,e),Tn(e),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,Oc(e,l)));break;case 30:break;case 21:break;default:An(n,e),Tn(e)}}function Tn(e){var n=e.flags;if(n&2){try{for(var i,l=e.return;l!==null;){if(Pg(l)){i=l;break}l=l.return}if(i==null)throw Error(s(160));switch(i.tag){case 27:var m=i.stateNode,g=Uf(e);Rc(e,g,m);break;case 5:var N=i.stateNode;i.flags&32&&(gs(N,""),i.flags&=-33);var L=Uf(e);Rc(e,L,N);break;case 3:case 4:var V=i.stateNode.containerInfo,pe=Uf(e);Bf(e,pe,V);break;default:throw Error(s(161))}}catch(Se){Ct(e,e.return,Se)}e.flags&=-3}n&4096&&(e.flags&=-4097)}function Vg(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var n=e;Vg(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),e=e.sibling}}function ia(e,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)Yg(e,n.alternate,n),n=n.sibling}function Fi(e){for(e=e.child;e!==null;){var n=e;switch(n.tag){case 0:case 11:case 14:case 15:$a(4,n,n.return),Fi(n);break;case 1:jr(n,n.return);var i=n.stateNode;typeof i.componentWillUnmount=="function"&&$g(n,n.return,i),Fi(n);break;case 27:Jl(n.stateNode);case 26:case 5:jr(n,n.return),Fi(n);break;case 22:n.memoizedState===null&&Fi(n);break;case 30:Fi(n);break;default:Fi(n)}e=e.sibling}}function sa(e,n,i){for(i=i&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var l=n.alternate,m=e,g=n,N=g.flags;switch(g.tag){case 0:case 11:case 15:sa(m,g,i),ql(4,g);break;case 1:if(sa(m,g,i),l=g,m=l.stateNode,typeof m.componentDidMount=="function")try{m.componentDidMount()}catch(pe){Ct(l,l.return,pe)}if(l=g,m=l.updateQueue,m!==null){var L=l.stateNode;try{var V=m.shared.hiddenCallbacks;if(V!==null)for(m.shared.hiddenCallbacks=null,m=0;m<V.length;m++)Np(V[m],L)}catch(pe){Ct(l,l.return,pe)}}i&&N&64&&Bg(g),Il(g,g.return);break;case 27:qg(g);case 26:case 5:sa(m,g,i),i&&l===null&&N&4&&Hg(g),Il(g,g.return);break;case 12:sa(m,g,i);break;case 31:sa(m,g,i),i&&N&4&&Zg(m,g);break;case 13:sa(m,g,i),i&&N&4&&Kg(m,g);break;case 22:g.memoizedState===null&&sa(m,g,i),Il(g,g.return);break;case 30:break;default:sa(m,g,i)}n=n.sibling}}function Hf(e,n){var i=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(i=e.memoizedState.cachePool.pool),e=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(e=n.memoizedState.cachePool.pool),e!==i&&(e!=null&&e.refCount++,i!=null&&Al(i))}function Pf(e,n){e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&Al(e))}function hr(e,n,i,l){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)Wg(e,n,i,l),n=n.sibling}function Wg(e,n,i,l){var m=n.flags;switch(n.tag){case 0:case 11:case 15:hr(e,n,i,l),m&2048&&ql(9,n);break;case 1:hr(e,n,i,l);break;case 3:hr(e,n,i,l),m&2048&&(e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&Al(e)));break;case 12:if(m&2048){hr(e,n,i,l),e=n.stateNode;try{var g=n.memoizedProps,N=g.id,L=g.onPostCommit;typeof L=="function"&&L(N,n.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(V){Ct(n,n.return,V)}}else hr(e,n,i,l);break;case 31:hr(e,n,i,l);break;case 13:hr(e,n,i,l);break;case 23:break;case 22:g=n.stateNode,N=n.alternate,n.memoizedState!==null?g._visibility&2?hr(e,n,i,l):Yl(e,n):g._visibility&2?hr(e,n,i,l):(g._visibility|=2,Ls(e,n,i,l,(n.subtreeFlags&10256)!==0||!1)),m&2048&&Hf(N,n);break;case 24:hr(e,n,i,l),m&2048&&Pf(n.alternate,n);break;default:hr(e,n,i,l)}}function Ls(e,n,i,l,m){for(m=m&&((n.subtreeFlags&10256)!==0||!1),n=n.child;n!==null;){var g=e,N=n,L=i,V=l,pe=N.flags;switch(N.tag){case 0:case 11:case 15:Ls(g,N,L,V,m),ql(8,N);break;case 23:break;case 22:var Se=N.stateNode;N.memoizedState!==null?Se._visibility&2?Ls(g,N,L,V,m):Yl(g,N):(Se._visibility|=2,Ls(g,N,L,V,m)),m&&pe&2048&&Hf(N.alternate,N);break;case 24:Ls(g,N,L,V,m),m&&pe&2048&&Pf(N.alternate,N);break;default:Ls(g,N,L,V,m)}n=n.sibling}}function Yl(e,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var i=e,l=n,m=l.flags;switch(l.tag){case 22:Yl(i,l),m&2048&&Hf(l.alternate,l);break;case 24:Yl(i,l),m&2048&&Pf(l.alternate,l);break;default:Yl(i,l)}n=n.sibling}}var Ql=8192;function Fs(e,n,i){if(e.subtreeFlags&Ql)for(e=e.child;e!==null;)Jg(e,n,i),e=e.sibling}function Jg(e,n,i){switch(e.tag){case 26:Fs(e,n,i),e.flags&Ql&&e.memoizedState!==null&&p5(i,fr,e.memoizedState,e.memoizedProps);break;case 5:Fs(e,n,i);break;case 3:case 4:var l=fr;fr=Zc(e.stateNode.containerInfo),Fs(e,n,i),fr=l;break;case 22:e.memoizedState===null&&(l=e.alternate,l!==null&&l.memoizedState!==null?(l=Ql,Ql=16777216,Fs(e,n,i),Ql=l):Fs(e,n,i));break;default:Fs(e,n,i)}}function eb(e){var n=e.alternate;if(n!==null&&(e=n.child,e!==null)){n.child=null;do n=e.sibling,e.sibling=null,e=n;while(e!==null)}}function Gl(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var i=0;i<n.length;i++){var l=n[i];sn=l,nb(l,e)}eb(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)tb(e),e=e.sibling}function tb(e){switch(e.tag){case 0:case 11:case 15:Gl(e),e.flags&2048&&$a(9,e,e.return);break;case 3:Gl(e);break;case 12:Gl(e);break;case 22:var n=e.stateNode;e.memoizedState!==null&&n._visibility&2&&(e.return===null||e.return.tag!==13)?(n._visibility&=-3,Dc(e)):Gl(e);break;default:Gl(e)}}function Dc(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var i=0;i<n.length;i++){var l=n[i];sn=l,nb(l,e)}eb(e)}for(e=e.child;e!==null;){switch(n=e,n.tag){case 0:case 11:case 15:$a(8,n,n.return),Dc(n);break;case 22:i=n.stateNode,i._visibility&2&&(i._visibility&=-3,Dc(n));break;default:Dc(n)}e=e.sibling}}function nb(e,n){for(;sn!==null;){var i=sn;switch(i.tag){case 0:case 11:case 15:$a(8,i,n);break;case 23:case 22:if(i.memoizedState!==null&&i.memoizedState.cachePool!==null){var l=i.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:Al(i.memoizedState.cache)}if(l=i.child,l!==null)l.return=i,sn=l;else e:for(i=e;sn!==null;){l=sn;var m=l.sibling,g=l.return;if(Qg(l),l===i){sn=null;break e}if(m!==null){m.return=g,sn=m;break e}sn=g}}}var Aw={getCacheForType:function(e){var n=fn(Wt),i=n.data.get(e);return i===void 0&&(i=e(),n.data.set(e,i)),i},cacheSignal:function(){return fn(Wt).controller.signal}},Tw=typeof WeakMap=="function"?WeakMap:Map,kt=0,Rt=null,dt=null,mt=0,Nt=0,In=null,Ha=!1,Us=!1,qf=!1,la=0,Yt=0,Pa=0,Ui=0,If=0,Yn=0,Bs=0,Zl=null,Mn=null,Yf=!1,Lc=0,rb=0,Fc=1/0,Uc=null,qa=null,an=0,Ia=null,$s=null,oa=0,Qf=0,Gf=null,ab=null,Kl=0,Zf=null;function Qn(){return(kt&2)!==0&&mt!==0?mt&-mt:K.T!==null?eh():Sr()}function ib(){if(Yn===0)if((mt&536870912)===0||gt){var e=Dt;Dt<<=1,(Dt&3932160)===0&&(Dt=262144),Yn=e}else Yn=536870912;return e=Pn.current,e!==null&&(e.flags|=32),Yn}function Rn(e,n,i){(e===Rt&&(Nt===2||Nt===9)||e.cancelPendingCommit!==null)&&(Hs(e,0),Ya(e,mt,Yn,!1)),Re(e,i),((kt&2)===0||e!==Rt)&&(e===Rt&&((kt&2)===0&&(Ui|=i),Yt===4&&Ya(e,mt,Yn,!1)),Nr(e))}function sb(e,n,i){if((kt&6)!==0)throw Error(s(327));var l=!i&&(n&127)===0&&(n&e.expiredLanes)===0||xe(e,n),m=l?Ow(e,n):Xf(e,n,!0),g=l;do{if(m===0){Us&&!l&&Ya(e,n,0,!1);break}else{if(i=e.current.alternate,g&&!Mw(i)){m=Xf(e,n,!1),g=!1;continue}if(m===2){if(g=n,e.errorRecoveryDisabledLanes&g)var N=0;else N=e.pendingLanes&-536870913,N=N!==0?N:N&536870912?536870912:0;if(N!==0){n=N;e:{var L=e;m=Zl;var V=L.current.memoizedState.isDehydrated;if(V&&(Hs(L,N).flags|=256),N=Xf(L,N,!1),N!==2){if(qf&&!V){L.errorRecoveryDisabledLanes|=g,Ui|=g,m=4;break e}g=Mn,Mn=m,g!==null&&(Mn===null?Mn=g:Mn.push.apply(Mn,g))}m=N}if(g=!1,m!==2)continue}}if(m===1){Hs(e,0),Ya(e,n,0,!0);break}e:{switch(l=e,g=m,g){case 0:case 1:throw Error(s(345));case 4:if((n&4194048)!==n)break;case 6:Ya(l,n,Yn,!Ha);break e;case 2:Mn=null;break;case 3:case 5:break;default:throw Error(s(329))}if((n&62914560)===n&&(m=Lc+300-ve(),10<m)){if(Ya(l,n,Yn,!Ha),jn(l,0,!0)!==0)break e;oa=n,l.timeoutHandle=Fb(lb.bind(null,l,i,Mn,Uc,Yf,n,Yn,Ui,Bs,Ha,g,"Throttled",-0,0),m);break e}lb(l,i,Mn,Uc,Yf,n,Yn,Ui,Bs,Ha,g,null,-0,0)}}break}while(!0);Nr(e)}function lb(e,n,i,l,m,g,N,L,V,pe,Se,Ce,ge,ye){if(e.timeoutHandle=-1,Ce=n.subtreeFlags,Ce&8192||(Ce&16785408)===16785408){Ce={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Gr},Jg(n,g,Ce);var Ie=(g&62914560)===g?Lc-ve():(g&4194048)===g?rb-ve():0;if(Ie=g5(Ce,Ie),Ie!==null){oa=g,e.cancelPendingCommit=Ie(pb.bind(null,e,n,g,i,l,m,N,L,V,Se,Ce,null,ge,ye)),Ya(e,g,N,!pe);return}}pb(e,n,g,i,l,m,N,L,V)}function Mw(e){for(var n=e;;){var i=n.tag;if((i===0||i===11||i===15)&&n.flags&16384&&(i=n.updateQueue,i!==null&&(i=i.stores,i!==null)))for(var l=0;l<i.length;l++){var m=i[l],g=m.getSnapshot;m=m.value;try{if(!$n(g(),m))return!1}catch{return!1}}if(i=n.child,n.subtreeFlags&16384&&i!==null)i.return=n,n=i;else{if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function Ya(e,n,i,l){n&=~If,n&=~Ui,e.suspendedLanes|=n,e.pingedLanes&=~n,l&&(e.warmLanes|=n),l=e.expirationTimes;for(var m=n;0<m;){var g=31-Pe(m),N=1<<g;l[g]=-1,m&=~N}i!==0&&Xe(e,i,n)}function Bc(){return(kt&6)===0?(Xl(0),!1):!0}function Kf(){if(dt!==null){if(Nt===0)var e=dt.return;else e=dt,Vr=Ci=null,df(e),Ts=null,Ml=0,e=dt;for(;e!==null;)Ug(e.alternate,e),e=e.return;dt=null}}function Hs(e,n){var i=e.timeoutHandle;i!==-1&&(e.timeoutHandle=-1,Ww(i)),i=e.cancelPendingCommit,i!==null&&(e.cancelPendingCommit=null,i()),oa=0,Kf(),Rt=e,dt=i=Kr(e.current,null),mt=n,Nt=0,In=null,Ha=!1,Us=xe(e,n),qf=!1,Bs=Yn=If=Ui=Pa=Yt=0,Mn=Zl=null,Yf=!1,(n&8)!==0&&(n|=n&32);var l=e.entangledLanes;if(l!==0)for(e=e.entanglements,l&=n;0<l;){var m=31-Pe(l),g=1<<m;n|=e[m],l&=~g}return la=n,sc(),i}function ob(e,n){lt=null,K.H=$l,n===As||n===mc?(n=zp(),Nt=3):n===Wd?(n=zp(),Nt=4):Nt=n===jf?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,In=n,dt===null&&(Yt=1,Nc(e,Wn(n,e.current)))}function cb(){var e=Pn.current;return e===null?!0:(mt&4194048)===mt?nr===null:(mt&62914560)===mt||(mt&536870912)!==0?e===nr:!1}function ub(){var e=K.H;return K.H=$l,e===null?$l:e}function db(){var e=K.A;return K.A=Aw,e}function $c(){Yt=4,Ha||(mt&4194048)!==mt&&Pn.current!==null||(Us=!0),(Pa&134217727)===0&&(Ui&134217727)===0||Rt===null||Ya(Rt,mt,Yn,!1)}function Xf(e,n,i){var l=kt;kt|=2;var m=ub(),g=db();(Rt!==e||mt!==n)&&(Uc=null,Hs(e,n)),n=!1;var N=Yt;e:do try{if(Nt!==0&&dt!==null){var L=dt,V=In;switch(Nt){case 8:Kf(),N=6;break e;case 3:case 2:case 9:case 6:Pn.current===null&&(n=!0);var pe=Nt;if(Nt=0,In=null,Ps(e,L,V,pe),i&&Us){N=0;break e}break;default:pe=Nt,Nt=0,In=null,Ps(e,L,V,pe)}}Rw(),N=Yt;break}catch(Se){ob(e,Se)}while(!0);return n&&e.shellSuspendCounter++,Vr=Ci=null,kt=l,K.H=m,K.A=g,dt===null&&(Rt=null,mt=0,sc()),N}function Rw(){for(;dt!==null;)fb(dt)}function Ow(e,n){var i=kt;kt|=2;var l=ub(),m=db();Rt!==e||mt!==n?(Uc=null,Fc=ve()+500,Hs(e,n)):Us=xe(e,n);e:do try{if(Nt!==0&&dt!==null){n=dt;var g=In;t:switch(Nt){case 1:Nt=0,In=null,Ps(e,n,g,1);break;case 2:case 9:if(_p(g)){Nt=0,In=null,hb(n);break}n=function(){Nt!==2&&Nt!==9||Rt!==e||(Nt=7),Nr(e)},g.then(n,n);break e;case 3:Nt=7;break e;case 4:Nt=5;break e;case 7:_p(g)?(Nt=0,In=null,hb(n)):(Nt=0,In=null,Ps(e,n,g,7));break;case 5:var N=null;switch(dt.tag){case 26:N=dt.memoizedState;case 5:case 27:var L=dt;if(N?Wb(N):L.stateNode.complete){Nt=0,In=null;var V=L.sibling;if(V!==null)dt=V;else{var pe=L.return;pe!==null?(dt=pe,Hc(pe)):dt=null}break t}}Nt=0,In=null,Ps(e,n,g,5);break;case 6:Nt=0,In=null,Ps(e,n,g,6);break;case 8:Kf(),Yt=6;break e;default:throw Error(s(462))}}Dw();break}catch(Se){ob(e,Se)}while(!0);return Vr=Ci=null,K.H=l,K.A=m,kt=i,dt!==null?0:(Rt=null,mt=0,sc(),Yt)}function Dw(){for(;dt!==null&&!oe();)fb(dt)}function fb(e){var n=Lg(e.alternate,e,la);e.memoizedProps=e.pendingProps,n===null?Hc(e):dt=n}function hb(e){var n=e,i=n.alternate;switch(n.tag){case 15:case 0:n=Ag(i,n,n.pendingProps,n.type,void 0,mt);break;case 11:n=Ag(i,n,n.pendingProps,n.type.render,n.ref,mt);break;case 5:df(n);default:Ug(i,n),n=dt=dp(n,la),n=Lg(i,n,la)}e.memoizedProps=e.pendingProps,n===null?Hc(e):dt=n}function Ps(e,n,i,l){Vr=Ci=null,df(n),Ts=null,Ml=0;var m=n.return;try{if(Sw(e,m,n,i,mt)){Yt=1,Nc(e,Wn(i,e.current)),dt=null;return}}catch(g){if(m!==null)throw dt=m,g;Yt=1,Nc(e,Wn(i,e.current)),dt=null;return}n.flags&32768?(gt||l===1?e=!0:Us||(mt&536870912)!==0?e=!1:(Ha=e=!0,(l===2||l===9||l===3||l===6)&&(l=Pn.current,l!==null&&l.tag===13&&(l.flags|=16384))),mb(n,e)):Hc(n)}function Hc(e){var n=e;do{if((n.flags&32768)!==0){mb(n,Ha);return}e=n.return;var i=Ew(n.alternate,n,la);if(i!==null){dt=i;return}if(n=n.sibling,n!==null){dt=n;return}dt=n=e}while(n!==null);Yt===0&&(Yt=5)}function mb(e,n){do{var i=jw(e.alternate,e);if(i!==null){i.flags&=32767,dt=i;return}if(i=e.return,i!==null&&(i.flags|=32768,i.subtreeFlags=0,i.deletions=null),!n&&(e=e.sibling,e!==null)){dt=e;return}dt=e=i}while(e!==null);Yt=6,dt=null}function pb(e,n,i,l,m,g,N,L,V){e.cancelPendingCommit=null;do Pc();while(an!==0);if((kt&6)!==0)throw Error(s(327));if(n!==null){if(n===e.current)throw Error(s(177));if(g=n.lanes|n.childLanes,g|=Fd,Le(e,i,g,N,L,V),e===Rt&&(dt=Rt=null,mt=0),$s=n,Ia=e,oa=i,Qf=g,Gf=m,ab=l,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,Bw(He,function(){return xb(),null})):(e.callbackNode=null,e.callbackPriority=0),l=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||l){l=K.T,K.T=null,m=I.p,I.p=2,N=kt,kt|=4;try{Nw(e,n,i)}finally{kt=N,I.p=m,K.T=l}}an=1,gb(),bb(),vb()}}function gb(){if(an===1){an=0;var e=Ia,n=$s,i=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||i){i=K.T,K.T=null;var l=I.p;I.p=2;var m=kt;kt|=4;try{Xg(n,e);var g=oh,N=np(e.containerInfo),L=g.focusedElem,V=g.selectionRange;if(N!==L&&L&&L.ownerDocument&&tp(L.ownerDocument.documentElement,L)){if(V!==null&&Md(L)){var pe=V.start,Se=V.end;if(Se===void 0&&(Se=pe),"selectionStart"in L)L.selectionStart=pe,L.selectionEnd=Math.min(Se,L.value.length);else{var Ce=L.ownerDocument||document,ge=Ce&&Ce.defaultView||window;if(ge.getSelection){var ye=ge.getSelection(),Ie=L.textContent.length,et=Math.min(V.start,Ie),Mt=V.end===void 0?et:Math.min(V.end,Ie);!ye.extend&&et>Mt&&(N=Mt,Mt=et,et=N);var le=ep(L,et),ne=ep(L,Mt);if(le&&ne&&(ye.rangeCount!==1||ye.anchorNode!==le.node||ye.anchorOffset!==le.offset||ye.focusNode!==ne.node||ye.focusOffset!==ne.offset)){var me=Ce.createRange();me.setStart(le.node,le.offset),ye.removeAllRanges(),et>Mt?(ye.addRange(me),ye.extend(ne.node,ne.offset)):(me.setEnd(ne.node,ne.offset),ye.addRange(me))}}}}for(Ce=[],ye=L;ye=ye.parentNode;)ye.nodeType===1&&Ce.push({element:ye,left:ye.scrollLeft,top:ye.scrollTop});for(typeof L.focus=="function"&&L.focus(),L=0;L<Ce.length;L++){var Ne=Ce[L];Ne.element.scrollLeft=Ne.left,Ne.element.scrollTop=Ne.top}}eu=!!lh,oh=lh=null}finally{kt=m,I.p=l,K.T=i}}e.current=n,an=2}}function bb(){if(an===2){an=0;var e=Ia,n=$s,i=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||i){i=K.T,K.T=null;var l=I.p;I.p=2;var m=kt;kt|=4;try{Yg(e,n.alternate,n)}finally{kt=m,I.p=l,K.T=i}}an=3}}function vb(){if(an===4||an===3){an=0,Te();var e=Ia,n=$s,i=oa,l=ab;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?an=5:(an=0,$s=Ia=null,yb(e,e.pendingLanes));var m=e.pendingLanes;if(m===0&&(qa=null),Vt(i),n=n.stateNode,Je&&typeof Je.onCommitFiberRoot=="function")try{Je.onCommitFiberRoot(Be,n,void 0,(n.current.flags&128)===128)}catch{}if(l!==null){n=K.T,m=I.p,I.p=2,K.T=null;try{for(var g=e.onRecoverableError,N=0;N<l.length;N++){var L=l[N];g(L.value,{componentStack:L.stack})}}finally{K.T=n,I.p=m}}(oa&3)!==0&&Pc(),Nr(e),m=e.pendingLanes,(i&261930)!==0&&(m&42)!==0?e===Zf?Kl++:(Kl=0,Zf=e):Kl=0,Xl(0)}}function yb(e,n){(e.pooledCacheLanes&=n)===0&&(n=e.pooledCache,n!=null&&(e.pooledCache=null,Al(n)))}function Pc(){return gb(),bb(),vb(),xb()}function xb(){if(an!==5)return!1;var e=Ia,n=Qf;Qf=0;var i=Vt(oa),l=K.T,m=I.p;try{I.p=32>i?32:i,K.T=null,i=Gf,Gf=null;var g=Ia,N=oa;if(an=0,$s=Ia=null,oa=0,(kt&6)!==0)throw Error(s(331));var L=kt;if(kt|=4,tb(g.current),Wg(g,g.current,N,i),kt=L,Xl(0,!1),Je&&typeof Je.onPostCommitFiberRoot=="function")try{Je.onPostCommitFiberRoot(Be,g)}catch{}return!0}finally{I.p=m,K.T=l,yb(e,n)}}function wb(e,n,i){n=Wn(i,n),n=Ef(e.stateNode,n,2),e=Fa(e,n,2),e!==null&&(Re(e,2),Nr(e))}function Ct(e,n,i){if(e.tag===3)wb(e,e,i);else for(;n!==null;){if(n.tag===3){wb(n,e,i);break}else if(n.tag===1){var l=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(qa===null||!qa.has(l))){e=Wn(i,e),i=_g(2),l=Fa(n,i,2),l!==null&&(Sg(i,l,n,e),Re(l,2),Nr(l));break}}n=n.return}}function Vf(e,n,i){var l=e.pingCache;if(l===null){l=e.pingCache=new Tw;var m=new Set;l.set(n,m)}else m=l.get(n),m===void 0&&(m=new Set,l.set(n,m));m.has(i)||(qf=!0,m.add(i),e=Lw.bind(null,e,n,i),n.then(e,e))}function Lw(e,n,i){var l=e.pingCache;l!==null&&l.delete(n),e.pingedLanes|=e.suspendedLanes&i,e.warmLanes&=~i,Rt===e&&(mt&i)===i&&(Yt===4||Yt===3&&(mt&62914560)===mt&&300>ve()-Lc?(kt&2)===0&&Hs(e,0):If|=i,Bs===mt&&(Bs=0)),Nr(e)}function _b(e,n){n===0&&(n=Y()),e=Ei(e,n),e!==null&&(Re(e,n),Nr(e))}function Fw(e){var n=e.memoizedState,i=0;n!==null&&(i=n.retryLane),_b(e,i)}function Uw(e,n){var i=0;switch(e.tag){case 31:case 13:var l=e.stateNode,m=e.memoizedState;m!==null&&(i=m.retryLane);break;case 19:l=e.stateNode;break;case 22:l=e.stateNode._retryCache;break;default:throw Error(s(314))}l!==null&&l.delete(n),_b(e,i)}function Bw(e,n){return he(e,n)}var qc=null,qs=null,Wf=!1,Ic=!1,Jf=!1,Qa=0;function Nr(e){e!==qs&&e.next===null&&(qs===null?qc=qs=e:qs=qs.next=e),Ic=!0,Wf||(Wf=!0,Hw())}function Xl(e,n){if(!Jf&&Ic){Jf=!0;do for(var i=!1,l=qc;l!==null;){if(e!==0){var m=l.pendingLanes;if(m===0)var g=0;else{var N=l.suspendedLanes,L=l.pingedLanes;g=(1<<31-Pe(42|e)+1)-1,g&=m&~(N&~L),g=g&201326741?g&201326741|1:g?g|2:0}g!==0&&(i=!0,Eb(l,g))}else g=mt,g=jn(l,l===Rt?g:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(g&3)===0||xe(l,g)||(i=!0,Eb(l,g));l=l.next}while(i);Jf=!1}}function $w(){Sb()}function Sb(){Ic=Wf=!1;var e=0;Qa!==0&&Vw()&&(e=Qa);for(var n=ve(),i=null,l=qc;l!==null;){var m=l.next,g=zb(l,n);g===0?(l.next=null,i===null?qc=m:i.next=m,m===null&&(qs=i)):(i=l,(e!==0||(g&3)!==0)&&(Ic=!0)),l=m}an!==0&&an!==5||Xl(e),Qa!==0&&(Qa=0)}function zb(e,n){for(var i=e.suspendedLanes,l=e.pingedLanes,m=e.expirationTimes,g=e.pendingLanes&-62914561;0<g;){var N=31-Pe(g),L=1<<N,V=m[N];V===-1?((L&i)===0||(L&l)!==0)&&(m[N]=Ke(L,n)):V<=n&&(e.expiredLanes|=L),g&=~L}if(n=Rt,i=mt,i=jn(e,e===n?i:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),l=e.callbackNode,i===0||e===n&&(Nt===2||Nt===9)||e.cancelPendingCommit!==null)return l!==null&&l!==null&&ke(l),e.callbackNode=null,e.callbackPriority=0;if((i&3)===0||xe(e,i)){if(n=i&-i,n===e.callbackPriority)return n;switch(l!==null&&ke(l),Vt(i)){case 2:case 8:i=Ee;break;case 32:i=He;break;case 268435456:i=$e;break;default:i=He}return l=kb.bind(null,e),i=he(i,l),e.callbackPriority=n,e.callbackNode=i,n}return l!==null&&l!==null&&ke(l),e.callbackPriority=2,e.callbackNode=null,2}function kb(e,n){if(an!==0&&an!==5)return e.callbackNode=null,e.callbackPriority=0,null;var i=e.callbackNode;if(Pc()&&e.callbackNode!==i)return null;var l=mt;return l=jn(e,e===Rt?l:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),l===0?null:(sb(e,l,n),zb(e,ve()),e.callbackNode!=null&&e.callbackNode===i?kb.bind(null,e):null)}function Eb(e,n){if(Pc())return null;sb(e,n,!0)}function Hw(){Jw(function(){(kt&6)!==0?he(De,$w):Sb()})}function eh(){if(Qa===0){var e=Ns;e===0&&(e=xt,xt<<=1,(xt&261888)===0&&(xt=256)),Qa=e}return Qa}function jb(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:Wo(""+e)}function Nb(e,n){var i=n.ownerDocument.createElement("input");return i.name=n.name,i.value=n.value,e.id&&i.setAttribute("form",e.id),n.parentNode.insertBefore(i,n),e=new FormData(e),i.parentNode.removeChild(i),e}function Pw(e,n,i,l,m){if(n==="submit"&&i&&i.stateNode===m){var g=jb((m[un]||null).action),N=l.submitter;N&&(n=(n=N[un]||null)?jb(n.formAction):N.getAttribute("formAction"),n!==null&&(g=n,N=null));var L=new nc("action","action",null,l,m);e.push({event:L,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(Qa!==0){var V=N?Nb(m,N):new FormData(m);xf(i,{pending:!0,data:V,method:m.method,action:g},null,V)}}else typeof g=="function"&&(L.preventDefault(),V=N?Nb(m,N):new FormData(m),xf(i,{pending:!0,data:V,method:m.method,action:g},g,V))},currentTarget:m}]})}}for(var th=0;th<Ld.length;th++){var nh=Ld[th],qw=nh.toLowerCase(),Iw=nh[0].toUpperCase()+nh.slice(1);dr(qw,"on"+Iw)}dr(ip,"onAnimationEnd"),dr(sp,"onAnimationIteration"),dr(lp,"onAnimationStart"),dr("dblclick","onDoubleClick"),dr("focusin","onFocus"),dr("focusout","onBlur"),dr(sw,"onTransitionRun"),dr(lw,"onTransitionStart"),dr(ow,"onTransitionCancel"),dr(op,"onTransitionEnd"),_t("onMouseEnter",["mouseout","mouseover"]),_t("onMouseLeave",["mouseout","mouseover"]),_t("onPointerEnter",["pointerout","pointerover"]),_t("onPointerLeave",["pointerout","pointerover"]),ut("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),ut("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),ut("onBeforeInput",["compositionend","keypress","textInput","paste"]),ut("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),ut("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),ut("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Vl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Yw=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Vl));function Cb(e,n){n=(n&4)!==0;for(var i=0;i<e.length;i++){var l=e[i],m=l.event;l=l.listeners;e:{var g=void 0;if(n)for(var N=l.length-1;0<=N;N--){var L=l[N],V=L.instance,pe=L.currentTarget;if(L=L.listener,V!==g&&m.isPropagationStopped())break e;g=L,m.currentTarget=pe;try{g(m)}catch(Se){ic(Se)}m.currentTarget=null,g=V}else for(N=0;N<l.length;N++){if(L=l[N],V=L.instance,pe=L.currentTarget,L=L.listener,V!==g&&m.isPropagationStopped())break e;g=L,m.currentTarget=pe;try{g(m)}catch(Se){ic(Se)}m.currentTarget=null,g=V}}}}function ft(e,n){var i=n[$r];i===void 0&&(i=n[$r]=new Set);var l=e+"__bubble";i.has(l)||(Ab(n,e,2,!1),i.add(l))}function rh(e,n,i){var l=0;n&&(l|=4),Ab(i,e,l,n)}var Yc="_reactListening"+Math.random().toString(36).slice(2);function ah(e){if(!e[Yc]){e[Yc]=!0,Ve.forEach(function(i){i!=="selectionchange"&&(Yw.has(i)||rh(i,!1,e),rh(i,!0,e))});var n=e.nodeType===9?e:e.ownerDocument;n===null||n[Yc]||(n[Yc]=!0,rh("selectionchange",!1,n))}}function Ab(e,n,i,l){switch(iv(n)){case 2:var m=y5;break;case 8:m=x5;break;default:m=yh}i=m.bind(null,n,i,e),m=void 0,!Sd||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(m=!0),l?m!==void 0?e.addEventListener(n,i,{capture:!0,passive:m}):e.addEventListener(n,i,!0):m!==void 0?e.addEventListener(n,i,{passive:m}):e.addEventListener(n,i,!1)}function ih(e,n,i,l,m){var g=l;if((n&1)===0&&(n&2)===0&&l!==null)e:for(;;){if(l===null)return;var N=l.tag;if(N===3||N===4){var L=l.stateNode.containerInfo;if(L===m)break;if(N===4)for(N=l.return;N!==null;){var V=N.tag;if((V===3||V===4)&&N.stateNode.containerInfo===m)return;N=N.return}for(;L!==null;){if(N=Hr(L),N===null)return;if(V=N.tag,V===5||V===6||V===26||V===27){l=g=N;continue e}L=L.parentNode}}l=l.return}D0(function(){var pe=g,Se=wd(i),Ce=[];e:{var ge=cp.get(e);if(ge!==void 0){var ye=nc,Ie=e;switch(e){case"keypress":if(ec(i)===0)break e;case"keydown":case"keyup":ye=U2;break;case"focusin":Ie="focus",ye=jd;break;case"focusout":Ie="blur",ye=jd;break;case"beforeblur":case"afterblur":ye=jd;break;case"click":if(i.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ye=U0;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ye=E2;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ye=H2;break;case ip:case sp:case lp:ye=C2;break;case op:ye=q2;break;case"scroll":case"scrollend":ye=z2;break;case"wheel":ye=Y2;break;case"copy":case"cut":case"paste":ye=T2;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ye=$0;break;case"toggle":case"beforetoggle":ye=G2}var et=(n&4)!==0,Mt=!et&&(e==="scroll"||e==="scrollend"),le=et?ge!==null?ge+"Capture":null:ge;et=[];for(var ne=pe,me;ne!==null;){var Ne=ne;if(me=Ne.stateNode,Ne=Ne.tag,Ne!==5&&Ne!==26&&Ne!==27||me===null||le===null||(Ne=yl(ne,le),Ne!=null&&et.push(Wl(ne,Ne,me))),Mt)break;ne=ne.return}0<et.length&&(ge=new ye(ge,Ie,null,i,Se),Ce.push({event:ge,listeners:et}))}}if((n&7)===0){e:{if(ge=e==="mouseover"||e==="pointerover",ye=e==="mouseout"||e==="pointerout",ge&&i!==xd&&(Ie=i.relatedTarget||i.fromElement)&&(Hr(Ie)||Ie[Br]))break e;if((ye||ge)&&(ge=Se.window===Se?Se:(ge=Se.ownerDocument)?ge.defaultView||ge.parentWindow:window,ye?(Ie=i.relatedTarget||i.toElement,ye=pe,Ie=Ie?Hr(Ie):null,Ie!==null&&(Mt=u(Ie),et=Ie.tag,Ie!==Mt||et!==5&&et!==27&&et!==6)&&(Ie=null)):(ye=null,Ie=pe),ye!==Ie)){if(et=U0,Ne="onMouseLeave",le="onMouseEnter",ne="mouse",(e==="pointerout"||e==="pointerover")&&(et=$0,Ne="onPointerLeave",le="onPointerEnter",ne="pointer"),Mt=ye==null?ge:Na(ye),me=Ie==null?ge:Na(Ie),ge=new et(Ne,ne+"leave",ye,i,Se),ge.target=Mt,ge.relatedTarget=me,Ne=null,Hr(Se)===pe&&(et=new et(le,ne+"enter",Ie,i,Se),et.target=me,et.relatedTarget=Mt,Ne=et),Mt=Ne,ye&&Ie)t:{for(et=Qw,le=ye,ne=Ie,me=0,Ne=le;Ne;Ne=et(Ne))me++;Ne=0;for(var We=ne;We;We=et(We))Ne++;for(;0<me-Ne;)le=et(le),me--;for(;0<Ne-me;)ne=et(ne),Ne--;for(;me--;){if(le===ne||ne!==null&&le===ne.alternate){et=le;break t}le=et(le),ne=et(ne)}et=null}else et=null;ye!==null&&Tb(Ce,ge,ye,et,!1),Ie!==null&&Mt!==null&&Tb(Ce,Mt,Ie,et,!0)}}e:{if(ge=pe?Na(pe):window,ye=ge.nodeName&&ge.nodeName.toLowerCase(),ye==="select"||ye==="input"&&ge.type==="file")var St=Z0;else if(Q0(ge))if(K0)St=rw;else{St=tw;var Ye=ew}else ye=ge.nodeName,!ye||ye.toLowerCase()!=="input"||ge.type!=="checkbox"&&ge.type!=="radio"?pe&&yd(pe.elementType)&&(St=Z0):St=nw;if(St&&(St=St(e,pe))){G0(Ce,St,i,Se);break e}Ye&&Ye(e,ge,pe),e==="focusout"&&pe&&ge.type==="number"&&pe.memoizedProps.value!=null&&vd(ge,"number",ge.value)}switch(Ye=pe?Na(pe):window,e){case"focusin":(Q0(Ye)||Ye.contentEditable==="true")&&(xs=Ye,Rd=pe,jl=null);break;case"focusout":jl=Rd=xs=null;break;case"mousedown":Od=!0;break;case"contextmenu":case"mouseup":case"dragend":Od=!1,rp(Ce,i,Se);break;case"selectionchange":if(iw)break;case"keydown":case"keyup":rp(Ce,i,Se)}var ct;if(Cd)e:{switch(e){case"compositionstart":var pt="onCompositionStart";break e;case"compositionend":pt="onCompositionEnd";break e;case"compositionupdate":pt="onCompositionUpdate";break e}pt=void 0}else ys?I0(e,i)&&(pt="onCompositionEnd"):e==="keydown"&&i.keyCode===229&&(pt="onCompositionStart");pt&&(H0&&i.locale!=="ko"&&(ys||pt!=="onCompositionStart"?pt==="onCompositionEnd"&&ys&&(ct=L0()):(Aa=Se,zd="value"in Aa?Aa.value:Aa.textContent,ys=!0)),Ye=Qc(pe,pt),0<Ye.length&&(pt=new B0(pt,e,null,i,Se),Ce.push({event:pt,listeners:Ye}),ct?pt.data=ct:(ct=Y0(i),ct!==null&&(pt.data=ct)))),(ct=K2?X2(e,i):V2(e,i))&&(pt=Qc(pe,"onBeforeInput"),0<pt.length&&(Ye=new B0("onBeforeInput","beforeinput",null,i,Se),Ce.push({event:Ye,listeners:pt}),Ye.data=ct)),Pw(Ce,e,pe,i,Se)}Cb(Ce,n)})}function Wl(e,n,i){return{instance:e,listener:n,currentTarget:i}}function Qc(e,n){for(var i=n+"Capture",l=[];e!==null;){var m=e,g=m.stateNode;if(m=m.tag,m!==5&&m!==26&&m!==27||g===null||(m=yl(e,i),m!=null&&l.unshift(Wl(e,m,g)),m=yl(e,n),m!=null&&l.push(Wl(e,m,g))),e.tag===3)return l;e=e.return}return[]}function Qw(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function Tb(e,n,i,l,m){for(var g=n._reactName,N=[];i!==null&&i!==l;){var L=i,V=L.alternate,pe=L.stateNode;if(L=L.tag,V!==null&&V===l)break;L!==5&&L!==26&&L!==27||pe===null||(V=pe,m?(pe=yl(i,g),pe!=null&&N.unshift(Wl(i,pe,V))):m||(pe=yl(i,g),pe!=null&&N.push(Wl(i,pe,V)))),i=i.return}N.length!==0&&e.push({event:n,listeners:N})}var Gw=/\r\n?/g,Zw=/\u0000|\uFFFD/g;function Mb(e){return(typeof e=="string"?e:""+e).replace(Gw,`
`).replace(Zw,"")}function Rb(e,n){return n=Mb(n),Mb(e)===n}function Tt(e,n,i,l,m,g){switch(i){case"children":typeof l=="string"?n==="body"||n==="textarea"&&l===""||gs(e,l):(typeof l=="number"||typeof l=="bigint")&&n!=="body"&&gs(e,""+l);break;case"className":ms(e,"class",l);break;case"tabIndex":ms(e,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":ms(e,i,l);break;case"style":R0(e,l,g);break;case"data":if(n!=="object"){ms(e,"data",l);break}case"src":case"href":if(l===""&&(n!=="a"||i!=="href")){e.removeAttribute(i);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){e.removeAttribute(i);break}l=Wo(""+l),e.setAttribute(i,l);break;case"action":case"formAction":if(typeof l=="function"){e.setAttribute(i,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof g=="function"&&(i==="formAction"?(n!=="input"&&Tt(e,n,"name",m.name,m,null),Tt(e,n,"formEncType",m.formEncType,m,null),Tt(e,n,"formMethod",m.formMethod,m,null),Tt(e,n,"formTarget",m.formTarget,m,null)):(Tt(e,n,"encType",m.encType,m,null),Tt(e,n,"method",m.method,m,null),Tt(e,n,"target",m.target,m,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){e.removeAttribute(i);break}l=Wo(""+l),e.setAttribute(i,l);break;case"onClick":l!=null&&(e.onclick=Gr);break;case"onScroll":l!=null&&ft("scroll",e);break;case"onScrollEnd":l!=null&&ft("scrollend",e);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(i=l.__html,i!=null){if(m.children!=null)throw Error(s(60));e.innerHTML=i}}break;case"multiple":e.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":e.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){e.removeAttribute("xlink:href");break}i=Wo(""+l),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",i);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(i,""+l):e.removeAttribute(i);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(i,""):e.removeAttribute(i);break;case"capture":case"download":l===!0?e.setAttribute(i,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(i,l):e.removeAttribute(i);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?e.setAttribute(i,l):e.removeAttribute(i);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?e.removeAttribute(i):e.setAttribute(i,l);break;case"popover":ft("beforetoggle",e),ft("toggle",e),Yr(e,"popover",l);break;case"xlinkActuate":Qr(e,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":Qr(e,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":Qr(e,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":Qr(e,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":Qr(e,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":Qr(e,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":Qr(e,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":Qr(e,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":Qr(e,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":Yr(e,"is",l);break;case"innerText":case"textContent":break;default:(!(2<i.length)||i[0]!=="o"&&i[0]!=="O"||i[1]!=="n"&&i[1]!=="N")&&(i=_2.get(i)||i,Yr(e,i,l))}}function sh(e,n,i,l,m,g){switch(i){case"style":R0(e,l,g);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(i=l.__html,i!=null){if(m.children!=null)throw Error(s(60));e.innerHTML=i}}break;case"children":typeof l=="string"?gs(e,l):(typeof l=="number"||typeof l=="bigint")&&gs(e,""+l);break;case"onScroll":l!=null&&ft("scroll",e);break;case"onScrollEnd":l!=null&&ft("scrollend",e);break;case"onClick":l!=null&&(e.onclick=Gr);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!ht.hasOwnProperty(i))e:{if(i[0]==="o"&&i[1]==="n"&&(m=i.endsWith("Capture"),n=i.slice(2,m?i.length-7:void 0),g=e[un]||null,g=g!=null?g[i]:null,typeof g=="function"&&e.removeEventListener(n,g,m),typeof l=="function")){typeof g!="function"&&g!==null&&(i in e?e[i]=null:e.hasAttribute(i)&&e.removeAttribute(i)),e.addEventListener(n,l,m);break e}i in e?e[i]=l:l===!0?e.setAttribute(i,""):Yr(e,i,l)}}}function mn(e,n,i){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":ft("error",e),ft("load",e);var l=!1,m=!1,g;for(g in i)if(i.hasOwnProperty(g)){var N=i[g];if(N!=null)switch(g){case"src":l=!0;break;case"srcSet":m=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,n));default:Tt(e,n,g,N,i,null)}}m&&Tt(e,n,"srcSet",i.srcSet,i,null),l&&Tt(e,n,"src",i.src,i,null);return;case"input":ft("invalid",e);var L=g=N=m=null,V=null,pe=null;for(l in i)if(i.hasOwnProperty(l)){var Se=i[l];if(Se!=null)switch(l){case"name":m=Se;break;case"type":N=Se;break;case"checked":V=Se;break;case"defaultChecked":pe=Se;break;case"value":g=Se;break;case"defaultValue":L=Se;break;case"children":case"dangerouslySetInnerHTML":if(Se!=null)throw Error(s(137,n));break;default:Tt(e,n,l,Se,i,null)}}C0(e,g,L,V,pe,N,m,!1);return;case"select":ft("invalid",e),l=N=g=null;for(m in i)if(i.hasOwnProperty(m)&&(L=i[m],L!=null))switch(m){case"value":g=L;break;case"defaultValue":N=L;break;case"multiple":l=L;default:Tt(e,n,m,L,i,null)}n=g,i=N,e.multiple=!!l,n!=null?ps(e,!!l,n,!1):i!=null&&ps(e,!!l,i,!0);return;case"textarea":ft("invalid",e),g=m=l=null;for(N in i)if(i.hasOwnProperty(N)&&(L=i[N],L!=null))switch(N){case"value":l=L;break;case"defaultValue":m=L;break;case"children":g=L;break;case"dangerouslySetInnerHTML":if(L!=null)throw Error(s(91));break;default:Tt(e,n,N,L,i,null)}T0(e,l,m,g);return;case"option":for(V in i)if(i.hasOwnProperty(V)&&(l=i[V],l!=null))switch(V){case"selected":e.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:Tt(e,n,V,l,i,null)}return;case"dialog":ft("beforetoggle",e),ft("toggle",e),ft("cancel",e),ft("close",e);break;case"iframe":case"object":ft("load",e);break;case"video":case"audio":for(l=0;l<Vl.length;l++)ft(Vl[l],e);break;case"image":ft("error",e),ft("load",e);break;case"details":ft("toggle",e);break;case"embed":case"source":case"link":ft("error",e),ft("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(pe in i)if(i.hasOwnProperty(pe)&&(l=i[pe],l!=null))switch(pe){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,n));default:Tt(e,n,pe,l,i,null)}return;default:if(yd(n)){for(Se in i)i.hasOwnProperty(Se)&&(l=i[Se],l!==void 0&&sh(e,n,Se,l,i,void 0));return}}for(L in i)i.hasOwnProperty(L)&&(l=i[L],l!=null&&Tt(e,n,L,l,i,null))}function Kw(e,n,i,l){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var m=null,g=null,N=null,L=null,V=null,pe=null,Se=null;for(ye in i){var Ce=i[ye];if(i.hasOwnProperty(ye)&&Ce!=null)switch(ye){case"checked":break;case"value":break;case"defaultValue":V=Ce;default:l.hasOwnProperty(ye)||Tt(e,n,ye,null,l,Ce)}}for(var ge in l){var ye=l[ge];if(Ce=i[ge],l.hasOwnProperty(ge)&&(ye!=null||Ce!=null))switch(ge){case"type":g=ye;break;case"name":m=ye;break;case"checked":pe=ye;break;case"defaultChecked":Se=ye;break;case"value":N=ye;break;case"defaultValue":L=ye;break;case"children":case"dangerouslySetInnerHTML":if(ye!=null)throw Error(s(137,n));break;default:ye!==Ce&&Tt(e,n,ge,ye,l,Ce)}}bd(e,N,L,V,pe,Se,g,m);return;case"select":ye=N=L=ge=null;for(g in i)if(V=i[g],i.hasOwnProperty(g)&&V!=null)switch(g){case"value":break;case"multiple":ye=V;default:l.hasOwnProperty(g)||Tt(e,n,g,null,l,V)}for(m in l)if(g=l[m],V=i[m],l.hasOwnProperty(m)&&(g!=null||V!=null))switch(m){case"value":ge=g;break;case"defaultValue":L=g;break;case"multiple":N=g;default:g!==V&&Tt(e,n,m,g,l,V)}n=L,i=N,l=ye,ge!=null?ps(e,!!i,ge,!1):!!l!=!!i&&(n!=null?ps(e,!!i,n,!0):ps(e,!!i,i?[]:"",!1));return;case"textarea":ye=ge=null;for(L in i)if(m=i[L],i.hasOwnProperty(L)&&m!=null&&!l.hasOwnProperty(L))switch(L){case"value":break;case"children":break;default:Tt(e,n,L,null,l,m)}for(N in l)if(m=l[N],g=i[N],l.hasOwnProperty(N)&&(m!=null||g!=null))switch(N){case"value":ge=m;break;case"defaultValue":ye=m;break;case"children":break;case"dangerouslySetInnerHTML":if(m!=null)throw Error(s(91));break;default:m!==g&&Tt(e,n,N,m,l,g)}A0(e,ge,ye);return;case"option":for(var Ie in i)if(ge=i[Ie],i.hasOwnProperty(Ie)&&ge!=null&&!l.hasOwnProperty(Ie))switch(Ie){case"selected":e.selected=!1;break;default:Tt(e,n,Ie,null,l,ge)}for(V in l)if(ge=l[V],ye=i[V],l.hasOwnProperty(V)&&ge!==ye&&(ge!=null||ye!=null))switch(V){case"selected":e.selected=ge&&typeof ge!="function"&&typeof ge!="symbol";break;default:Tt(e,n,V,ge,l,ye)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var et in i)ge=i[et],i.hasOwnProperty(et)&&ge!=null&&!l.hasOwnProperty(et)&&Tt(e,n,et,null,l,ge);for(pe in l)if(ge=l[pe],ye=i[pe],l.hasOwnProperty(pe)&&ge!==ye&&(ge!=null||ye!=null))switch(pe){case"children":case"dangerouslySetInnerHTML":if(ge!=null)throw Error(s(137,n));break;default:Tt(e,n,pe,ge,l,ye)}return;default:if(yd(n)){for(var Mt in i)ge=i[Mt],i.hasOwnProperty(Mt)&&ge!==void 0&&!l.hasOwnProperty(Mt)&&sh(e,n,Mt,void 0,l,ge);for(Se in l)ge=l[Se],ye=i[Se],!l.hasOwnProperty(Se)||ge===ye||ge===void 0&&ye===void 0||sh(e,n,Se,ge,l,ye);return}}for(var le in i)ge=i[le],i.hasOwnProperty(le)&&ge!=null&&!l.hasOwnProperty(le)&&Tt(e,n,le,null,l,ge);for(Ce in l)ge=l[Ce],ye=i[Ce],!l.hasOwnProperty(Ce)||ge===ye||ge==null&&ye==null||Tt(e,n,Ce,ge,l,ye)}function Ob(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function Xw(){if(typeof performance.getEntriesByType=="function"){for(var e=0,n=0,i=performance.getEntriesByType("resource"),l=0;l<i.length;l++){var m=i[l],g=m.transferSize,N=m.initiatorType,L=m.duration;if(g&&L&&Ob(N)){for(N=0,L=m.responseEnd,l+=1;l<i.length;l++){var V=i[l],pe=V.startTime;if(pe>L)break;var Se=V.transferSize,Ce=V.initiatorType;Se&&Ob(Ce)&&(V=V.responseEnd,N+=Se*(V<L?1:(L-pe)/(V-pe)))}if(--l,n+=8*(g+N)/(m.duration/1e3),e++,10<e)break}}if(0<e)return n/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var lh=null,oh=null;function Gc(e){return e.nodeType===9?e:e.ownerDocument}function Db(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Lb(e,n){if(e===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&n==="foreignObject"?0:e}function ch(e,n){return e==="textarea"||e==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var uh=null;function Vw(){var e=window.event;return e&&e.type==="popstate"?e===uh?!1:(uh=e,!0):(uh=null,!1)}var Fb=typeof setTimeout=="function"?setTimeout:void 0,Ww=typeof clearTimeout=="function"?clearTimeout:void 0,Ub=typeof Promise=="function"?Promise:void 0,Jw=typeof queueMicrotask=="function"?queueMicrotask:typeof Ub<"u"?function(e){return Ub.resolve(null).then(e).catch(e5)}:Fb;function e5(e){setTimeout(function(){throw e})}function Ga(e){return e==="head"}function Bb(e,n){var i=n,l=0;do{var m=i.nextSibling;if(e.removeChild(i),m&&m.nodeType===8)if(i=m.data,i==="/$"||i==="/&"){if(l===0){e.removeChild(m),Gs(n);return}l--}else if(i==="$"||i==="$?"||i==="$~"||i==="$!"||i==="&")l++;else if(i==="html")Jl(e.ownerDocument.documentElement);else if(i==="head"){i=e.ownerDocument.head,Jl(i);for(var g=i.firstChild;g;){var N=g.nextSibling,L=g.nodeName;g[_i]||L==="SCRIPT"||L==="STYLE"||L==="LINK"&&g.rel.toLowerCase()==="stylesheet"||i.removeChild(g),g=N}}else i==="body"&&Jl(e.ownerDocument.body);i=m}while(i);Gs(n)}function $b(e,n){var i=e;e=0;do{var l=i.nextSibling;if(i.nodeType===1?n?(i._stashedDisplay=i.style.display,i.style.display="none"):(i.style.display=i._stashedDisplay||"",i.getAttribute("style")===""&&i.removeAttribute("style")):i.nodeType===3&&(n?(i._stashedText=i.nodeValue,i.nodeValue=""):i.nodeValue=i._stashedText||""),l&&l.nodeType===8)if(i=l.data,i==="/$"){if(e===0)break;e--}else i!=="$"&&i!=="$?"&&i!=="$~"&&i!=="$!"||e++;i=l}while(i)}function dh(e){var n=e.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var i=n;switch(n=n.nextSibling,i.nodeName){case"HTML":case"HEAD":case"BODY":dh(i),fs(i);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(i.rel.toLowerCase()==="stylesheet")continue}e.removeChild(i)}}function t5(e,n,i,l){for(;e.nodeType===1;){var m=i;if(e.nodeName.toLowerCase()!==n.toLowerCase()){if(!l&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(l){if(!e[_i])switch(n){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(g=e.getAttribute("rel"),g==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(g!==m.rel||e.getAttribute("href")!==(m.href==null||m.href===""?null:m.href)||e.getAttribute("crossorigin")!==(m.crossOrigin==null?null:m.crossOrigin)||e.getAttribute("title")!==(m.title==null?null:m.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(g=e.getAttribute("src"),(g!==(m.src==null?null:m.src)||e.getAttribute("type")!==(m.type==null?null:m.type)||e.getAttribute("crossorigin")!==(m.crossOrigin==null?null:m.crossOrigin))&&g&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(n==="input"&&e.type==="hidden"){var g=m.name==null?null:""+m.name;if(m.type==="hidden"&&e.getAttribute("name")===g)return e}else return e;if(e=rr(e.nextSibling),e===null)break}return null}function n5(e,n,i){if(n==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!i||(e=rr(e.nextSibling),e===null))return null;return e}function Hb(e,n){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!n||(e=rr(e.nextSibling),e===null))return null;return e}function fh(e){return e.data==="$?"||e.data==="$~"}function hh(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function r5(e,n){var i=e.ownerDocument;if(e.data==="$~")e._reactRetry=n;else if(e.data!=="$?"||i.readyState!=="loading")n();else{var l=function(){n(),i.removeEventListener("DOMContentLoaded",l)};i.addEventListener("DOMContentLoaded",l),e._reactRetry=l}}function rr(e){for(;e!=null;e=e.nextSibling){var n=e.nodeType;if(n===1||n===3)break;if(n===8){if(n=e.data,n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"||n==="F!"||n==="F")break;if(n==="/$"||n==="/&")return null}}return e}var mh=null;function Pb(e){e=e.nextSibling;for(var n=0;e;){if(e.nodeType===8){var i=e.data;if(i==="/$"||i==="/&"){if(n===0)return rr(e.nextSibling);n--}else i!=="$"&&i!=="$!"&&i!=="$?"&&i!=="$~"&&i!=="&"||n++}e=e.nextSibling}return null}function qb(e){e=e.previousSibling;for(var n=0;e;){if(e.nodeType===8){var i=e.data;if(i==="$"||i==="$!"||i==="$?"||i==="$~"||i==="&"){if(n===0)return e;n--}else i!=="/$"&&i!=="/&"||n++}e=e.previousSibling}return null}function Ib(e,n,i){switch(n=Gc(i),e){case"html":if(e=n.documentElement,!e)throw Error(s(452));return e;case"head":if(e=n.head,!e)throw Error(s(453));return e;case"body":if(e=n.body,!e)throw Error(s(454));return e;default:throw Error(s(451))}}function Jl(e){for(var n=e.attributes;n.length;)e.removeAttributeNode(n[0]);fs(e)}var ar=new Map,Yb=new Set;function Zc(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var ca=I.d;I.d={f:a5,r:i5,D:s5,C:l5,L:o5,m:c5,X:d5,S:u5,M:f5};function a5(){var e=ca.f(),n=Bc();return e||n}function i5(e){var n=Pr(e);n!==null&&n.tag===5&&n.type==="form"?og(n):ca.r(e)}var Is=typeof document>"u"?null:document;function Qb(e,n,i){var l=Is;if(l&&typeof n=="string"&&n){var m=Xn(n);m='link[rel="'+e+'"][href="'+m+'"]',typeof i=="string"&&(m+='[crossorigin="'+i+'"]'),Yb.has(m)||(Yb.add(m),e={rel:e,crossOrigin:i,href:n},l.querySelector(m)===null&&(n=l.createElement("link"),mn(n,"link",e),ce(n),l.head.appendChild(n)))}}function s5(e){ca.D(e),Qb("dns-prefetch",e,null)}function l5(e,n){ca.C(e,n),Qb("preconnect",e,n)}function o5(e,n,i){ca.L(e,n,i);var l=Is;if(l&&e&&n){var m='link[rel="preload"][as="'+Xn(n)+'"]';n==="image"&&i&&i.imageSrcSet?(m+='[imagesrcset="'+Xn(i.imageSrcSet)+'"]',typeof i.imageSizes=="string"&&(m+='[imagesizes="'+Xn(i.imageSizes)+'"]')):m+='[href="'+Xn(e)+'"]';var g=m;switch(n){case"style":g=Ys(e);break;case"script":g=Qs(e)}ar.has(g)||(e=y({rel:"preload",href:n==="image"&&i&&i.imageSrcSet?void 0:e,as:n},i),ar.set(g,e),l.querySelector(m)!==null||n==="style"&&l.querySelector(eo(g))||n==="script"&&l.querySelector(to(g))||(n=l.createElement("link"),mn(n,"link",e),ce(n),l.head.appendChild(n)))}}function c5(e,n){ca.m(e,n);var i=Is;if(i&&e){var l=n&&typeof n.as=="string"?n.as:"script",m='link[rel="modulepreload"][as="'+Xn(l)+'"][href="'+Xn(e)+'"]',g=m;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":g=Qs(e)}if(!ar.has(g)&&(e=y({rel:"modulepreload",href:e},n),ar.set(g,e),i.querySelector(m)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(i.querySelector(to(g)))return}l=i.createElement("link"),mn(l,"link",e),ce(l),i.head.appendChild(l)}}}function u5(e,n,i){ca.S(e,n,i);var l=Is;if(l&&e){var m=qr(l).hoistableStyles,g=Ys(e);n=n||"default";var N=m.get(g);if(!N){var L={loading:0,preload:null};if(N=l.querySelector(eo(g)))L.loading=5;else{e=y({rel:"stylesheet",href:e,"data-precedence":n},i),(i=ar.get(g))&&ph(e,i);var V=N=l.createElement("link");ce(V),mn(V,"link",e),V._p=new Promise(function(pe,Se){V.onload=pe,V.onerror=Se}),V.addEventListener("load",function(){L.loading|=1}),V.addEventListener("error",function(){L.loading|=2}),L.loading|=4,Kc(N,n,l)}N={type:"stylesheet",instance:N,count:1,state:L},m.set(g,N)}}}function d5(e,n){ca.X(e,n);var i=Is;if(i&&e){var l=qr(i).hoistableScripts,m=Qs(e),g=l.get(m);g||(g=i.querySelector(to(m)),g||(e=y({src:e,async:!0},n),(n=ar.get(m))&&gh(e,n),g=i.createElement("script"),ce(g),mn(g,"link",e),i.head.appendChild(g)),g={type:"script",instance:g,count:1,state:null},l.set(m,g))}}function f5(e,n){ca.M(e,n);var i=Is;if(i&&e){var l=qr(i).hoistableScripts,m=Qs(e),g=l.get(m);g||(g=i.querySelector(to(m)),g||(e=y({src:e,async:!0,type:"module"},n),(n=ar.get(m))&&gh(e,n),g=i.createElement("script"),ce(g),mn(g,"link",e),i.head.appendChild(g)),g={type:"script",instance:g,count:1,state:null},l.set(m,g))}}function Gb(e,n,i,l){var m=(m=Me.current)?Zc(m):null;if(!m)throw Error(s(446));switch(e){case"meta":case"title":return null;case"style":return typeof i.precedence=="string"&&typeof i.href=="string"?(n=Ys(i.href),i=qr(m).hoistableStyles,l=i.get(n),l||(l={type:"style",instance:null,count:0,state:null},i.set(n,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(i.rel==="stylesheet"&&typeof i.href=="string"&&typeof i.precedence=="string"){e=Ys(i.href);var g=qr(m).hoistableStyles,N=g.get(e);if(N||(m=m.ownerDocument||m,N={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},g.set(e,N),(g=m.querySelector(eo(e)))&&!g._p&&(N.instance=g,N.state.loading=5),ar.has(e)||(i={rel:"preload",as:"style",href:i.href,crossOrigin:i.crossOrigin,integrity:i.integrity,media:i.media,hrefLang:i.hrefLang,referrerPolicy:i.referrerPolicy},ar.set(e,i),g||h5(m,e,i,N.state))),n&&l===null)throw Error(s(528,""));return N}if(n&&l!==null)throw Error(s(529,""));return null;case"script":return n=i.async,i=i.src,typeof i=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=Qs(i),i=qr(m).hoistableScripts,l=i.get(n),l||(l={type:"script",instance:null,count:0,state:null},i.set(n,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,e))}}function Ys(e){return'href="'+Xn(e)+'"'}function eo(e){return'link[rel="stylesheet"]['+e+"]"}function Zb(e){return y({},e,{"data-precedence":e.precedence,precedence:null})}function h5(e,n,i,l){e.querySelector('link[rel="preload"][as="style"]['+n+"]")?l.loading=1:(n=e.createElement("link"),l.preload=n,n.addEventListener("load",function(){return l.loading|=1}),n.addEventListener("error",function(){return l.loading|=2}),mn(n,"link",i),ce(n),e.head.appendChild(n))}function Qs(e){return'[src="'+Xn(e)+'"]'}function to(e){return"script[async]"+e}function Kb(e,n,i){if(n.count++,n.instance===null)switch(n.type){case"style":var l=e.querySelector('style[data-href~="'+Xn(i.href)+'"]');if(l)return n.instance=l,ce(l),l;var m=y({},i,{"data-href":i.href,"data-precedence":i.precedence,href:null,precedence:null});return l=(e.ownerDocument||e).createElement("style"),ce(l),mn(l,"style",m),Kc(l,i.precedence,e),n.instance=l;case"stylesheet":m=Ys(i.href);var g=e.querySelector(eo(m));if(g)return n.state.loading|=4,n.instance=g,ce(g),g;l=Zb(i),(m=ar.get(m))&&ph(l,m),g=(e.ownerDocument||e).createElement("link"),ce(g);var N=g;return N._p=new Promise(function(L,V){N.onload=L,N.onerror=V}),mn(g,"link",l),n.state.loading|=4,Kc(g,i.precedence,e),n.instance=g;case"script":return g=Qs(i.src),(m=e.querySelector(to(g)))?(n.instance=m,ce(m),m):(l=i,(m=ar.get(g))&&(l=y({},i),gh(l,m)),e=e.ownerDocument||e,m=e.createElement("script"),ce(m),mn(m,"link",l),e.head.appendChild(m),n.instance=m);case"void":return null;default:throw Error(s(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(l=n.instance,n.state.loading|=4,Kc(l,i.precedence,e));return n.instance}function Kc(e,n,i){for(var l=i.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),m=l.length?l[l.length-1]:null,g=m,N=0;N<l.length;N++){var L=l[N];if(L.dataset.precedence===n)g=L;else if(g!==m)break}g?g.parentNode.insertBefore(e,g.nextSibling):(n=i.nodeType===9?i.head:i,n.insertBefore(e,n.firstChild))}function ph(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.title==null&&(e.title=n.title)}function gh(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.integrity==null&&(e.integrity=n.integrity)}var Xc=null;function Xb(e,n,i){if(Xc===null){var l=new Map,m=Xc=new Map;m.set(i,l)}else m=Xc,l=m.get(i),l||(l=new Map,m.set(i,l));if(l.has(e))return l;for(l.set(e,null),i=i.getElementsByTagName(e),m=0;m<i.length;m++){var g=i[m];if(!(g[_i]||g[rn]||e==="link"&&g.getAttribute("rel")==="stylesheet")&&g.namespaceURI!=="http://www.w3.org/2000/svg"){var N=g.getAttribute(n)||"";N=e+N;var L=l.get(N);L?L.push(g):l.set(N,[g])}}return l}function Vb(e,n,i){e=e.ownerDocument||e,e.head.insertBefore(i,n==="title"?e.querySelector("head > title"):null)}function m5(e,n,i){if(i===1||n.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;switch(n.rel){case"stylesheet":return e=n.disabled,typeof n.precedence=="string"&&e==null;default:return!0}case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function Wb(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}function p5(e,n,i,l){if(i.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(i.state.loading&4)===0){if(i.instance===null){var m=Ys(l.href),g=n.querySelector(eo(m));if(g){n=g._p,n!==null&&typeof n=="object"&&typeof n.then=="function"&&(e.count++,e=Vc.bind(e),n.then(e,e)),i.state.loading|=4,i.instance=g,ce(g);return}g=n.ownerDocument||n,l=Zb(l),(m=ar.get(m))&&ph(l,m),g=g.createElement("link"),ce(g);var N=g;N._p=new Promise(function(L,V){N.onload=L,N.onerror=V}),mn(g,"link",l),i.instance=g}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(i,n),(n=i.state.preload)&&(i.state.loading&3)===0&&(e.count++,i=Vc.bind(e),n.addEventListener("load",i),n.addEventListener("error",i))}}var bh=0;function g5(e,n){return e.stylesheets&&e.count===0&&Jc(e,e.stylesheets),0<e.count||0<e.imgCount?function(i){var l=setTimeout(function(){if(e.stylesheets&&Jc(e,e.stylesheets),e.unsuspend){var g=e.unsuspend;e.unsuspend=null,g()}},6e4+n);0<e.imgBytes&&bh===0&&(bh=62500*Xw());var m=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&Jc(e,e.stylesheets),e.unsuspend)){var g=e.unsuspend;e.unsuspend=null,g()}},(e.imgBytes>bh?50:800)+n);return e.unsuspend=i,function(){e.unsuspend=null,clearTimeout(l),clearTimeout(m)}}:null}function Vc(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Jc(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var Wc=null;function Jc(e,n){e.stylesheets=null,e.unsuspend!==null&&(e.count++,Wc=new Map,n.forEach(b5,e),Wc=null,Vc.call(e))}function b5(e,n){if(!(n.state.loading&4)){var i=Wc.get(e);if(i)var l=i.get(null);else{i=new Map,Wc.set(e,i);for(var m=e.querySelectorAll("link[data-precedence],style[data-precedence]"),g=0;g<m.length;g++){var N=m[g];(N.nodeName==="LINK"||N.getAttribute("media")!=="not all")&&(i.set(N.dataset.precedence,N),l=N)}l&&i.set(null,l)}m=n.instance,N=m.getAttribute("data-precedence"),g=i.get(N)||l,g===l&&i.set(null,m),i.set(N,m),this.count++,l=Vc.bind(this),m.addEventListener("load",l),m.addEventListener("error",l),g?g.parentNode.insertBefore(m,g.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(m,e.firstChild)),n.state.loading|=4}}var no={$$typeof:M,Provider:null,Consumer:null,_currentValue:se,_currentValue2:se,_threadCount:0};function v5(e,n,i,l,m,g,N,L,V){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=fe(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=fe(0),this.hiddenUpdates=fe(null),this.identifierPrefix=l,this.onUncaughtError=m,this.onCaughtError=g,this.onRecoverableError=N,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=V,this.incompleteTransitions=new Map}function Jb(e,n,i,l,m,g,N,L,V,pe,Se,Ce){return e=new v5(e,n,i,N,V,pe,Se,Ce,L),n=1,g===!0&&(n|=24),g=Hn(3,null,null,n),e.current=g,g.stateNode=e,n=Kd(),n.refCount++,e.pooledCache=n,n.refCount++,g.memoizedState={element:l,isDehydrated:i,cache:n},Jd(g),e}function ev(e){return e?(e=Ss,e):Ss}function tv(e,n,i,l,m,g){m=ev(m),l.context===null?l.context=m:l.pendingContext=m,l=La(n),l.payload={element:i},g=g===void 0?null:g,g!==null&&(l.callback=g),i=Fa(e,l,n),i!==null&&(Rn(i,e,n),Ol(i,e,n))}function nv(e,n){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var i=e.retryLane;e.retryLane=i!==0&&i<n?i:n}}function vh(e,n){nv(e,n),(e=e.alternate)&&nv(e,n)}function rv(e){if(e.tag===13||e.tag===31){var n=Ei(e,67108864);n!==null&&Rn(n,e,67108864),vh(e,67108864)}}function av(e){if(e.tag===13||e.tag===31){var n=Qn();n=ot(n);var i=Ei(e,n);i!==null&&Rn(i,e,n),vh(e,n)}}var eu=!0;function y5(e,n,i,l){var m=K.T;K.T=null;var g=I.p;try{I.p=2,yh(e,n,i,l)}finally{I.p=g,K.T=m}}function x5(e,n,i,l){var m=K.T;K.T=null;var g=I.p;try{I.p=8,yh(e,n,i,l)}finally{I.p=g,K.T=m}}function yh(e,n,i,l){if(eu){var m=xh(l);if(m===null)ih(e,n,l,tu,i),sv(e,l);else if(_5(m,e,n,i,l))l.stopPropagation();else if(sv(e,l),n&4&&-1<w5.indexOf(e)){for(;m!==null;){var g=Pr(m);if(g!==null)switch(g.tag){case 3:if(g=g.stateNode,g.current.memoizedState.isDehydrated){var N=Lt(g.pendingLanes);if(N!==0){var L=g;for(L.pendingLanes|=2,L.entangledLanes|=2;N;){var V=1<<31-Pe(N);L.entanglements[1]|=V,N&=~V}Nr(g),(kt&6)===0&&(Fc=ve()+500,Xl(0))}}break;case 31:case 13:L=Ei(g,2),L!==null&&Rn(L,g,2),Bc(),vh(g,2)}if(g=xh(l),g===null&&ih(e,n,l,tu,i),g===m)break;m=g}m!==null&&l.stopPropagation()}else ih(e,n,l,null,i)}}function xh(e){return e=wd(e),wh(e)}var tu=null;function wh(e){if(tu=null,e=Hr(e),e!==null){var n=u(e);if(n===null)e=null;else{var i=n.tag;if(i===13){if(e=d(n),e!==null)return e;e=null}else if(i===31){if(e=f(n),e!==null)return e;e=null}else if(i===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;e=null}else n!==e&&(e=null)}}return tu=e,null}function iv(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(we()){case De:return 2;case Ee:return 8;case He:case Ae:return 32;case $e:return 268435456;default:return 32}default:return 32}}var _h=!1,Za=null,Ka=null,Xa=null,ro=new Map,ao=new Map,Va=[],w5="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function sv(e,n){switch(e){case"focusin":case"focusout":Za=null;break;case"dragenter":case"dragleave":Ka=null;break;case"mouseover":case"mouseout":Xa=null;break;case"pointerover":case"pointerout":ro.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":ao.delete(n.pointerId)}}function io(e,n,i,l,m,g){return e===null||e.nativeEvent!==g?(e={blockedOn:n,domEventName:i,eventSystemFlags:l,nativeEvent:g,targetContainers:[m]},n!==null&&(n=Pr(n),n!==null&&rv(n)),e):(e.eventSystemFlags|=l,n=e.targetContainers,m!==null&&n.indexOf(m)===-1&&n.push(m),e)}function _5(e,n,i,l,m){switch(n){case"focusin":return Za=io(Za,e,n,i,l,m),!0;case"dragenter":return Ka=io(Ka,e,n,i,l,m),!0;case"mouseover":return Xa=io(Xa,e,n,i,l,m),!0;case"pointerover":var g=m.pointerId;return ro.set(g,io(ro.get(g)||null,e,n,i,l,m)),!0;case"gotpointercapture":return g=m.pointerId,ao.set(g,io(ao.get(g)||null,e,n,i,l,m)),!0}return!1}function lv(e){var n=Hr(e.target);if(n!==null){var i=u(n);if(i!==null){if(n=i.tag,n===13){if(n=d(i),n!==null){e.blockedOn=n,zr(e.priority,function(){av(i)});return}}else if(n===31){if(n=f(i),n!==null){e.blockedOn=n,zr(e.priority,function(){av(i)});return}}else if(n===3&&i.stateNode.current.memoizedState.isDehydrated){e.blockedOn=i.tag===3?i.stateNode.containerInfo:null;return}}}e.blockedOn=null}function nu(e){if(e.blockedOn!==null)return!1;for(var n=e.targetContainers;0<n.length;){var i=xh(e.nativeEvent);if(i===null){i=e.nativeEvent;var l=new i.constructor(i.type,i);xd=l,i.target.dispatchEvent(l),xd=null}else return n=Pr(i),n!==null&&rv(n),e.blockedOn=i,!1;n.shift()}return!0}function ov(e,n,i){nu(e)&&i.delete(n)}function S5(){_h=!1,Za!==null&&nu(Za)&&(Za=null),Ka!==null&&nu(Ka)&&(Ka=null),Xa!==null&&nu(Xa)&&(Xa=null),ro.forEach(ov),ao.forEach(ov)}function ru(e,n){e.blockedOn===n&&(e.blockedOn=null,_h||(_h=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,S5)))}var au=null;function cv(e){au!==e&&(au=e,t.unstable_scheduleCallback(t.unstable_NormalPriority,function(){au===e&&(au=null);for(var n=0;n<e.length;n+=3){var i=e[n],l=e[n+1],m=e[n+2];if(typeof l!="function"){if(wh(l||i)===null)continue;break}var g=Pr(i);g!==null&&(e.splice(n,3),n-=3,xf(g,{pending:!0,data:m,method:i.method,action:l},l,m))}}))}function Gs(e){function n(V){return ru(V,e)}Za!==null&&ru(Za,e),Ka!==null&&ru(Ka,e),Xa!==null&&ru(Xa,e),ro.forEach(n),ao.forEach(n);for(var i=0;i<Va.length;i++){var l=Va[i];l.blockedOn===e&&(l.blockedOn=null)}for(;0<Va.length&&(i=Va[0],i.blockedOn===null);)lv(i),i.blockedOn===null&&Va.shift();if(i=(e.ownerDocument||e).$$reactFormReplay,i!=null)for(l=0;l<i.length;l+=3){var m=i[l],g=i[l+1],N=m[un]||null;if(typeof g=="function")N||cv(i);else if(N){var L=null;if(g&&g.hasAttribute("formAction")){if(m=g,N=g[un]||null)L=N.formAction;else if(wh(m)!==null)continue}else L=N.action;typeof L=="function"?i[l+1]=L:(i.splice(l,3),l-=3),cv(i)}}}function uv(){function e(g){g.canIntercept&&g.info==="react-transition"&&g.intercept({handler:function(){return new Promise(function(N){return m=N})},focusReset:"manual",scroll:"manual"})}function n(){m!==null&&(m(),m=null),l||setTimeout(i,20)}function i(){if(!l&&!navigation.transition){var g=navigation.currentEntry;g&&g.url!=null&&navigation.navigate(g.url,{state:g.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var l=!1,m=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",n),navigation.addEventListener("navigateerror",n),setTimeout(i,100),function(){l=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",n),navigation.removeEventListener("navigateerror",n),m!==null&&(m(),m=null)}}}function Sh(e){this._internalRoot=e}iu.prototype.render=Sh.prototype.render=function(e){var n=this._internalRoot;if(n===null)throw Error(s(409));var i=n.current,l=Qn();tv(i,l,e,n,null,null)},iu.prototype.unmount=Sh.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var n=e.containerInfo;tv(e.current,2,null,e,null,null),Bc(),n[Br]=null}};function iu(e){this._internalRoot=e}iu.prototype.unstable_scheduleHydration=function(e){if(e){var n=Sr();e={blockedOn:null,target:e,priority:n};for(var i=0;i<Va.length&&n!==0&&n<Va[i].priority;i++);Va.splice(i,0,e),i===0&&lv(e)}};var dv=r.version;if(dv!=="19.2.0")throw Error(s(527,dv,"19.2.0"));I.findDOMNode=function(e){var n=e._reactInternals;if(n===void 0)throw typeof e.render=="function"?Error(s(188)):(e=Object.keys(e).join(","),Error(s(268,e)));return e=p(n),e=e!==null?v(e):null,e=e===null?null:e.stateNode,e};var z5={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:K,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var su=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!su.isDisabled&&su.supportsFiber)try{Be=su.inject(z5),Je=su}catch{}}return lo.createRoot=function(e,n){if(!o(e))throw Error(s(299));var i=!1,l="",m=vg,g=yg,N=xg;return n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(l=n.identifierPrefix),n.onUncaughtError!==void 0&&(m=n.onUncaughtError),n.onCaughtError!==void 0&&(g=n.onCaughtError),n.onRecoverableError!==void 0&&(N=n.onRecoverableError)),n=Jb(e,1,!1,null,null,i,l,null,m,g,N,uv),e[Br]=n.current,ah(e),new Sh(n)},lo.hydrateRoot=function(e,n,i){if(!o(e))throw Error(s(299));var l=!1,m="",g=vg,N=yg,L=xg,V=null;return i!=null&&(i.unstable_strictMode===!0&&(l=!0),i.identifierPrefix!==void 0&&(m=i.identifierPrefix),i.onUncaughtError!==void 0&&(g=i.onUncaughtError),i.onCaughtError!==void 0&&(N=i.onCaughtError),i.onRecoverableError!==void 0&&(L=i.onRecoverableError),i.formState!==void 0&&(V=i.formState)),n=Jb(e,1,!0,n,i!=null?i:null,l,m,V,g,N,L,uv),n.context=ev(null),i=n.current,l=Qn(),l=ot(l),m=La(l),m.callback=null,Fa(i,m,l),i=l,n.current.lanes=i,Re(n,i),Nr(n),e[Br]=n.current,ah(e),new iu(n)},lo.version="19.2.0",lo}var Sv;function O5(){if(Sv)return jh.exports;Sv=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(r){console.error(r)}}return t(),jh.exports=R5(),jh.exports}var D5=O5();var zv="popstate";function L5(t={}){function r(s,o){let{pathname:u,search:d,hash:f}=s.location;return nm("",{pathname:u,search:d,hash:f},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function a(s,o){return typeof o=="string"?o:zo(o)}return U5(r,a,null,t)}function Pt(t,r){if(t===!1||t===null||typeof t>"u")throw new Error(r)}function xr(t,r){if(!t){typeof console<"u"&&console.warn(r);try{throw new Error(r)}catch{}}}function F5(){return Math.random().toString(36).substring(2,10)}function kv(t,r){return{usr:t.state,key:t.key,idx:r}}function nm(t,r,a=null,s){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof r=="string"?gl(r):r,state:a,key:r&&r.key||s||F5()}}function zo({pathname:t="/",search:r="",hash:a=""}){return r&&r!=="?"&&(t+=r.charAt(0)==="?"?r:"?"+r),a&&a!=="#"&&(t+=a.charAt(0)==="#"?a:"#"+a),t}function gl(t){let r={};if(t){let a=t.indexOf("#");a>=0&&(r.hash=t.substring(a),t=t.substring(0,a));let s=t.indexOf("?");s>=0&&(r.search=t.substring(s),t=t.substring(0,s)),t&&(r.pathname=t)}return r}function U5(t,r,a,s={}){let{window:o=document.defaultView,v5Compat:u=!1}=s,d=o.history,f="POP",h=null,p=v();p==null&&(p=0,d.replaceState({...d.state,idx:p},""));function v(){return(d.state||{idx:null}).idx}function y(){f="POP";let z=v(),k=z==null?null:z-p;p=z,h&&h({action:f,location:_.location,delta:k})}function w(z,k){f="PUSH";let C=nm(_.location,z,k);p=v()+1;let M=kv(C,p),A=_.createHref(C);try{d.pushState(M,"",A)}catch(O){if(O instanceof DOMException&&O.name==="DataCloneError")throw O;o.location.assign(A)}u&&h&&h({action:f,location:_.location,delta:1})}function x(z,k){f="REPLACE";let C=nm(_.location,z,k);p=v();let M=kv(C,p),A=_.createHref(C);d.replaceState(M,"",A),u&&h&&h({action:f,location:_.location,delta:0})}function j(z){return B5(z)}let _={get action(){return f},get location(){return t(o,d)},listen(z){if(h)throw new Error("A history only accepts one active listener");return o.addEventListener(zv,y),h=z,()=>{o.removeEventListener(zv,y),h=null}},createHref(z){return r(o,z)},createURL:j,encodeLocation(z){let k=j(z);return{pathname:k.pathname,search:k.search,hash:k.hash}},push:w,replace:x,go(z){return d.go(z)}};return _}function B5(t,r=!1){let a="http://localhost";typeof window<"u"&&(a=window.location.origin!=="null"?window.location.origin:window.location.href),Pt(a,"No window.location.(origin|href) available to create URL");let s=typeof t=="string"?t:zo(t);return s=s.replace(/ $/,"%20"),!r&&s.startsWith("//")&&(s=a+s),new URL(s,a)}function vx(t,r,a="/"){return $5(t,r,a,!1)}function $5(t,r,a,s){let o=typeof r=="string"?gl(r):r,u=Sa(o.pathname||"/",a);if(u==null)return null;let d=yx(t);H5(d);let f=null;for(let h=0;f==null&&h<d.length;++h){let p=W5(u);f=X5(d[h],p,s)}return f}function yx(t,r=[],a=[],s="",o=!1){let u=(d,f,h=o,p)=>{let v={relativePath:p===void 0?d.path||"":p,caseSensitive:d.caseSensitive===!0,childrenIndex:f,route:d};if(v.relativePath.startsWith("/")){if(!v.relativePath.startsWith(s)&&h)return;Pt(v.relativePath.startsWith(s),`Absolute route path "${v.relativePath}" nested under path "${s}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),v.relativePath=v.relativePath.slice(s.length)}let y=ya([s,v.relativePath]),w=a.concat(v);d.children&&d.children.length>0&&(Pt(d.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${y}".`),yx(d.children,r,w,y,h)),!(d.path==null&&!d.index)&&r.push({path:y,score:Z5(y,d.index),routesMeta:w})};return t.forEach((d,f)=>{var h;if(d.path===""||!((h=d.path)!=null&&h.includes("?")))u(d,f);else for(let p of xx(d.path))u(d,f,!0,p)}),r}function xx(t){let r=t.split("/");if(r.length===0)return[];let[a,...s]=r,o=a.endsWith("?"),u=a.replace(/\?$/,"");if(s.length===0)return o?[u,""]:[u];let d=xx(s.join("/")),f=[];return f.push(...d.map(h=>h===""?u:[u,h].join("/"))),o&&f.push(...d),f.map(h=>t.startsWith("/")&&h===""?"/":h)}function H5(t){t.sort((r,a)=>r.score!==a.score?a.score-r.score:K5(r.routesMeta.map(s=>s.childrenIndex),a.routesMeta.map(s=>s.childrenIndex)))}var P5=/^:[\w-]+$/,q5=3,I5=2,Y5=1,Q5=10,G5=-2,Ev=t=>t==="*";function Z5(t,r){let a=t.split("/"),s=a.length;return a.some(Ev)&&(s+=G5),r&&(s+=I5),a.filter(o=>!Ev(o)).reduce((o,u)=>o+(P5.test(u)?q5:u===""?Y5:Q5),s)}function K5(t,r){return t.length===r.length&&t.slice(0,-1).every((s,o)=>s===r[o])?t[t.length-1]-r[r.length-1]:0}function X5(t,r,a=!1){let{routesMeta:s}=t,o={},u="/",d=[];for(let f=0;f<s.length;++f){let h=s[f],p=f===s.length-1,v=u==="/"?r:r.slice(u.length)||"/",y=Au({path:h.relativePath,caseSensitive:h.caseSensitive,end:p},v),w=h.route;if(!y&&p&&a&&!s[s.length-1].route.index&&(y=Au({path:h.relativePath,caseSensitive:h.caseSensitive,end:!1},v)),!y)return null;Object.assign(o,y.params),d.push({params:o,pathname:ya([u,y.pathname]),pathnameBase:n_(ya([u,y.pathnameBase])),route:w}),y.pathnameBase!=="/"&&(u=ya([u,y.pathnameBase]))}return d}function Au(t,r){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[a,s]=V5(t.path,t.caseSensitive,t.end),o=r.match(a);if(!o)return null;let u=o[0],d=u.replace(/(.)\/+$/,"$1"),f=o.slice(1);return{params:s.reduce((p,{paramName:v,isOptional:y},w)=>{if(v==="*"){let j=f[w]||"";d=u.slice(0,u.length-j.length).replace(/(.)\/+$/,"$1")}const x=f[w];return y&&!x?p[v]=void 0:p[v]=(x||"").replace(/%2F/g,"/"),p},{}),pathname:u,pathnameBase:d,pattern:t}}function V5(t,r=!1,a=!0){xr(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let s=[],o="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(d,f,h)=>(s.push({paramName:f,isOptional:h!=null}),h?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return t.endsWith("*")?(s.push({paramName:"*"}),o+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):a?o+="\\/*$":t!==""&&t!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,r?void 0:"i"),s]}function W5(t){try{return t.split("/").map(r=>decodeURIComponent(r).replace(/\//g,"%2F")).join("/")}catch(r){return xr(!1,`The URL path "${t}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${r}).`),t}}function Sa(t,r){if(r==="/")return t;if(!t.toLowerCase().startsWith(r.toLowerCase()))return null;let a=r.endsWith("/")?r.length-1:r.length,s=t.charAt(a);return s&&s!=="/"?null:t.slice(a)||"/"}function J5(t,r="/"){let{pathname:a,search:s="",hash:o=""}=typeof t=="string"?gl(t):t;return{pathname:a?a.startsWith("/")?a:e_(a,r):r,search:r_(s),hash:a_(o)}}function e_(t,r){let a=r.replace(/\/+$/,"").split("/");return t.split("/").forEach(o=>{o===".."?a.length>1&&a.pop():o!=="."&&a.push(o)}),a.length>1?a.join("/"):"/"}function Th(t,r,a,s){return`Cannot include a '${t}' character in a manually specified \`to.${r}\` field [${JSON.stringify(s)}].  Please separate it out to the \`to.${a}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function t_(t){return t.filter((r,a)=>a===0||r.route.path&&r.route.path.length>0)}function wx(t){let r=t_(t);return r.map((a,s)=>s===r.length-1?a.pathname:a.pathnameBase)}function _x(t,r,a,s=!1){let o;typeof t=="string"?o=gl(t):(o={...t},Pt(!o.pathname||!o.pathname.includes("?"),Th("?","pathname","search",o)),Pt(!o.pathname||!o.pathname.includes("#"),Th("#","pathname","hash",o)),Pt(!o.search||!o.search.includes("#"),Th("#","search","hash",o)));let u=t===""||o.pathname==="",d=u?"/":o.pathname,f;if(d==null)f=a;else{let y=r.length-1;if(!s&&d.startsWith("..")){let w=d.split("/");for(;w[0]==="..";)w.shift(),y-=1;o.pathname=w.join("/")}f=y>=0?r[y]:"/"}let h=J5(o,f),p=d&&d!=="/"&&d.endsWith("/"),v=(u||d===".")&&a.endsWith("/");return!h.pathname.endsWith("/")&&(p||v)&&(h.pathname+="/"),h}var ya=t=>t.join("/").replace(/\/\/+/g,"/"),n_=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),r_=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,a_=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function i_(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var Sx=["POST","PUT","PATCH","DELETE"];new Set(Sx);var s_=["GET",...Sx];new Set(s_);var bl=b.createContext(null);bl.displayName="DataRouter";var Ju=b.createContext(null);Ju.displayName="DataRouterState";b.createContext(!1);var zx=b.createContext({isTransitioning:!1});zx.displayName="ViewTransition";var l_=b.createContext(new Map);l_.displayName="Fetchers";var o_=b.createContext(null);o_.displayName="Await";var Lr=b.createContext(null);Lr.displayName="Navigation";var $o=b.createContext(null);$o.displayName="Location";var wr=b.createContext({outlet:null,matches:[],isDataRoute:!1});wr.displayName="Route";var Gm=b.createContext(null);Gm.displayName="RouteError";function c_(t,{relative:r}={}){Pt(Ho(),"useHref() may be used only in the context of a <Router> component.");let{basename:a,navigator:s}=b.useContext(Lr),{hash:o,pathname:u,search:d}=Po(t,{relative:r}),f=u;return a!=="/"&&(f=u==="/"?a:ya([a,u])),s.createHref({pathname:f,search:d,hash:o})}function Ho(){return b.useContext($o)!=null}function wn(){return Pt(Ho(),"useLocation() may be used only in the context of a <Router> component."),b.useContext($o).location}var kx="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function Ex(t){b.useContext(Lr).static||b.useLayoutEffect(t)}function Ea(){let{isDataRoute:t}=b.useContext(wr);return t?k_():u_()}function u_(){Pt(Ho(),"useNavigate() may be used only in the context of a <Router> component.");let t=b.useContext(bl),{basename:r,navigator:a}=b.useContext(Lr),{matches:s}=b.useContext(wr),{pathname:o}=wn(),u=JSON.stringify(wx(s)),d=b.useRef(!1);return Ex(()=>{d.current=!0}),b.useCallback((h,p={})=>{if(xr(d.current,kx),!d.current)return;if(typeof h=="number"){a.go(h);return}let v=_x(h,JSON.parse(u),o,p.relative==="path");t==null&&r!=="/"&&(v.pathname=v.pathname==="/"?r:ya([r,v.pathname])),(p.replace?a.replace:a.push)(v,p.state,p)},[r,a,u,o,t])}var d_=b.createContext(null);function f_(t){let r=b.useContext(wr).outlet;return b.useMemo(()=>r&&b.createElement(d_.Provider,{value:t},r),[r,t])}function h_(){let{matches:t}=b.useContext(wr),r=t[t.length-1];return r?r.params:{}}function Po(t,{relative:r}={}){let{matches:a}=b.useContext(wr),{pathname:s}=wn(),o=JSON.stringify(wx(a));return b.useMemo(()=>_x(t,JSON.parse(o),s,r==="path"),[t,o,s,r])}function m_(t,r){return jx(t,r)}function jx(t,r,a,s,o){var C;Pt(Ho(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:u}=b.useContext(Lr),{matches:d}=b.useContext(wr),f=d[d.length-1],h=f?f.params:{},p=f?f.pathname:"/",v=f?f.pathnameBase:"/",y=f&&f.route;{let M=y&&y.path||"";Nx(p,!y||M.endsWith("*")||M.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${p}" (under <Route path="${M}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${M}"> to <Route path="${M==="/"?"*":`${M}/*`}">.`)}let w=wn(),x;if(r){let M=typeof r=="string"?gl(r):r;Pt(v==="/"||((C=M.pathname)==null?void 0:C.startsWith(v)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${v}" but pathname "${M.pathname}" was given in the \`location\` prop.`),x=M}else x=w;let j=x.pathname||"/",_=j;if(v!=="/"){let M=v.replace(/^\//,"").split("/");_="/"+j.replace(/^\//,"").split("/").slice(M.length).join("/")}let z=vx(t,{pathname:_});xr(y||z!=null,`No routes matched location "${x.pathname}${x.search}${x.hash}" `),xr(z==null||z[z.length-1].route.element!==void 0||z[z.length-1].route.Component!==void 0||z[z.length-1].route.lazy!==void 0,`Matched leaf route at location "${x.pathname}${x.search}${x.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let k=y_(z&&z.map(M=>Object.assign({},M,{params:Object.assign({},h,M.params),pathname:ya([v,u.encodeLocation?u.encodeLocation(M.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:M.pathname]),pathnameBase:M.pathnameBase==="/"?v:ya([v,u.encodeLocation?u.encodeLocation(M.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:M.pathnameBase])})),d,a,s,o);return r&&k?b.createElement($o.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...x},navigationType:"POP"}},k):k}function p_(){let t=z_(),r=i_(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),a=t instanceof Error?t.stack:null,s="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:s},u={padding:"2px 4px",backgroundColor:s},d=null;return console.error("Error handled by React Router default ErrorBoundary:",t),d=b.createElement(b.Fragment,null,b.createElement("p",null," Hey developer "),b.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",b.createElement("code",{style:u},"ErrorBoundary")," or"," ",b.createElement("code",{style:u},"errorElement")," prop on your route.")),b.createElement(b.Fragment,null,b.createElement("h2",null,"Unexpected Application Error!"),b.createElement("h3",{style:{fontStyle:"italic"}},r),a?b.createElement("pre",{style:o},a):null,d)}var g_=b.createElement(p_,null),b_=class extends b.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,r){return r.location!==t.location||r.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:r.error,location:r.location,revalidation:t.revalidation||r.revalidation}}componentDidCatch(t,r){this.props.unstable_onError?this.props.unstable_onError(t,r):console.error("React Router caught the following error during render",t)}render(){return this.state.error!==void 0?b.createElement(wr.Provider,{value:this.props.routeContext},b.createElement(Gm.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function v_({routeContext:t,match:r,children:a}){let s=b.useContext(bl);return s&&s.static&&s.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=r.route.id),b.createElement(wr.Provider,{value:t},a)}function y_(t,r=[],a=null,s=null,o=null){if(t==null){if(!a)return null;if(a.errors)t=a.matches;else if(r.length===0&&!a.initialized&&a.matches.length>0)t=a.matches;else return null}let u=t,d=a==null?void 0:a.errors;if(d!=null){let p=u.findIndex(v=>v.route.id&&(d==null?void 0:d[v.route.id])!==void 0);Pt(p>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(d).join(",")}`),u=u.slice(0,Math.min(u.length,p+1))}let f=!1,h=-1;if(a)for(let p=0;p<u.length;p++){let v=u[p];if((v.route.HydrateFallback||v.route.hydrateFallbackElement)&&(h=p),v.route.id){let{loaderData:y,errors:w}=a,x=v.route.loader&&!y.hasOwnProperty(v.route.id)&&(!w||w[v.route.id]===void 0);if(v.route.lazy||x){f=!0,h>=0?u=u.slice(0,h+1):u=[u[0]];break}}}return u.reduceRight((p,v,y)=>{let w,x=!1,j=null,_=null;a&&(w=d&&v.route.id?d[v.route.id]:void 0,j=v.route.errorElement||g_,f&&(h<0&&y===0?(Nx("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),x=!0,_=null):h===y&&(x=!0,_=v.route.hydrateFallbackElement||null)));let z=r.concat(u.slice(0,y+1)),k=()=>{let C;return w?C=j:x?C=_:v.route.Component?C=b.createElement(v.route.Component,null):v.route.element?C=v.route.element:C=p,b.createElement(v_,{match:v,routeContext:{outlet:p,matches:z,isDataRoute:a!=null},children:C})};return a&&(v.route.ErrorBoundary||v.route.errorElement||y===0)?b.createElement(b_,{location:a.location,revalidation:a.revalidation,component:j,error:w,children:k(),routeContext:{outlet:null,matches:z,isDataRoute:!0},unstable_onError:s}):k()},null)}function Zm(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function x_(t){let r=b.useContext(bl);return Pt(r,Zm(t)),r}function w_(t){let r=b.useContext(Ju);return Pt(r,Zm(t)),r}function __(t){let r=b.useContext(wr);return Pt(r,Zm(t)),r}function Km(t){let r=__(t),a=r.matches[r.matches.length-1];return Pt(a.route.id,`${t} can only be used on routes that contain a unique "id"`),a.route.id}function S_(){return Km("useRouteId")}function z_(){var s;let t=b.useContext(Gm),r=w_("useRouteError"),a=Km("useRouteError");return t!==void 0?t:(s=r.errors)==null?void 0:s[a]}function k_(){let{router:t}=x_("useNavigate"),r=Km("useNavigate"),a=b.useRef(!1);return Ex(()=>{a.current=!0}),b.useCallback(async(o,u={})=>{xr(a.current,kx),a.current&&(typeof o=="number"?t.navigate(o):await t.navigate(o,{fromRouteId:r,...u}))},[t,r])}var jv={};function Nx(t,r,a){!r&&!jv[t]&&(jv[t]=!0,xr(!1,a))}b.memo(E_);function E_({routes:t,future:r,state:a,unstable_onError:s}){return jx(t,void 0,a,s,r)}function j_(t){return f_(t.context)}function da(t){Pt(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function N_({basename:t="/",children:r=null,location:a,navigationType:s="POP",navigator:o,static:u=!1}){Pt(!Ho(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let d=t.replace(/^\/*/,"/"),f=b.useMemo(()=>({basename:d,navigator:o,static:u,future:{}}),[d,o,u]);typeof a=="string"&&(a=gl(a));let{pathname:h="/",search:p="",hash:v="",state:y=null,key:w="default"}=a,x=b.useMemo(()=>{let j=Sa(h,d);return j==null?null:{location:{pathname:j,search:p,hash:v,state:y,key:w},navigationType:s}},[d,h,p,v,y,w,s]);return xr(x!=null,`<Router basename="${d}"> is not able to match the URL "${h}${p}${v}" because it does not start with the basename, so the <Router> won't render anything.`),x==null?null:b.createElement(Lr.Provider,{value:f},b.createElement($o.Provider,{children:r,value:x}))}function C_({children:t,location:r}){return m_(rm(t),r)}function rm(t,r=[]){let a=[];return b.Children.forEach(t,(s,o)=>{if(!b.isValidElement(s))return;let u=[...r,o];if(s.type===b.Fragment){a.push.apply(a,rm(s.props.children,u));return}Pt(s.type===da,`[${typeof s.type=="string"?s.type:s.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Pt(!s.props.index||!s.props.children,"An index route cannot have child routes.");let d={id:s.props.id||u.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,middleware:s.props.middleware,loader:s.props.loader,action:s.props.action,hydrateFallbackElement:s.props.hydrateFallbackElement,HydrateFallback:s.props.HydrateFallback,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.hasErrorBoundary===!0||s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(d.children=rm(s.props.children,u)),a.push(d)}),a}var _u="get",Su="application/x-www-form-urlencoded";function ed(t){return t!=null&&typeof t.tagName=="string"}function A_(t){return ed(t)&&t.tagName.toLowerCase()==="button"}function T_(t){return ed(t)&&t.tagName.toLowerCase()==="form"}function M_(t){return ed(t)&&t.tagName.toLowerCase()==="input"}function R_(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function O_(t,r){return t.button===0&&(!r||r==="_self")&&!R_(t)}function am(t=""){return new URLSearchParams(typeof t=="string"||Array.isArray(t)||t instanceof URLSearchParams?t:Object.keys(t).reduce((r,a)=>{let s=t[a];return r.concat(Array.isArray(s)?s.map(o=>[a,o]):[[a,s]])},[]))}function D_(t,r){let a=am(t);return r&&r.forEach((s,o)=>{a.has(o)||r.getAll(o).forEach(u=>{a.append(o,u)})}),a}var cu=null;function L_(){if(cu===null)try{new FormData(document.createElement("form"),0),cu=!1}catch{cu=!0}return cu}var F_=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Mh(t){return t!=null&&!F_.has(t)?(xr(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Su}"`),null):t}function U_(t,r){let a,s,o,u,d;if(T_(t)){let f=t.getAttribute("action");s=f?Sa(f,r):null,a=t.getAttribute("method")||_u,o=Mh(t.getAttribute("enctype"))||Su,u=new FormData(t)}else if(A_(t)||M_(t)&&(t.type==="submit"||t.type==="image")){let f=t.form;if(f==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let h=t.getAttribute("formaction")||f.getAttribute("action");if(s=h?Sa(h,r):null,a=t.getAttribute("formmethod")||f.getAttribute("method")||_u,o=Mh(t.getAttribute("formenctype"))||Mh(f.getAttribute("enctype"))||Su,u=new FormData(f,t),!L_()){let{name:p,type:v,value:y}=t;if(v==="image"){let w=p?`${p}.`:"";u.append(`${w}x`,"0"),u.append(`${w}y`,"0")}else p&&u.append(p,y)}}else{if(ed(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');a=_u,s=null,o=Su,d=t}return u&&o==="text/plain"&&(d=u,u=void 0),{action:s,method:a.toLowerCase(),encType:o,formData:u,body:d}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function Xm(t,r){if(t===!1||t===null||typeof t>"u")throw new Error(r)}function B_(t,r,a){let s=typeof t=="string"?new URL(t,typeof window>"u"?"server://singlefetch/":window.location.origin):t;return s.pathname==="/"?s.pathname=`_root.${a}`:r&&Sa(s.pathname,r)==="/"?s.pathname=`${r.replace(/\/$/,"")}/_root.${a}`:s.pathname=`${s.pathname.replace(/\/$/,"")}.${a}`,s}async function $_(t,r){if(t.id in r)return r[t.id];try{let a=await import(t.module);return r[t.id]=a,a}catch(a){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(a),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function H_(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function P_(t,r,a){let s=await Promise.all(t.map(async o=>{let u=r.routes[o.route.id];if(u){let d=await $_(u,a);return d.links?d.links():[]}return[]}));return Q_(s.flat(1).filter(H_).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function Nv(t,r,a,s,o,u){let d=(h,p)=>a[p]?h.route.id!==a[p].route.id:!0,f=(h,p)=>{var v;return a[p].pathname!==h.pathname||((v=a[p].route.path)==null?void 0:v.endsWith("*"))&&a[p].params["*"]!==h.params["*"]};return u==="assets"?r.filter((h,p)=>d(h,p)||f(h,p)):u==="data"?r.filter((h,p)=>{var y;let v=s.routes[h.route.id];if(!v||!v.hasLoader)return!1;if(d(h,p)||f(h,p))return!0;if(h.route.shouldRevalidate){let w=h.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:((y=a[0])==null?void 0:y.params)||{},nextUrl:new URL(t,window.origin),nextParams:h.params,defaultShouldRevalidate:!0});if(typeof w=="boolean")return w}return!0}):[]}function q_(t,r,{includeHydrateFallback:a}={}){return I_(t.map(s=>{let o=r.routes[s.route.id];if(!o)return[];let u=[o.module];return o.clientActionModule&&(u=u.concat(o.clientActionModule)),o.clientLoaderModule&&(u=u.concat(o.clientLoaderModule)),a&&o.hydrateFallbackModule&&(u=u.concat(o.hydrateFallbackModule)),o.imports&&(u=u.concat(o.imports)),u}).flat(1))}function I_(t){return[...new Set(t)]}function Y_(t){let r={},a=Object.keys(t).sort();for(let s of a)r[s]=t[s];return r}function Q_(t,r){let a=new Set;return new Set(r),t.reduce((s,o)=>{let u=JSON.stringify(Y_(o));return a.has(u)||(a.add(u),s.push({key:u,link:o})),s},[])}function Cx(){let t=b.useContext(bl);return Xm(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function G_(){let t=b.useContext(Ju);return Xm(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var Vm=b.createContext(void 0);Vm.displayName="FrameworkContext";function Ax(){let t=b.useContext(Vm);return Xm(t,"You must render this element inside a <HydratedRouter> element"),t}function Z_(t,r){let a=b.useContext(Vm),[s,o]=b.useState(!1),[u,d]=b.useState(!1),{onFocus:f,onBlur:h,onMouseEnter:p,onMouseLeave:v,onTouchStart:y}=r,w=b.useRef(null);b.useEffect(()=>{if(t==="render"&&d(!0),t==="viewport"){let _=k=>{k.forEach(C=>{d(C.isIntersecting)})},z=new IntersectionObserver(_,{threshold:.5});return w.current&&z.observe(w.current),()=>{z.disconnect()}}},[t]),b.useEffect(()=>{if(s){let _=setTimeout(()=>{d(!0)},100);return()=>{clearTimeout(_)}}},[s]);let x=()=>{o(!0)},j=()=>{o(!1),d(!1)};return a?t!=="intent"?[u,w,{}]:[u,w,{onFocus:oo(f,x),onBlur:oo(h,j),onMouseEnter:oo(p,x),onMouseLeave:oo(v,j),onTouchStart:oo(y,x)}]:[!1,w,{}]}function oo(t,r){return a=>{t&&t(a),a.defaultPrevented||r(a)}}function K_({page:t,...r}){let{router:a}=Cx(),s=b.useMemo(()=>vx(a.routes,t,a.basename),[a.routes,t,a.basename]);return s?b.createElement(V_,{page:t,matches:s,...r}):null}function X_(t){let{manifest:r,routeModules:a}=Ax(),[s,o]=b.useState([]);return b.useEffect(()=>{let u=!1;return P_(t,r,a).then(d=>{u||o(d)}),()=>{u=!0}},[t,r,a]),s}function V_({page:t,matches:r,...a}){let s=wn(),{manifest:o,routeModules:u}=Ax(),{basename:d}=Cx(),{loaderData:f,matches:h}=G_(),p=b.useMemo(()=>Nv(t,r,h,o,s,"data"),[t,r,h,o,s]),v=b.useMemo(()=>Nv(t,r,h,o,s,"assets"),[t,r,h,o,s]),y=b.useMemo(()=>{if(t===s.pathname+s.search+s.hash)return[];let j=new Set,_=!1;if(r.forEach(k=>{var M;let C=o.routes[k.route.id];!C||!C.hasLoader||(!p.some(A=>A.route.id===k.route.id)&&k.route.id in f&&((M=u[k.route.id])!=null&&M.shouldRevalidate)||C.hasClientLoader?_=!0:j.add(k.route.id))}),j.size===0)return[];let z=B_(t,d,"data");return _&&j.size>0&&z.searchParams.set("_routes",r.filter(k=>j.has(k.route.id)).map(k=>k.route.id).join(",")),[z.pathname+z.search]},[d,f,s,o,p,r,t,u]),w=b.useMemo(()=>q_(v,o),[v,o]),x=X_(v);return b.createElement(b.Fragment,null,y.map(j=>b.createElement("link",{key:j,rel:"prefetch",as:"fetch",href:j,...a})),w.map(j=>b.createElement("link",{key:j,rel:"modulepreload",href:j,...a})),x.map(({key:j,link:_})=>b.createElement("link",{key:j,nonce:a.nonce,..._})))}function W_(...t){return r=>{t.forEach(a=>{typeof a=="function"?a(r):a!=null&&(a.current=r)})}}var Tx=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{Tx&&(window.__reactRouterVersion="7.9.5")}catch{}function J_({basename:t,children:r,window:a}){let s=b.useRef();s.current==null&&(s.current=L5({window:a,v5Compat:!0}));let o=s.current,[u,d]=b.useState({action:o.action,location:o.location}),f=b.useCallback(h=>{b.startTransition(()=>d(h))},[d]);return b.useLayoutEffect(()=>o.listen(f),[o,f]),b.createElement(N_,{basename:t,children:r,location:u.location,navigationType:u.action,navigator:o})}var Mx=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,on=b.forwardRef(function({onClick:r,discover:a="render",prefetch:s="none",relative:o,reloadDocument:u,replace:d,state:f,target:h,to:p,preventScrollReset:v,viewTransition:y,...w},x){let{basename:j}=b.useContext(Lr),_=typeof p=="string"&&Mx.test(p),z,k=!1;if(typeof p=="string"&&_&&(z=p,Tx))try{let P=new URL(window.location.href),D=p.startsWith("//")?new URL(P.protocol+p):new URL(p),G=Sa(D.pathname,j);D.origin===P.origin&&G!=null?p=G+D.search+D.hash:k=!0}catch{xr(!1,`<Link to="${p}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let C=c_(p,{relative:o}),[M,A,O]=Z_(s,w),Q=rS(p,{replace:d,state:f,target:h,preventScrollReset:v,relative:o,viewTransition:y});function B(P){r&&r(P),P.defaultPrevented||Q(P)}let Z=b.createElement("a",{...w,...O,href:z||C,onClick:k||u?r:B,ref:W_(x,A),target:h,"data-discover":!_&&a==="render"?"true":void 0});return M&&!_?b.createElement(b.Fragment,null,Z,b.createElement(K_,{page:C})):Z});on.displayName="Link";var eS=b.forwardRef(function({"aria-current":r="page",caseSensitive:a=!1,className:s="",end:o=!1,style:u,to:d,viewTransition:f,children:h,...p},v){let y=Po(d,{relative:p.relative}),w=wn(),x=b.useContext(Ju),{navigator:j,basename:_}=b.useContext(Lr),z=x!=null&&cS(y)&&f===!0,k=j.encodeLocation?j.encodeLocation(y).pathname:y.pathname,C=w.pathname,M=x&&x.navigation&&x.navigation.location?x.navigation.location.pathname:null;a||(C=C.toLowerCase(),M=M?M.toLowerCase():null,k=k.toLowerCase()),M&&_&&(M=Sa(M,_)||M);const A=k!=="/"&&k.endsWith("/")?k.length-1:k.length;let O=C===k||!o&&C.startsWith(k)&&C.charAt(A)==="/",Q=M!=null&&(M===k||!o&&M.startsWith(k)&&M.charAt(k.length)==="/"),B={isActive:O,isPending:Q,isTransitioning:z},Z=O?r:void 0,P;typeof s=="function"?P=s(B):P=[s,O?"active":null,Q?"pending":null,z?"transitioning":null].filter(Boolean).join(" ");let D=typeof u=="function"?u(B):u;return b.createElement(on,{...p,"aria-current":Z,className:P,ref:v,style:D,to:d,viewTransition:f},typeof h=="function"?h(B):h)});eS.displayName="NavLink";var tS=b.forwardRef(({discover:t="render",fetcherKey:r,navigate:a,reloadDocument:s,replace:o,state:u,method:d=_u,action:f,onSubmit:h,relative:p,preventScrollReset:v,viewTransition:y,...w},x)=>{let j=lS(),_=oS(f,{relative:p}),z=d.toLowerCase()==="get"?"get":"post",k=typeof f=="string"&&Mx.test(f),C=M=>{if(h&&h(M),M.defaultPrevented)return;M.preventDefault();let A=M.nativeEvent.submitter,O=(A==null?void 0:A.getAttribute("formmethod"))||d;j(A||M.currentTarget,{fetcherKey:r,method:O,navigate:a,replace:o,state:u,relative:p,preventScrollReset:v,viewTransition:y})};return b.createElement("form",{ref:x,method:z,action:_,onSubmit:s?h:C,...w,"data-discover":!k&&t==="render"?"true":void 0})});tS.displayName="Form";function nS(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Rx(t){let r=b.useContext(bl);return Pt(r,nS(t)),r}function rS(t,{target:r,replace:a,state:s,preventScrollReset:o,relative:u,viewTransition:d}={}){let f=Ea(),h=wn(),p=Po(t,{relative:u});return b.useCallback(v=>{if(O_(v,r)){v.preventDefault();let y=a!==void 0?a:zo(h)===zo(p);f(t,{replace:y,state:s,preventScrollReset:o,relative:u,viewTransition:d})}},[h,f,p,a,s,r,t,o,u,d])}function aS(t){xr(typeof URLSearchParams<"u","You cannot use the `useSearchParams` hook in a browser that does not support the URLSearchParams API. If you need to support Internet Explorer 11, we recommend you load a polyfill such as https://github.com/ungap/url-search-params.");let r=b.useRef(am(t)),a=b.useRef(!1),s=wn(),o=b.useMemo(()=>D_(s.search,a.current?null:r.current),[s.search]),u=Ea(),d=b.useCallback((f,h)=>{const p=am(typeof f=="function"?f(new URLSearchParams(o)):f);a.current=!0,u("?"+p,h)},[u,o]);return[o,d]}var iS=0,sS=()=>`__${String(++iS)}__`;function lS(){let{router:t}=Rx("useSubmit"),{basename:r}=b.useContext(Lr),a=S_();return b.useCallback(async(s,o={})=>{let{action:u,method:d,encType:f,formData:h,body:p}=U_(s,r);if(o.navigate===!1){let v=o.fetcherKey||sS();await t.fetch(v,a,o.action||u,{preventScrollReset:o.preventScrollReset,formData:h,body:p,formMethod:o.method||d,formEncType:o.encType||f,flushSync:o.flushSync})}else await t.navigate(o.action||u,{preventScrollReset:o.preventScrollReset,formData:h,body:p,formMethod:o.method||d,formEncType:o.encType||f,replace:o.replace,state:o.state,fromRouteId:a,flushSync:o.flushSync,viewTransition:o.viewTransition})},[t,r,a])}function oS(t,{relative:r}={}){let{basename:a}=b.useContext(Lr),s=b.useContext(wr);Pt(s,"useFormAction must be used inside a RouteContext");let[o]=s.matches.slice(-1),u={...Po(t||".",{relative:r})},d=wn();if(t==null){u.search=d.search;let f=new URLSearchParams(u.search),h=f.getAll("index");if(h.some(v=>v==="")){f.delete("index"),h.filter(y=>y).forEach(y=>f.append("index",y));let v=f.toString();u.search=v?`?${v}`:""}}return(!t||t===".")&&o.route.index&&(u.search=u.search?u.search.replace(/^\?/,"?index&"):"?index"),a!=="/"&&(u.pathname=u.pathname==="/"?a:ya([a,u.pathname])),zo(u)}function cS(t,{relative:r}={}){let a=b.useContext(zx);Pt(a!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:s}=Rx("useViewTransitionState"),o=Po(t,{relative:r});if(!a.isTransitioning)return!1;let u=Sa(a.currentLocation.pathname,s)||a.currentLocation.pathname,d=Sa(a.nextLocation.pathname,s)||a.nextLocation.pathname;return Au(o.pathname,d)!=null||Au(o.pathname,u)!=null}var uS=bx(),us=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(t){return this.listeners.add(t),this.onSubscribe(),()=>{this.listeners.delete(t),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},dS={setTimeout:(t,r)=>setTimeout(t,r),clearTimeout:t=>clearTimeout(t),setInterval:(t,r)=>setInterval(t,r),clearInterval:t=>clearInterval(t)},ri,Qm,rx,fS=(rx=class{constructor(){qe(this,ri,dS);qe(this,Qm,!1)}setTimeoutProvider(t){Fe(this,ri,t)}setTimeout(t,r){return X(this,ri).setTimeout(t,r)}clearTimeout(t){X(this,ri).clearTimeout(t)}setInterval(t,r){return X(this,ri).setInterval(t,r)}clearInterval(t){X(this,ri).clearInterval(t)}},ri=new WeakMap,Qm=new WeakMap,rx),Ii=new fS;function hS(t){setTimeout(t,0)}var as=typeof window>"u"||"Deno"in globalThis;function vn(){}function mS(t,r){return typeof t=="function"?t(r):t}function im(t){return typeof t=="number"&&t>=0&&t!==1/0}function Ox(t,r){return Math.max(t+(r||0)-Date.now(),0)}function bi(t,r){return typeof t=="function"?t(r):t}function or(t,r){return typeof t=="function"?t(r):t}function Cv(t,r){const{type:a="all",exact:s,fetchStatus:o,predicate:u,queryKey:d,stale:f}=t;if(d){if(s){if(r.queryHash!==Wm(d,r.options))return!1}else if(!ko(r.queryKey,d))return!1}if(a!=="all"){const h=r.isActive();if(a==="active"&&!h||a==="inactive"&&h)return!1}return!(typeof f=="boolean"&&r.isStale()!==f||o&&o!==r.state.fetchStatus||u&&!u(r))}function Av(t,r){const{exact:a,status:s,predicate:o,mutationKey:u}=t;if(u){if(!r.options.mutationKey)return!1;if(a){if(is(r.options.mutationKey)!==is(u))return!1}else if(!ko(r.options.mutationKey,u))return!1}return!(s&&r.state.status!==s||o&&!o(r))}function Wm(t,r){return((r==null?void 0:r.queryKeyHashFn)||is)(t)}function is(t){return JSON.stringify(t,(r,a)=>sm(a)?Object.keys(a).sort().reduce((s,o)=>(s[o]=a[o],s),{}):a)}function ko(t,r){return t===r?!0:typeof t!=typeof r?!1:t&&r&&typeof t=="object"&&typeof r=="object"?Object.keys(r).every(a=>ko(t[a],r[a])):!1}var pS=Object.prototype.hasOwnProperty;function Jm(t,r){if(t===r)return t;const a=Tv(t)&&Tv(r);if(!a&&!(sm(t)&&sm(r)))return r;const o=(a?t:Object.keys(t)).length,u=a?r:Object.keys(r),d=u.length,f=a?new Array(d):{};let h=0;for(let p=0;p<d;p++){const v=a?p:u[p],y=t[v],w=r[v];if(y===w){f[v]=y,(a?p<o:pS.call(t,v))&&h++;continue}if(y===null||w===null||typeof y!="object"||typeof w!="object"){f[v]=w;continue}const x=Jm(y,w);f[v]=x,x===y&&h++}return o===d&&h===o?t:f}function Eo(t,r){if(!r||Object.keys(t).length!==Object.keys(r).length)return!1;for(const a in t)if(t[a]!==r[a])return!1;return!0}function Tv(t){return Array.isArray(t)&&t.length===Object.keys(t).length}function sm(t){if(!Mv(t))return!1;const r=t.constructor;if(r===void 0)return!0;const a=r.prototype;return!(!Mv(a)||!a.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(t)!==Object.prototype)}function Mv(t){return Object.prototype.toString.call(t)==="[object Object]"}function gS(t){return new Promise(r=>{Ii.setTimeout(r,t)})}function lm(t,r,a){return typeof a.structuralSharing=="function"?a.structuralSharing(t,r):a.structuralSharing!==!1?Jm(t,r):r}function bS(t,r,a=0){const s=[...t,r];return a&&s.length>a?s.slice(1):s}function vS(t,r,a=0){const s=[r,...t];return a&&s.length>a?s.slice(0,-1):s}var e0=Symbol();function Dx(t,r){return!t.queryFn&&(r!=null&&r.initialPromise)?()=>r.initialPromise:!t.queryFn||t.queryFn===e0?()=>Promise.reject(new Error(`Missing queryFn: '${t.queryHash}'`)):t.queryFn}function Lx(t,r){return typeof t=="function"?t(...r):!!t}var Gi,ai,Vs,ax,yS=(ax=class extends us{constructor(){super();qe(this,Gi);qe(this,ai);qe(this,Vs);Fe(this,Vs,r=>{if(!as&&window.addEventListener){const a=()=>r();return window.addEventListener("visibilitychange",a,!1),()=>{window.removeEventListener("visibilitychange",a)}}})}onSubscribe(){X(this,ai)||this.setEventListener(X(this,Vs))}onUnsubscribe(){var r;this.hasListeners()||((r=X(this,ai))==null||r.call(this),Fe(this,ai,void 0))}setEventListener(r){var a;Fe(this,Vs,r),(a=X(this,ai))==null||a.call(this),Fe(this,ai,r(s=>{typeof s=="boolean"?this.setFocused(s):this.onFocus()}))}setFocused(r){X(this,Gi)!==r&&(Fe(this,Gi,r),this.onFocus())}onFocus(){const r=this.isFocused();this.listeners.forEach(a=>{a(r)})}isFocused(){var r;return typeof X(this,Gi)=="boolean"?X(this,Gi):((r=globalThis.document)==null?void 0:r.visibilityState)!=="hidden"}},Gi=new WeakMap,ai=new WeakMap,Vs=new WeakMap,ax),t0=new yS;function om(){let t,r;const a=new Promise((o,u)=>{t=o,r=u});a.status="pending",a.catch(()=>{});function s(o){Object.assign(a,o),delete a.resolve,delete a.reject}return a.resolve=o=>{s({status:"fulfilled",value:o}),t(o)},a.reject=o=>{s({status:"rejected",reason:o}),r(o)},a}var xS=hS;function wS(){let t=[],r=0,a=f=>{f()},s=f=>{f()},o=xS;const u=f=>{r?t.push(f):o(()=>{a(f)})},d=()=>{const f=t;t=[],f.length&&o(()=>{s(()=>{f.forEach(h=>{a(h)})})})};return{batch:f=>{let h;r++;try{h=f()}finally{r--,r||d()}return h},batchCalls:f=>(...h)=>{u(()=>{f(...h)})},schedule:u,setNotifyFunction:f=>{a=f},setBatchNotifyFunction:f=>{s=f},setScheduler:f=>{o=f}}}var Zt=wS(),Ws,ii,Js,ix,_S=(ix=class extends us{constructor(){super();qe(this,Ws,!0);qe(this,ii);qe(this,Js);Fe(this,Js,r=>{if(!as&&window.addEventListener){const a=()=>r(!0),s=()=>r(!1);return window.addEventListener("online",a,!1),window.addEventListener("offline",s,!1),()=>{window.removeEventListener("online",a),window.removeEventListener("offline",s)}}})}onSubscribe(){X(this,ii)||this.setEventListener(X(this,Js))}onUnsubscribe(){var r;this.hasListeners()||((r=X(this,ii))==null||r.call(this),Fe(this,ii,void 0))}setEventListener(r){var a;Fe(this,Js,r),(a=X(this,ii))==null||a.call(this),Fe(this,ii,r(this.setOnline.bind(this)))}setOnline(r){X(this,Ws)!==r&&(Fe(this,Ws,r),this.listeners.forEach(s=>{s(r)}))}isOnline(){return X(this,Ws)}},Ws=new WeakMap,ii=new WeakMap,Js=new WeakMap,ix),Tu=new _S;function SS(t){return Math.min(1e3*2**t,3e4)}function Fx(t){return(t!=null?t:"online")==="online"?Tu.isOnline():!0}var cm=class extends Error{constructor(t){super("CancelledError"),this.revert=t==null?void 0:t.revert,this.silent=t==null?void 0:t.silent}};function Ux(t){let r=!1,a=0,s;const o=om(),u=()=>o.status!=="pending",d=_=>{var z;if(!u()){const k=new cm(_);w(k),(z=t.onCancel)==null||z.call(t,k)}},f=()=>{r=!0},h=()=>{r=!1},p=()=>t0.isFocused()&&(t.networkMode==="always"||Tu.isOnline())&&t.canRun(),v=()=>Fx(t.networkMode)&&t.canRun(),y=_=>{u()||(s==null||s(),o.resolve(_))},w=_=>{u()||(s==null||s(),o.reject(_))},x=()=>new Promise(_=>{var z;s=k=>{(u()||p())&&_(k)},(z=t.onPause)==null||z.call(t)}).then(()=>{var _;s=void 0,u()||(_=t.onContinue)==null||_.call(t)}),j=()=>{if(u())return;let _;const z=a===0?t.initialPromise:void 0;try{_=z!=null?z:t.fn()}catch(k){_=Promise.reject(k)}Promise.resolve(_).then(y).catch(k=>{var Q,B,Z;if(u())return;const C=(Q=t.retry)!=null?Q:as?0:3,M=(B=t.retryDelay)!=null?B:SS,A=typeof M=="function"?M(a,k):M,O=C===!0||typeof C=="number"&&a<C||typeof C=="function"&&C(a,k);if(r||!O){w(k);return}a++,(Z=t.onFail)==null||Z.call(t,a,k),gS(A).then(()=>p()?void 0:x()).then(()=>{r?w(k):j()})})};return{promise:o,status:()=>o.status,cancel:d,continue:()=>(s==null||s(),o),cancelRetry:f,continueRetry:h,canStart:v,start:()=>(v()?j():x().then(j),o)}}var Zi,sx,Bx=(sx=class{constructor(){qe(this,Zi)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),im(this.gcTime)&&Fe(this,Zi,Ii.setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(t){this.gcTime=Math.max(this.gcTime||0,t!=null?t:as?1/0:300*1e3)}clearGcTimeout(){X(this,Zi)&&(Ii.clearTimeout(X(this,Zi)),Fe(this,Zi,void 0))}},Zi=new WeakMap,sx),Ki,el,sr,Xi,ln,Mo,Vi,mr,fa,lx,zS=(lx=class extends Bx{constructor(r){var a;super();qe(this,mr);qe(this,Ki);qe(this,el);qe(this,sr);qe(this,Xi);qe(this,ln);qe(this,Mo);qe(this,Vi);Fe(this,Vi,!1),Fe(this,Mo,r.defaultOptions),this.setOptions(r.options),this.observers=[],Fe(this,Xi,r.client),Fe(this,sr,X(this,Xi).getQueryCache()),this.queryKey=r.queryKey,this.queryHash=r.queryHash,Fe(this,Ki,Ov(this.options)),this.state=(a=r.state)!=null?a:X(this,Ki),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var r;return(r=X(this,ln))==null?void 0:r.promise}setOptions(r){if(this.options={...X(this,Mo),...r},this.updateGcTime(this.options.gcTime),this.state&&this.state.data===void 0){const a=Ov(this.options);a.data!==void 0&&(this.setState(Rv(a.data,a.dataUpdatedAt)),Fe(this,Ki,a))}}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&X(this,sr).remove(this)}setData(r,a){const s=lm(this.state.data,r,this.options);return tt(this,mr,fa).call(this,{data:s,type:"success",dataUpdatedAt:a==null?void 0:a.updatedAt,manual:a==null?void 0:a.manual}),s}setState(r,a){tt(this,mr,fa).call(this,{type:"setState",state:r,setStateOptions:a})}cancel(r){var s,o;const a=(s=X(this,ln))==null?void 0:s.promise;return(o=X(this,ln))==null||o.cancel(r),a?a.then(vn).catch(vn):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(X(this,Ki))}isActive(){return this.observers.some(r=>or(r.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===e0||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(r=>bi(r.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(r=>r.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(r=0){return this.state.data===void 0?!0:r==="static"?!1:this.state.isInvalidated?!0:!Ox(this.state.dataUpdatedAt,r)}onFocus(){var a;const r=this.observers.find(s=>s.shouldFetchOnWindowFocus());r==null||r.refetch({cancelRefetch:!1}),(a=X(this,ln))==null||a.continue()}onOnline(){var a;const r=this.observers.find(s=>s.shouldFetchOnReconnect());r==null||r.refetch({cancelRefetch:!1}),(a=X(this,ln))==null||a.continue()}addObserver(r){this.observers.includes(r)||(this.observers.push(r),this.clearGcTimeout(),X(this,sr).notify({type:"observerAdded",query:this,observer:r}))}removeObserver(r){this.observers.includes(r)&&(this.observers=this.observers.filter(a=>a!==r),this.observers.length||(X(this,ln)&&(X(this,Vi)?X(this,ln).cancel({revert:!0}):X(this,ln).cancelRetry()),this.scheduleGc()),X(this,sr).notify({type:"observerRemoved",query:this,observer:r}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||tt(this,mr,fa).call(this,{type:"invalidate"})}async fetch(r,a){var h,p,v,y,w,x,j,_,z,k,C,M;if(this.state.fetchStatus!=="idle"&&((h=X(this,ln))==null?void 0:h.status())!=="rejected"){if(this.state.data!==void 0&&(a!=null&&a.cancelRefetch))this.cancel({silent:!0});else if(X(this,ln))return X(this,ln).continueRetry(),X(this,ln).promise}if(r&&this.setOptions(r),!this.options.queryFn){const A=this.observers.find(O=>O.options.queryFn);A&&this.setOptions(A.options)}const s=new AbortController,o=A=>{Object.defineProperty(A,"signal",{enumerable:!0,get:()=>(Fe(this,Vi,!0),s.signal)})},u=()=>{const A=Dx(this.options,a),Q=(()=>{const B={client:X(this,Xi),queryKey:this.queryKey,meta:this.meta};return o(B),B})();return Fe(this,Vi,!1),this.options.persister?this.options.persister(A,Q,this):A(Q)},f=(()=>{const A={fetchOptions:a,options:this.options,queryKey:this.queryKey,client:X(this,Xi),state:this.state,fetchFn:u};return o(A),A})();(p=this.options.behavior)==null||p.onFetch(f,this),Fe(this,el,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((v=f.fetchOptions)==null?void 0:v.meta))&&tt(this,mr,fa).call(this,{type:"fetch",meta:(y=f.fetchOptions)==null?void 0:y.meta}),Fe(this,ln,Ux({initialPromise:a==null?void 0:a.initialPromise,fn:f.fetchFn,onCancel:A=>{A instanceof cm&&A.revert&&this.setState({...X(this,el),fetchStatus:"idle"}),s.abort()},onFail:(A,O)=>{tt(this,mr,fa).call(this,{type:"failed",failureCount:A,error:O})},onPause:()=>{tt(this,mr,fa).call(this,{type:"pause"})},onContinue:()=>{tt(this,mr,fa).call(this,{type:"continue"})},retry:f.options.retry,retryDelay:f.options.retryDelay,networkMode:f.options.networkMode,canRun:()=>!0}));try{const A=await X(this,ln).start();if(A===void 0)throw new Error(`${this.queryHash} data is undefined`);return this.setData(A),(x=(w=X(this,sr).config).onSuccess)==null||x.call(w,A,this),(_=(j=X(this,sr).config).onSettled)==null||_.call(j,A,this.state.error,this),A}catch(A){if(A instanceof cm){if(A.silent)return X(this,ln).promise;if(A.revert){if(this.state.data===void 0)throw A;return this.state.data}}throw tt(this,mr,fa).call(this,{type:"error",error:A}),(k=(z=X(this,sr).config).onError)==null||k.call(z,A,this),(M=(C=X(this,sr).config).onSettled)==null||M.call(C,this.state.data,A,this),A}finally{this.scheduleGc()}}},Ki=new WeakMap,el=new WeakMap,sr=new WeakMap,Xi=new WeakMap,ln=new WeakMap,Mo=new WeakMap,Vi=new WeakMap,mr=new WeakSet,fa=function(r){const a=s=>{var o;switch(r.type){case"failed":return{...s,fetchFailureCount:r.failureCount,fetchFailureReason:r.error};case"pause":return{...s,fetchStatus:"paused"};case"continue":return{...s,fetchStatus:"fetching"};case"fetch":return{...s,...$x(s.data,this.options),fetchMeta:(o=r.meta)!=null?o:null};case"success":const u={...s,...Rv(r.data,r.dataUpdatedAt),dataUpdateCount:s.dataUpdateCount+1,...!r.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};return Fe(this,el,r.manual?u:void 0),u;case"error":const d=r.error;return{...s,error:d,errorUpdateCount:s.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:s.fetchFailureCount+1,fetchFailureReason:d,fetchStatus:"idle",status:"error"};case"invalidate":return{...s,isInvalidated:!0};case"setState":return{...s,...r.state}}};this.state=a(this.state),Zt.batch(()=>{this.observers.forEach(s=>{s.onQueryUpdate()}),X(this,sr).notify({query:this,type:"updated",action:r})})},lx);function $x(t,r){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:Fx(r.networkMode)?"fetching":"paused",...t===void 0&&{error:null,status:"pending"}}}function Rv(t,r){return{data:t,dataUpdatedAt:r!=null?r:Date.now(),error:null,isInvalidated:!1,status:"success"}}function Ov(t){const r=typeof t.initialData=="function"?t.initialData():t.initialData,a=r!==void 0,s=a?typeof t.initialDataUpdatedAt=="function"?t.initialDataUpdatedAt():t.initialDataUpdatedAt:0;return{data:r,dataUpdateCount:0,dataUpdatedAt:a?s!=null?s:Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:a?"success":"pending",fetchStatus:"idle"}}var On,bt,Ro,Sn,Wi,tl,ha,si,Oo,nl,rl,Ji,es,li,al,Et,mo,um,dm,fm,hm,mm,pm,gm,Hx,ox,td=(ox=class extends us{constructor(r,a){super();qe(this,Et);qe(this,On);qe(this,bt);qe(this,Ro);qe(this,Sn);qe(this,Wi);qe(this,tl);qe(this,ha);qe(this,si);qe(this,Oo);qe(this,nl);qe(this,rl);qe(this,Ji);qe(this,es);qe(this,li);qe(this,al,new Set);this.options=a,Fe(this,On,r),Fe(this,si,null),Fe(this,ha,om()),this.bindMethods(),this.setOptions(a)}bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(X(this,bt).addObserver(this),Dv(X(this,bt),this.options)?tt(this,Et,mo).call(this):this.updateResult(),tt(this,Et,hm).call(this))}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return bm(X(this,bt),this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return bm(X(this,bt),this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,tt(this,Et,mm).call(this),tt(this,Et,pm).call(this),X(this,bt).removeObserver(this)}setOptions(r){const a=this.options,s=X(this,bt);if(this.options=X(this,On).defaultQueryOptions(r),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof or(this.options.enabled,X(this,bt))!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");tt(this,Et,gm).call(this),X(this,bt).setOptions(this.options),a._defaulted&&!Eo(this.options,a)&&X(this,On).getQueryCache().notify({type:"observerOptionsUpdated",query:X(this,bt),observer:this});const o=this.hasListeners();o&&Lv(X(this,bt),s,this.options,a)&&tt(this,Et,mo).call(this),this.updateResult(),o&&(X(this,bt)!==s||or(this.options.enabled,X(this,bt))!==or(a.enabled,X(this,bt))||bi(this.options.staleTime,X(this,bt))!==bi(a.staleTime,X(this,bt)))&&tt(this,Et,um).call(this);const u=tt(this,Et,dm).call(this);o&&(X(this,bt)!==s||or(this.options.enabled,X(this,bt))!==or(a.enabled,X(this,bt))||u!==X(this,li))&&tt(this,Et,fm).call(this,u)}getOptimisticResult(r){const a=X(this,On).getQueryCache().build(X(this,On),r),s=this.createResult(a,r);return ES(this,s)&&(Fe(this,Sn,s),Fe(this,tl,this.options),Fe(this,Wi,X(this,bt).state)),s}getCurrentResult(){return X(this,Sn)}trackResult(r,a){return new Proxy(r,{get:(s,o)=>(this.trackProp(o),a==null||a(o),o==="promise"&&(this.trackProp("data"),!this.options.experimental_prefetchInRender&&X(this,ha).status==="pending"&&X(this,ha).reject(new Error("experimental_prefetchInRender feature flag is not enabled"))),Reflect.get(s,o))})}trackProp(r){X(this,al).add(r)}getCurrentQuery(){return X(this,bt)}refetch({...r}={}){return this.fetch({...r})}fetchOptimistic(r){const a=X(this,On).defaultQueryOptions(r),s=X(this,On).getQueryCache().build(X(this,On),a);return s.fetch().then(()=>this.createResult(s,a))}fetch(r){var a;return tt(this,Et,mo).call(this,{...r,cancelRefetch:(a=r.cancelRefetch)!=null?a:!0}).then(()=>(this.updateResult(),X(this,Sn)))}createResult(r,a){var P;const s=X(this,bt),o=this.options,u=X(this,Sn),d=X(this,Wi),f=X(this,tl),p=r!==s?r.state:X(this,Ro),{state:v}=r;let y={...v},w=!1,x;if(a._optimisticResults){const D=this.hasListeners(),G=!D&&Dv(r,a),T=D&&Lv(r,s,a,o);(G||T)&&(y={...y,...$x(v.data,r.options)}),a._optimisticResults==="isRestoring"&&(y.fetchStatus="idle")}let{error:j,errorUpdatedAt:_,status:z}=y;x=y.data;let k=!1;if(a.placeholderData!==void 0&&x===void 0&&z==="pending"){let D;u!=null&&u.isPlaceholderData&&a.placeholderData===(f==null?void 0:f.placeholderData)?(D=u.data,k=!0):D=typeof a.placeholderData=="function"?a.placeholderData((P=X(this,rl))==null?void 0:P.state.data,X(this,rl)):a.placeholderData,D!==void 0&&(z="success",x=lm(u==null?void 0:u.data,D,a),w=!0)}if(a.select&&x!==void 0&&!k)if(u&&x===(d==null?void 0:d.data)&&a.select===X(this,Oo))x=X(this,nl);else try{Fe(this,Oo,a.select),x=a.select(x),x=lm(u==null?void 0:u.data,x,a),Fe(this,nl,x),Fe(this,si,null)}catch(D){Fe(this,si,D)}X(this,si)&&(j=X(this,si),x=X(this,nl),_=Date.now(),z="error");const C=y.fetchStatus==="fetching",M=z==="pending",A=z==="error",O=M&&C,Q=x!==void 0,Z={status:z,fetchStatus:y.fetchStatus,isPending:M,isSuccess:z==="success",isError:A,isInitialLoading:O,isLoading:O,data:x,dataUpdatedAt:y.dataUpdatedAt,error:j,errorUpdatedAt:_,failureCount:y.fetchFailureCount,failureReason:y.fetchFailureReason,errorUpdateCount:y.errorUpdateCount,isFetched:y.dataUpdateCount>0||y.errorUpdateCount>0,isFetchedAfterMount:y.dataUpdateCount>p.dataUpdateCount||y.errorUpdateCount>p.errorUpdateCount,isFetching:C,isRefetching:C&&!M,isLoadingError:A&&!Q,isPaused:y.fetchStatus==="paused",isPlaceholderData:w,isRefetchError:A&&Q,isStale:n0(r,a),refetch:this.refetch,promise:X(this,ha),isEnabled:or(a.enabled,r)!==!1};if(this.options.experimental_prefetchInRender){const D=U=>{Z.status==="error"?U.reject(Z.error):Z.data!==void 0&&U.resolve(Z.data)},G=()=>{const U=Fe(this,ha,Z.promise=om());D(U)},T=X(this,ha);switch(T.status){case"pending":r.queryHash===s.queryHash&&D(T);break;case"fulfilled":(Z.status==="error"||Z.data!==T.value)&&G();break;case"rejected":(Z.status!=="error"||Z.error!==T.reason)&&G();break}}return Z}updateResult(){const r=X(this,Sn),a=this.createResult(X(this,bt),this.options);if(Fe(this,Wi,X(this,bt).state),Fe(this,tl,this.options),X(this,Wi).data!==void 0&&Fe(this,rl,X(this,bt)),Eo(a,r))return;Fe(this,Sn,a);const s=()=>{if(!r)return!0;const{notifyOnChangeProps:o}=this.options,u=typeof o=="function"?o():o;if(u==="all"||!u&&!X(this,al).size)return!0;const d=new Set(u!=null?u:X(this,al));return this.options.throwOnError&&d.add("error"),Object.keys(X(this,Sn)).some(f=>{const h=f;return X(this,Sn)[h]!==r[h]&&d.has(h)})};tt(this,Et,Hx).call(this,{listeners:s()})}onQueryUpdate(){this.updateResult(),this.hasListeners()&&tt(this,Et,hm).call(this)}},On=new WeakMap,bt=new WeakMap,Ro=new WeakMap,Sn=new WeakMap,Wi=new WeakMap,tl=new WeakMap,ha=new WeakMap,si=new WeakMap,Oo=new WeakMap,nl=new WeakMap,rl=new WeakMap,Ji=new WeakMap,es=new WeakMap,li=new WeakMap,al=new WeakMap,Et=new WeakSet,mo=function(r){tt(this,Et,gm).call(this);let a=X(this,bt).fetch(this.options,r);return r!=null&&r.throwOnError||(a=a.catch(vn)),a},um=function(){tt(this,Et,mm).call(this);const r=bi(this.options.staleTime,X(this,bt));if(as||X(this,Sn).isStale||!im(r))return;const s=Ox(X(this,Sn).dataUpdatedAt,r)+1;Fe(this,Ji,Ii.setTimeout(()=>{X(this,Sn).isStale||this.updateResult()},s))},dm=function(){var r;return(r=typeof this.options.refetchInterval=="function"?this.options.refetchInterval(X(this,bt)):this.options.refetchInterval)!=null?r:!1},fm=function(r){tt(this,Et,pm).call(this),Fe(this,li,r),!(as||or(this.options.enabled,X(this,bt))===!1||!im(X(this,li))||X(this,li)===0)&&Fe(this,es,Ii.setInterval(()=>{(this.options.refetchIntervalInBackground||t0.isFocused())&&tt(this,Et,mo).call(this)},X(this,li)))},hm=function(){tt(this,Et,um).call(this),tt(this,Et,fm).call(this,tt(this,Et,dm).call(this))},mm=function(){X(this,Ji)&&(Ii.clearTimeout(X(this,Ji)),Fe(this,Ji,void 0))},pm=function(){X(this,es)&&(Ii.clearInterval(X(this,es)),Fe(this,es,void 0))},gm=function(){const r=X(this,On).getQueryCache().build(X(this,On),this.options);if(r===X(this,bt))return;const a=X(this,bt);Fe(this,bt,r),Fe(this,Ro,r.state),this.hasListeners()&&(a==null||a.removeObserver(this),r.addObserver(this))},Hx=function(r){Zt.batch(()=>{r.listeners&&this.listeners.forEach(a=>{a(X(this,Sn))}),X(this,On).getQueryCache().notify({query:X(this,bt),type:"observerResultsUpdated"})})},ox);function kS(t,r){return or(r.enabled,t)!==!1&&t.state.data===void 0&&!(t.state.status==="error"&&r.retryOnMount===!1)}function Dv(t,r){return kS(t,r)||t.state.data!==void 0&&bm(t,r,r.refetchOnMount)}function bm(t,r,a){if(or(r.enabled,t)!==!1&&bi(r.staleTime,t)!=="static"){const s=typeof a=="function"?a(t):a;return s==="always"||s!==!1&&n0(t,r)}return!1}function Lv(t,r,a,s){return(t!==r||or(s.enabled,t)===!1)&&(!a.suspense||t.state.status!=="error")&&n0(t,a)}function n0(t,r){return or(r.enabled,t)!==!1&&t.isStaleByTime(bi(r.staleTime,t))}function ES(t,r){return!Eo(t.getCurrentResult(),r)}function Mu(t){return{onFetch:(r,a)=>{var v,y,w,x,j;const s=r.options,o=(w=(y=(v=r.fetchOptions)==null?void 0:v.meta)==null?void 0:y.fetchMore)==null?void 0:w.direction,u=((x=r.state.data)==null?void 0:x.pages)||[],d=((j=r.state.data)==null?void 0:j.pageParams)||[];let f={pages:[],pageParams:[]},h=0;const p=async()=>{var M;let _=!1;const z=A=>{Object.defineProperty(A,"signal",{enumerable:!0,get:()=>(r.signal.aborted?_=!0:r.signal.addEventListener("abort",()=>{_=!0}),r.signal)})},k=Dx(r.options,r.fetchOptions),C=async(A,O,Q)=>{if(_)return Promise.reject();if(O==null&&A.pages.length)return Promise.resolve(A);const Z=(()=>{const T={client:r.client,queryKey:r.queryKey,pageParam:O,direction:Q?"backward":"forward",meta:r.options.meta};return z(T),T})(),P=await k(Z),{maxPages:D}=r.options,G=Q?vS:bS;return{pages:G(A.pages,P,D),pageParams:G(A.pageParams,O,D)}};if(o&&u.length){const A=o==="backward",O=A?Px:vm,Q={pages:u,pageParams:d},B=O(s,Q);f=await C(Q,B,A)}else{const A=t!=null?t:u.length;do{const O=h===0?(M=d[0])!=null?M:s.initialPageParam:vm(s,f);if(h>0&&O==null)break;f=await C(f,O),h++}while(h<A)}return f};r.options.persister?r.fetchFn=()=>{var _,z;return(z=(_=r.options).persister)==null?void 0:z.call(_,p,{client:r.client,queryKey:r.queryKey,meta:r.options.meta,signal:r.signal},a)}:r.fetchFn=p}}}function vm(t,{pages:r,pageParams:a}){const s=r.length-1;return r.length>0?t.getNextPageParam(r[s],r,a[s],a):void 0}function Px(t,{pages:r,pageParams:a}){var s;return r.length>0?(s=t.getPreviousPageParam)==null?void 0:s.call(t,r[0],r,a[0],a):void 0}function jS(t,r){return r?vm(t,r)!=null:!1}function NS(t,r){return!r||!t.getPreviousPageParam?!1:Px(t,r)!=null}var CS=class extends td{constructor(t,r){super(t,r)}bindMethods(){super.bindMethods(),this.fetchNextPage=this.fetchNextPage.bind(this),this.fetchPreviousPage=this.fetchPreviousPage.bind(this)}setOptions(t){super.setOptions({...t,behavior:Mu()})}getOptimisticResult(t){return t.behavior=Mu(),super.getOptimisticResult(t)}fetchNextPage(t){return this.fetch({...t,meta:{fetchMore:{direction:"forward"}}})}fetchPreviousPage(t){return this.fetch({...t,meta:{fetchMore:{direction:"backward"}}})}createResult(t,r){var j,_;const{state:a}=t,s=super.createResult(t,r),{isFetching:o,isRefetching:u,isError:d,isRefetchError:f}=s,h=(_=(j=a.fetchMeta)==null?void 0:j.fetchMore)==null?void 0:_.direction,p=d&&h==="forward",v=o&&h==="forward",y=d&&h==="backward",w=o&&h==="backward";return{...s,fetchNextPage:this.fetchNextPage,fetchPreviousPage:this.fetchPreviousPage,hasNextPage:jS(r,a.data),hasPreviousPage:NS(r,a.data),isFetchNextPageError:p,isFetchingNextPage:v,isFetchPreviousPageError:y,isFetchingPreviousPage:w,isRefetchError:f&&!p&&!y,isRefetching:u&&!v&&!w}}},Do,Ar,zn,ts,Tr,ei,cx,AS=(cx=class extends Bx{constructor(r){super();qe(this,Tr);qe(this,Do);qe(this,Ar);qe(this,zn);qe(this,ts);Fe(this,Do,r.client),this.mutationId=r.mutationId,Fe(this,zn,r.mutationCache),Fe(this,Ar,[]),this.state=r.state||qx(),this.setOptions(r.options),this.scheduleGc()}setOptions(r){this.options=r,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(r){X(this,Ar).includes(r)||(X(this,Ar).push(r),this.clearGcTimeout(),X(this,zn).notify({type:"observerAdded",mutation:this,observer:r}))}removeObserver(r){Fe(this,Ar,X(this,Ar).filter(a=>a!==r)),this.scheduleGc(),X(this,zn).notify({type:"observerRemoved",mutation:this,observer:r})}optionalRemove(){X(this,Ar).length||(this.state.status==="pending"?this.scheduleGc():X(this,zn).remove(this))}continue(){var r,a;return(a=(r=X(this,ts))==null?void 0:r.continue())!=null?a:this.execute(this.state.variables)}async execute(r){var d,f,h,p,v,y,w,x,j,_,z,k,C,M,A,O,Q,B,Z,P,D;const a=()=>{tt(this,Tr,ei).call(this,{type:"continue"})},s={client:X(this,Do),meta:this.options.meta,mutationKey:this.options.mutationKey};Fe(this,ts,Ux({fn:()=>this.options.mutationFn?this.options.mutationFn(r,s):Promise.reject(new Error("No mutationFn found")),onFail:(G,T)=>{tt(this,Tr,ei).call(this,{type:"failed",failureCount:G,error:T})},onPause:()=>{tt(this,Tr,ei).call(this,{type:"pause"})},onContinue:a,retry:(d=this.options.retry)!=null?d:0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>X(this,zn).canRun(this)}));const o=this.state.status==="pending",u=!X(this,ts).canStart();try{if(o)a();else{tt(this,Tr,ei).call(this,{type:"pending",variables:r,isPaused:u}),await((h=(f=X(this,zn).config).onMutate)==null?void 0:h.call(f,r,this,s));const T=await((v=(p=this.options).onMutate)==null?void 0:v.call(p,r,s));T!==this.state.context&&tt(this,Tr,ei).call(this,{type:"pending",context:T,variables:r,isPaused:u})}const G=await X(this,ts).start();return await((w=(y=X(this,zn).config).onSuccess)==null?void 0:w.call(y,G,r,this.state.context,this,s)),await((j=(x=this.options).onSuccess)==null?void 0:j.call(x,G,r,this.state.context,s)),await((z=(_=X(this,zn).config).onSettled)==null?void 0:z.call(_,G,null,this.state.variables,this.state.context,this,s)),await((C=(k=this.options).onSettled)==null?void 0:C.call(k,G,null,r,this.state.context,s)),tt(this,Tr,ei).call(this,{type:"success",data:G}),G}catch(G){try{throw await((A=(M=X(this,zn).config).onError)==null?void 0:A.call(M,G,r,this.state.context,this,s)),await((Q=(O=this.options).onError)==null?void 0:Q.call(O,G,r,this.state.context,s)),await((Z=(B=X(this,zn).config).onSettled)==null?void 0:Z.call(B,void 0,G,this.state.variables,this.state.context,this,s)),await((D=(P=this.options).onSettled)==null?void 0:D.call(P,void 0,G,r,this.state.context,s)),G}finally{tt(this,Tr,ei).call(this,{type:"error",error:G})}}finally{X(this,zn).runNext(this)}}},Do=new WeakMap,Ar=new WeakMap,zn=new WeakMap,ts=new WeakMap,Tr=new WeakSet,ei=function(r){const a=s=>{switch(r.type){case"failed":return{...s,failureCount:r.failureCount,failureReason:r.error};case"pause":return{...s,isPaused:!0};case"continue":return{...s,isPaused:!1};case"pending":return{...s,context:r.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:r.isPaused,status:"pending",variables:r.variables,submittedAt:Date.now()};case"success":return{...s,data:r.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...s,data:void 0,error:r.error,failureCount:s.failureCount+1,failureReason:r.error,isPaused:!1,status:"error"}}};this.state=a(this.state),Zt.batch(()=>{X(this,Ar).forEach(s=>{s.onMutationUpdate(r)}),X(this,zn).notify({mutation:this,type:"updated",action:r})})},cx);function qx(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var ma,pr,Lo,ux,TS=(ux=class extends us{constructor(r={}){super();qe(this,ma);qe(this,pr);qe(this,Lo);this.config=r,Fe(this,ma,new Set),Fe(this,pr,new Map),Fe(this,Lo,0)}build(r,a,s){const o=new AS({client:r,mutationCache:this,mutationId:++lu(this,Lo)._,options:r.defaultMutationOptions(a),state:s});return this.add(o),o}add(r){X(this,ma).add(r);const a=uu(r);if(typeof a=="string"){const s=X(this,pr).get(a);s?s.push(r):X(this,pr).set(a,[r])}this.notify({type:"added",mutation:r})}remove(r){if(X(this,ma).delete(r)){const a=uu(r);if(typeof a=="string"){const s=X(this,pr).get(a);if(s)if(s.length>1){const o=s.indexOf(r);o!==-1&&s.splice(o,1)}else s[0]===r&&X(this,pr).delete(a)}}this.notify({type:"removed",mutation:r})}canRun(r){const a=uu(r);if(typeof a=="string"){const s=X(this,pr).get(a),o=s==null?void 0:s.find(u=>u.state.status==="pending");return!o||o===r}else return!0}runNext(r){var s,o;const a=uu(r);if(typeof a=="string"){const u=(s=X(this,pr).get(a))==null?void 0:s.find(d=>d!==r&&d.state.isPaused);return(o=u==null?void 0:u.continue())!=null?o:Promise.resolve()}else return Promise.resolve()}clear(){Zt.batch(()=>{X(this,ma).forEach(r=>{this.notify({type:"removed",mutation:r})}),X(this,ma).clear(),X(this,pr).clear()})}getAll(){return Array.from(X(this,ma))}find(r){const a={exact:!0,...r};return this.getAll().find(s=>Av(a,s))}findAll(r={}){return this.getAll().filter(a=>Av(r,a))}notify(r){Zt.batch(()=>{this.listeners.forEach(a=>{a(r)})})}resumePausedMutations(){const r=this.getAll().filter(a=>a.state.isPaused);return Zt.batch(()=>Promise.all(r.map(a=>a.continue().catch(vn))))}},ma=new WeakMap,pr=new WeakMap,Lo=new WeakMap,ux);function uu(t){var r;return(r=t.options.scope)==null?void 0:r.id}var pa,oi,Dn,ga,_a,zu,ym,dx,MS=(dx=class extends us{constructor(a,s){super();qe(this,_a);qe(this,pa);qe(this,oi);qe(this,Dn);qe(this,ga);Fe(this,pa,a),this.setOptions(s),this.bindMethods(),tt(this,_a,zu).call(this)}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(a){var o;const s=this.options;this.options=X(this,pa).defaultMutationOptions(a),Eo(this.options,s)||X(this,pa).getMutationCache().notify({type:"observerOptionsUpdated",mutation:X(this,Dn),observer:this}),s!=null&&s.mutationKey&&this.options.mutationKey&&is(s.mutationKey)!==is(this.options.mutationKey)?this.reset():((o=X(this,Dn))==null?void 0:o.state.status)==="pending"&&X(this,Dn).setOptions(this.options)}onUnsubscribe(){var a;this.hasListeners()||(a=X(this,Dn))==null||a.removeObserver(this)}onMutationUpdate(a){tt(this,_a,zu).call(this),tt(this,_a,ym).call(this,a)}getCurrentResult(){return X(this,oi)}reset(){var a;(a=X(this,Dn))==null||a.removeObserver(this),Fe(this,Dn,void 0),tt(this,_a,zu).call(this),tt(this,_a,ym).call(this)}mutate(a,s){var o;return Fe(this,ga,s),(o=X(this,Dn))==null||o.removeObserver(this),Fe(this,Dn,X(this,pa).getMutationCache().build(X(this,pa),this.options)),X(this,Dn).addObserver(this),X(this,Dn).execute(a)}},pa=new WeakMap,oi=new WeakMap,Dn=new WeakMap,ga=new WeakMap,_a=new WeakSet,zu=function(){var s,o;const a=(o=(s=X(this,Dn))==null?void 0:s.state)!=null?o:qx();Fe(this,oi,{...a,isPending:a.status==="pending",isSuccess:a.status==="success",isError:a.status==="error",isIdle:a.status==="idle",mutate:this.mutate,reset:this.reset})},ym=function(a){Zt.batch(()=>{var s,o,u,d,f,h,p,v;if(X(this,ga)&&this.hasListeners()){const y=X(this,oi).variables,w=X(this,oi).context,x={client:X(this,pa),meta:this.options.meta,mutationKey:this.options.mutationKey};(a==null?void 0:a.type)==="success"?((o=(s=X(this,ga)).onSuccess)==null||o.call(s,a.data,y,w,x),(d=(u=X(this,ga)).onSettled)==null||d.call(u,a.data,null,y,w,x)):(a==null?void 0:a.type)==="error"&&((h=(f=X(this,ga)).onError)==null||h.call(f,a.error,y,w,x),(v=(p=X(this,ga)).onSettled)==null||v.call(p,void 0,a.error,y,w,x))}this.listeners.forEach(y=>{y(X(this,oi))})})},dx);function Fv(t,r){const a=new Set(r);return t.filter(s=>!a.has(s))}function RS(t,r,a){const s=t.slice(0);return s[r]=a,s}var il,Gn,sl,ll,lr,ci,Fo,Uo,Bo,gn,xm,wm,_m,Sm,zm,fx,OS=(fx=class extends us{constructor(r,a,s){super();qe(this,gn);qe(this,il);qe(this,Gn);qe(this,sl);qe(this,ll);qe(this,lr);qe(this,ci);qe(this,Fo);qe(this,Uo);qe(this,Bo,[]);Fe(this,il,r),Fe(this,ll,s),Fe(this,sl,[]),Fe(this,lr,[]),Fe(this,Gn,[]),this.setQueries(a)}onSubscribe(){this.listeners.size===1&&X(this,lr).forEach(r=>{r.subscribe(a=>{tt(this,gn,Sm).call(this,r,a)})})}onUnsubscribe(){this.listeners.size||this.destroy()}destroy(){this.listeners=new Set,X(this,lr).forEach(r=>{r.destroy()})}setQueries(r,a){Fe(this,sl,r),Fe(this,ll,a),Zt.batch(()=>{const s=X(this,lr),o=tt(this,gn,_m).call(this,X(this,sl));Fe(this,Bo,o),o.forEach(y=>y.observer.setOptions(y.defaultedQueryOptions));const u=o.map(y=>y.observer),d=u.map(y=>y.getCurrentResult()),f=s.length!==u.length,h=u.some((y,w)=>y!==s[w]),p=f||h,v=p?!0:d.some((y,w)=>{const x=X(this,Gn)[w];return!x||!Eo(y,x)});!p&&!v||(p&&Fe(this,lr,u),Fe(this,Gn,d),this.hasListeners()&&(p&&(Fv(s,u).forEach(y=>{y.destroy()}),Fv(u,s).forEach(y=>{y.subscribe(w=>{tt(this,gn,Sm).call(this,y,w)})})),tt(this,gn,zm).call(this)))})}getCurrentResult(){return X(this,Gn)}getQueries(){return X(this,lr).map(r=>r.getCurrentQuery())}getObservers(){return X(this,lr)}getOptimisticResult(r,a){const s=tt(this,gn,_m).call(this,r),o=s.map(u=>u.observer.getOptimisticResult(u.defaultedQueryOptions));return[o,u=>tt(this,gn,wm).call(this,u!=null?u:o,a),()=>tt(this,gn,xm).call(this,o,s)]}},il=new WeakMap,Gn=new WeakMap,sl=new WeakMap,ll=new WeakMap,lr=new WeakMap,ci=new WeakMap,Fo=new WeakMap,Uo=new WeakMap,Bo=new WeakMap,gn=new WeakSet,xm=function(r,a){return a.map((s,o)=>{const u=r[o];return s.defaultedQueryOptions.notifyOnChangeProps?u:s.observer.trackResult(u,d=>{a.forEach(f=>{f.observer.trackProp(d)})})})},wm=function(r,a){return a?((!X(this,ci)||X(this,Gn)!==X(this,Uo)||a!==X(this,Fo))&&(Fe(this,Fo,a),Fe(this,Uo,X(this,Gn)),Fe(this,ci,Jm(X(this,ci),a(r)))),X(this,ci)):r},_m=function(r){const a=new Map(X(this,lr).map(o=>[o.options.queryHash,o])),s=[];return r.forEach(o=>{const u=X(this,il).defaultQueryOptions(o),d=a.get(u.queryHash);d?s.push({defaultedQueryOptions:u,observer:d}):s.push({defaultedQueryOptions:u,observer:new td(X(this,il),u)})}),s},Sm=function(r,a){const s=X(this,lr).indexOf(r);s!==-1&&(Fe(this,Gn,RS(X(this,Gn),s,a)),tt(this,gn,zm).call(this))},zm=function(){var r;if(this.hasListeners()){const a=X(this,ci),s=tt(this,gn,xm).call(this,X(this,Gn),X(this,Bo)),o=tt(this,gn,wm).call(this,s,(r=X(this,ll))==null?void 0:r.combine);a!==o&&Zt.batch(()=>{this.listeners.forEach(u=>{u(X(this,Gn))})})}},fx),Mr,hx,DS=(hx=class extends us{constructor(r={}){super();qe(this,Mr);this.config=r,Fe(this,Mr,new Map)}build(r,a,s){var f;const o=a.queryKey,u=(f=a.queryHash)!=null?f:Wm(o,a);let d=this.get(u);return d||(d=new zS({client:r,queryKey:o,queryHash:u,options:r.defaultQueryOptions(a),state:s,defaultOptions:r.getQueryDefaults(o)}),this.add(d)),d}add(r){X(this,Mr).has(r.queryHash)||(X(this,Mr).set(r.queryHash,r),this.notify({type:"added",query:r}))}remove(r){const a=X(this,Mr).get(r.queryHash);a&&(r.destroy(),a===r&&X(this,Mr).delete(r.queryHash),this.notify({type:"removed",query:r}))}clear(){Zt.batch(()=>{this.getAll().forEach(r=>{this.remove(r)})})}get(r){return X(this,Mr).get(r)}getAll(){return[...X(this,Mr).values()]}find(r){const a={exact:!0,...r};return this.getAll().find(s=>Cv(a,s))}findAll(r={}){const a=this.getAll();return Object.keys(r).length>0?a.filter(s=>Cv(r,s)):a}notify(r){Zt.batch(()=>{this.listeners.forEach(a=>{a(r)})})}onFocus(){Zt.batch(()=>{this.getAll().forEach(r=>{r.onFocus()})})}onOnline(){Zt.batch(()=>{this.getAll().forEach(r=>{r.onOnline()})})}},Mr=new WeakMap,hx),Gt,ui,di,ol,cl,fi,ul,dl,mx,LS=(mx=class{constructor(t={}){qe(this,Gt);qe(this,ui);qe(this,di);qe(this,ol);qe(this,cl);qe(this,fi);qe(this,ul);qe(this,dl);Fe(this,Gt,t.queryCache||new DS),Fe(this,ui,t.mutationCache||new TS),Fe(this,di,t.defaultOptions||{}),Fe(this,ol,new Map),Fe(this,cl,new Map),Fe(this,fi,0)}mount(){lu(this,fi)._++,X(this,fi)===1&&(Fe(this,ul,t0.subscribe(async t=>{t&&(await this.resumePausedMutations(),X(this,Gt).onFocus())})),Fe(this,dl,Tu.subscribe(async t=>{t&&(await this.resumePausedMutations(),X(this,Gt).onOnline())})))}unmount(){var t,r;lu(this,fi)._--,X(this,fi)===0&&((t=X(this,ul))==null||t.call(this),Fe(this,ul,void 0),(r=X(this,dl))==null||r.call(this),Fe(this,dl,void 0))}isFetching(t){return X(this,Gt).findAll({...t,fetchStatus:"fetching"}).length}isMutating(t){return X(this,ui).findAll({...t,status:"pending"}).length}getQueryData(t){var a;const r=this.defaultQueryOptions({queryKey:t});return(a=X(this,Gt).get(r.queryHash))==null?void 0:a.state.data}ensureQueryData(t){const r=this.defaultQueryOptions(t),a=X(this,Gt).build(this,r),s=a.state.data;return s===void 0?this.fetchQuery(t):(t.revalidateIfStale&&a.isStaleByTime(bi(r.staleTime,a))&&this.prefetchQuery(r),Promise.resolve(s))}getQueriesData(t){return X(this,Gt).findAll(t).map(({queryKey:r,state:a})=>{const s=a.data;return[r,s]})}setQueryData(t,r,a){const s=this.defaultQueryOptions({queryKey:t}),o=X(this,Gt).get(s.queryHash),u=o==null?void 0:o.state.data,d=mS(r,u);if(d!==void 0)return X(this,Gt).build(this,s).setData(d,{...a,manual:!0})}setQueriesData(t,r,a){return Zt.batch(()=>X(this,Gt).findAll(t).map(({queryKey:s})=>[s,this.setQueryData(s,r,a)]))}getQueryState(t){var a;const r=this.defaultQueryOptions({queryKey:t});return(a=X(this,Gt).get(r.queryHash))==null?void 0:a.state}removeQueries(t){const r=X(this,Gt);Zt.batch(()=>{r.findAll(t).forEach(a=>{r.remove(a)})})}resetQueries(t,r){const a=X(this,Gt);return Zt.batch(()=>(a.findAll(t).forEach(s=>{s.reset()}),this.refetchQueries({type:"active",...t},r)))}cancelQueries(t,r={}){const a={revert:!0,...r},s=Zt.batch(()=>X(this,Gt).findAll(t).map(o=>o.cancel(a)));return Promise.all(s).then(vn).catch(vn)}invalidateQueries(t,r={}){return Zt.batch(()=>{var a,s;return X(this,Gt).findAll(t).forEach(o=>{o.invalidate()}),(t==null?void 0:t.refetchType)==="none"?Promise.resolve():this.refetchQueries({...t,type:(s=(a=t==null?void 0:t.refetchType)!=null?a:t==null?void 0:t.type)!=null?s:"active"},r)})}refetchQueries(t,r={}){var o;const a={...r,cancelRefetch:(o=r.cancelRefetch)!=null?o:!0},s=Zt.batch(()=>X(this,Gt).findAll(t).filter(u=>!u.isDisabled()&&!u.isStatic()).map(u=>{let d=u.fetch(void 0,a);return a.throwOnError||(d=d.catch(vn)),u.state.fetchStatus==="paused"?Promise.resolve():d}));return Promise.all(s).then(vn)}fetchQuery(t){const r=this.defaultQueryOptions(t);r.retry===void 0&&(r.retry=!1);const a=X(this,Gt).build(this,r);return a.isStaleByTime(bi(r.staleTime,a))?a.fetch(r):Promise.resolve(a.state.data)}prefetchQuery(t){return this.fetchQuery(t).then(vn).catch(vn)}fetchInfiniteQuery(t){return t.behavior=Mu(t.pages),this.fetchQuery(t)}prefetchInfiniteQuery(t){return this.fetchInfiniteQuery(t).then(vn).catch(vn)}ensureInfiniteQueryData(t){return t.behavior=Mu(t.pages),this.ensureQueryData(t)}resumePausedMutations(){return Tu.isOnline()?X(this,ui).resumePausedMutations():Promise.resolve()}getQueryCache(){return X(this,Gt)}getMutationCache(){return X(this,ui)}getDefaultOptions(){return X(this,di)}setDefaultOptions(t){Fe(this,di,t)}setQueryDefaults(t,r){X(this,ol).set(is(t),{queryKey:t,defaultOptions:r})}getQueryDefaults(t){const r=[...X(this,ol).values()],a={};return r.forEach(s=>{ko(t,s.queryKey)&&Object.assign(a,s.defaultOptions)}),a}setMutationDefaults(t,r){X(this,cl).set(is(t),{mutationKey:t,defaultOptions:r})}getMutationDefaults(t){const r=[...X(this,cl).values()],a={};return r.forEach(s=>{ko(t,s.mutationKey)&&Object.assign(a,s.defaultOptions)}),a}defaultQueryOptions(t){if(t._defaulted)return t;const r={...X(this,di).queries,...this.getQueryDefaults(t.queryKey),...t,_defaulted:!0};return r.queryHash||(r.queryHash=Wm(r.queryKey,r)),r.refetchOnReconnect===void 0&&(r.refetchOnReconnect=r.networkMode!=="always"),r.throwOnError===void 0&&(r.throwOnError=!!r.suspense),!r.networkMode&&r.persister&&(r.networkMode="offlineFirst"),r.queryFn===e0&&(r.enabled=!1),r}defaultMutationOptions(t){return t!=null&&t._defaulted?t:{...X(this,di).mutations,...(t==null?void 0:t.mutationKey)&&this.getMutationDefaults(t.mutationKey),...t,_defaulted:!0}}clear(){X(this,Gt).clear(),X(this,ui).clear()}},Gt=new WeakMap,ui=new WeakMap,di=new WeakMap,ol=new WeakMap,cl=new WeakMap,fi=new WeakMap,ul=new WeakMap,dl=new WeakMap,mx),Ix=b.createContext(void 0),yi=t=>{const r=b.useContext(Ix);if(!r)throw new Error("No QueryClient set, use QueryClientProvider to set one");return r},FS=({client:t,children:r})=>(b.useEffect(()=>(t.mount(),()=>{t.unmount()}),[t]),c.jsx(Ix.Provider,{value:t,children:r})),Yx=b.createContext(!1),Qx=()=>b.useContext(Yx);Yx.Provider;function US(){let t=!1;return{clearReset:()=>{t=!1},reset:()=>{t=!0},isReset:()=>t}}var BS=b.createContext(US()),Gx=()=>b.useContext(BS),Zx=(t,r)=>{(t.suspense||t.throwOnError||t.experimental_prefetchInRender)&&(r.isReset()||(t.retryOnMount=!1))},Kx=t=>{b.useEffect(()=>{t.clearReset()},[t])},Xx=({result:t,errorResetBoundary:r,throwOnError:a,query:s,suspense:o})=>t.isError&&!r.isReset()&&!t.isFetching&&s&&(o&&t.data===void 0||Lx(a,[t.error,s])),Vx=t=>{if(t.suspense){const a=o=>o==="static"?o:Math.max(o!=null?o:1e3,1e3),s=t.staleTime;t.staleTime=typeof s=="function"?(...o)=>a(s(...o)):a(s),typeof t.gcTime=="number"&&(t.gcTime=Math.max(t.gcTime,1e3))}},Wx=(t,r)=>t.isLoading&&t.isFetching&&!r,km=(t,r)=>(t==null?void 0:t.suspense)&&r.isPending,Ru=(t,r,a)=>r.fetchOptimistic(t).catch(()=>{a.clearReset()});function $S({queries:t,...r},a){const s=yi(),o=Qx(),u=Gx(),d=b.useMemo(()=>t.map(_=>{const z=s.defaultQueryOptions(_);return z._optimisticResults=o?"isRestoring":"optimistic",z}),[t,s,o]);d.forEach(_=>{Vx(_),Zx(_,u)}),Kx(u);const[f]=b.useState(()=>new OS(s,d,r)),[h,p,v]=f.getOptimisticResult(d,r.combine),y=!o&&r.subscribed!==!1;b.useSyncExternalStore(b.useCallback(_=>y?f.subscribe(Zt.batchCalls(_)):vn,[f,y]),()=>f.getCurrentResult(),()=>f.getCurrentResult()),b.useEffect(()=>{f.setQueries(d,r)},[d,r,f]);const x=h.some((_,z)=>km(d[z],_))?h.flatMap((_,z)=>{const k=d[z];if(k){const C=new td(s,k);if(km(k,_))return Ru(k,C,u);Wx(_,o)&&Ru(k,C,u)}return[]}):[];if(x.length>0)throw Promise.all(x);const j=h.find((_,z)=>{const k=d[z];return k&&Xx({result:_,errorResetBoundary:u,throwOnError:k.throwOnError,query:s.getQueryCache().get(k.queryHash),suspense:k.suspense})});if(j!=null&&j.error)throw j.error;return p(v())}function Jx(t,r,a){var y,w,x,j,_;const s=Qx(),o=Gx(),u=yi(),d=u.defaultQueryOptions(t);(w=(y=u.getDefaultOptions().queries)==null?void 0:y._experimental_beforeQuery)==null||w.call(y,d),d._optimisticResults=s?"isRestoring":"optimistic",Vx(d),Zx(d,o),Kx(o);const f=!u.getQueryCache().get(d.queryHash),[h]=b.useState(()=>new r(u,d)),p=h.getOptimisticResult(d),v=!s&&t.subscribed!==!1;if(b.useSyncExternalStore(b.useCallback(z=>{const k=v?h.subscribe(Zt.batchCalls(z)):vn;return h.updateResult(),k},[h,v]),()=>h.getCurrentResult(),()=>h.getCurrentResult()),b.useEffect(()=>{h.setOptions(d)},[d,h]),km(d,p))throw Ru(d,h,o);if(Xx({result:p,errorResetBoundary:o,throwOnError:d.throwOnError,query:u.getQueryCache().get(d.queryHash),suspense:d.suspense}))throw p.error;if((j=(x=u.getDefaultOptions().queries)==null?void 0:x._experimental_afterQuery)==null||j.call(x,d,p),d.experimental_prefetchInRender&&!as&&Wx(p,s)){const z=f?Ru(d,h,o):(_=u.getQueryCache().get(d.queryHash))==null?void 0:_.promise;z==null||z.catch(vn).finally(()=>{h.updateResult()})}return d.notifyOnChangeProps?p:h.trackResult(p)}function yn(t,r){return Jx(t,td)}function cn(t,r){const a=yi(),[s]=b.useState(()=>new MS(a,t));b.useEffect(()=>{s.setOptions(t)},[s,t]);const o=b.useSyncExternalStore(b.useCallback(d=>s.subscribe(Zt.batchCalls(d)),[s]),()=>s.getCurrentResult(),()=>s.getCurrentResult()),u=b.useCallback((d,f)=>{s.mutate(d,f).catch(vn)},[s]);if(o.error&&Lx(s.options.throwOnError,[o.error]))throw o.error;return{...o,mutate:u,mutateAsync:o.mutate}}function e1(t,r){return Jx(t,CS)}const Rh={};var px;const HS=((px=Rh==null?void 0:Rh.VITE_API_BASE_URL)==null?void 0:px.replace(/\/$/,""))||"http://localhost:9161",Ou=200,PS=2e3,qS={low:120,medium:200,high:320};function Ln(t){return t.startsWith("http")?t:`${HS}${t.startsWith("/")?"":"/"}${t}`}async function at(t,r){const a=r!=null&&r.signal?null:new AbortController,s=a?setTimeout(()=>a.abort(),3e4):null;try{const o=await fetch(Ln(t),{headers:{"Content-Type":"application/json",...(r==null?void 0:r.headers)||{}},...r,signal:(r==null?void 0:r.signal)||(a==null?void 0:a.signal)});if(s&&clearTimeout(s),!o.ok){const d=await o.text().catch(()=>"");throw new Error(`HTTP ${o.status}: ${o.statusText}${d?`
${d}`:""}`)}return(o.headers.get("content-type")||"").includes("application/json")?await o.json():await o.blob()}catch(o){if(s&&clearTimeout(s),o instanceof TypeError&&o.message==="Failed to fetch"){const u=Ln(t);throw new Error(`Cannot connect to API at ${u}. Please ensure the backend is running and accessible. If using Docker, check that the container is running with: docker ps`)}throw o instanceof Error&&(o.name==="AbortError"||o.message.includes("aborted"))?new Error(`Request to ${Ln(t)} timed out after 30 seconds`):o}}const it={unassignedFaces:(t=0,r=60)=>at(`/faces/unassigned?offset=${t}&limit=${r}`),assignFaceToPerson:(t,r)=>at(`/faces/${t}/assign`,{method:"POST",body:JSON.stringify({person_id:r})}),health:()=>at("/health"),stats:()=>at("/stats"),fileTypes:()=>at("/file-types"),performance:()=>at("/performance"),assets:(t={})=>{const r=new URL(Ln("/assets")),{offset:a=0,limit:s=Ou,sort:o="none",order:u="desc",person_id:d}=t;return r.searchParams.set("offset",String(a)),r.searchParams.set("limit",String(s)),r.searchParams.set("sort",o),r.searchParams.set("order",u),d!==void 0&&r.searchParams.set("person_id",String(d)),at(r.toString())},search:t=>{var a,s;const r=new URL(Ln("/assets/search"));return r.searchParams.set("q",t.q),t.from&&r.searchParams.set("from",t.from),t.to&&r.searchParams.set("to",t.to),t.camera_make&&r.searchParams.set("camera_make",t.camera_make),t.camera_model&&r.searchParams.set("camera_model",t.camera_model),t.platformType&&r.searchParams.set("platform_type",t.platformType),r.searchParams.set("offset",String((a=t.offset)!=null?a:0)),r.searchParams.set("limit",String((s=t.limit)!=null?s:Ou)),at(r.toString())},getScanPaths:()=>at("/paths"),addScanPath:t=>at("/paths",{method:"POST",body:JSON.stringify({path:t})}),removeScanPath:t=>at(`/paths?path=${encodeURIComponent(t)}`,{method:"DELETE"}),scanPath:t=>at("/paths/scan",{method:"POST",body:JSON.stringify({path:t})}),pausePath:t=>at("/paths/pause",{method:"POST",body:JSON.stringify({path:t})}),resumePath:t=>at("/paths/resume",{method:"POST",body:JSON.stringify({path:t})}),getPathStatus:t=>{const r=`/paths/status?path=${encodeURIComponent(t)}`;return at(r)},browseDirectory:t=>{const r=t?`/browse?path=${encodeURIComponent(t)}`:"/browse";return at(r)},clearAllData:()=>at("/clear",{method:"DELETE"}),resetStats:()=>at("/stats/reset",{method:"POST"}),detectFaces:()=>at("/faces/detect",{method:"POST"}),stopFaceDetection:()=>at("/faces/stop",{method:"POST"}),faceDetectionStatus:()=>at("/faces/status"),faceProgress:()=>at("/faces/progress"),clearFacialData:()=>at("/faces/clear",{method:"DELETE"}),listPersons:()=>at("/persons"),getPerson:t=>at(`/persons/${t}`),getPersonAssets:t=>at(`/persons/${t}/assets`).then(r=>r.asset_ids),getPersonFace:t=>at(`/persons/${t}/face`).then(r=>r.face_id).catch(()=>null),updatePerson:(t,r)=>at(`/persons/${t}`,{method:"POST",body:JSON.stringify({name:r})}),deletePerson:t=>at(`/persons/${t}`,{method:"DELETE"}),mergePersons:(t,r)=>at("/persons/merge",{method:"POST",body:JSON.stringify({source_person_id:t,target_person_id:r})}),refreshPersonProfile:t=>at(`/faces/recluster/person/${t}`,{method:"POST"}),getAssetFaces:t=>at(`/assets/${t}/faces`),getFaceSettings:()=>at("/faces/settings"),updateFaceSettings:t=>at("/faces/settings",{method:"POST",body:JSON.stringify(t)}),smartMergePersons:t=>at(`/faces/smart-merge${t?`?threshold=${t}`:""}`,{method:"POST"})},pn={faceThumbUrl:(t,r=160)=>Ln(`/faces/${t}/thumb?size=${r}`),thumbUrl:(t,r)=>Ln(r?`/thumb/${t}?v=${r}`:`/thumb/${t}`),previewUrl:(t,r)=>Ln(r?`/preview/${t}?v=${r}`:`/preview/${t}`),videoUrl:t=>Ln(`/asset/${t}/video`),downloadUrl:t=>Ln(`/asset/${t}/download`),audioMp3Url:t=>Ln(`/asset/${t}/audio.mp3`)},xn={get:t=>at(`/asset/${t}`),download:async t=>{const r=pn.downloadUrl(t),a=await fetch(r);if(!a.ok)throw new Error(`Download failed: ${a.statusText}`);const s=await a.blob(),o=window.URL.createObjectURL(s),u=document.createElement("a");u.href=o;const d=a.headers.get("Content-Disposition"),f=d==null?void 0:d.match(/filename=\"?([^\"]+)\"?/);u.download=f?f[1]:`asset-${t}`,document.body.appendChild(u),u.click(),document.body.removeChild(u),window.URL.revokeObjectURL(o)},delete:async(t,r)=>{const a=(r==null?void 0:r.permanent)===!0,s=Ln(a?`/asset/${t}/permanent`:`/asset/${t}`),o=await fetch(s,{method:"DELETE"}),u=await o.text().catch(()=>"");let d={success:o.ok};if(u)try{d=JSON.parse(u)}catch{d={success:o.ok,error:u}}if(!o.ok){if(a&&o.status===409)return d;const f=d.error||`Delete failed: ${o.status} ${o.statusText}${u?`
${u}`:""}`;throw new Error(f)}return d},deletePermanentBulk:async t=>{var d;const r=Ln("/assets/permanent"),a=await fetch(r,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({ids:t})}),s=await a.text().catch(()=>"");let o=null;if(s)try{o=JSON.parse(s)}catch{}if(!a.ok&&a.status!==409){const f=o&&typeof o.error=="string"?o.error:`Bulk delete failed: ${a.status} ${a.statusText}${s?`
${s}`:""}`;throw new Error(f)}return{success:!!((d=o==null?void 0:o.success)!=null?d:a.ok),results:Array.isArray(o==null?void 0:o.results)?o.results:[],read_only_failures:Array.isArray(o==null?void 0:o.read_only_failures)?o.read_only_failures:[]}},extractAudioMp3:async t=>{const r=pn.audioMp3Url(t),a=new AbortController,s=setTimeout(()=>a.abort(),6e5);try{const o=await fetch(r,{signal:a.signal});if(clearTimeout(s),!o.ok){const v=await o.text().catch(()=>"");let y=`Audio extract failed: ${o.status} ${o.statusText}`;if(v)try{const w=JSON.parse(v);y=w.error||w.details||y}catch{y+=`
${v}`}throw new Error(y)}const u=await o.blob(),d=window.URL.createObjectURL(u),f=document.createElement("a");f.href=d;const h=o.headers.get("Content-Disposition"),p=h==null?void 0:h.match(/filename=\"?([^\";]+)\"?/);f.download=p?p[1]:`audio-${t}.mp3`,document.body.appendChild(f),f.click(),document.body.removeChild(f),window.URL.revokeObjectURL(d)}catch(o){throw clearTimeout(s),o instanceof Error&&o.name==="AbortError"?new Error("Audio extraction timed out after 10 minutes"):o}},saveOrientation:async(t,r)=>{const a=Ln(`/asset/${t}/orientation`),s=await fetch(a,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({rotation:r})}),o=await s.text().catch(()=>"");let u={success:s.ok};if(o)try{u=JSON.parse(o)}catch{u={success:s.ok,error:o||"Unknown error"}}if(!s.ok)throw new Error(u.error||`Save orientation failed: ${s.status} ${s.statusText}`);return u},listAlbums:()=>at("/albums"),getAlbum:t=>at(`/albums/${t}`),createAlbum:(t,r)=>at("/albums",{method:"POST",body:JSON.stringify({name:t,description:r})}),updateAlbum:(t,r,a)=>at(`/albums/${t}`,{method:"PUT",body:JSON.stringify({name:r,description:a})}),deleteAlbum:t=>at(`/albums/${t}`,{method:"DELETE"}),addAssetsToAlbum:(t,r)=>at(`/albums/${t}/assets`,{method:"POST",body:JSON.stringify({asset_ids:r})}),removeAssetsFromAlbum:(t,r)=>at(`/albums/${t}/assets`,{method:"DELETE",body:JSON.stringify({asset_ids:r})}),getAlbumsForAsset:t=>at(`/albums/for-asset/${t}`)},IS=new LS({defaultOptions:{queries:{retry:(t,r)=>r instanceof Error&&(r.message.includes("ERR_CONNECTION_REFUSED")||r.message.includes("Failed to fetch")||r.message.includes("Cannot connect"))||r instanceof Error&&r.message.includes("HTTP 4")?!1:t<1,retryDelay:t=>Math.min(1e3*2**t,3e4),refetchOnWindowFocus:!0,staleTime:3e3,gcTime:30*1e3,placeholderData:t=>t}}}),YS=FS;function vl(){const[t,r]=b.useState(()=>typeof document>"u"?!0:!document.hidden);return b.useEffect(()=>{if(typeof document>"u")return;const a=()=>r(!document.hidden);return document.addEventListener("visibilitychange",a),()=>document.removeEventListener("visibilitychange",a)},[]),t}function nd(){const t=vl();return yn({queryKey:["stats"],queryFn:it.stats,enabled:t,refetchInterval:r=>!t||r.state.error?!1:PS,retry:1})}function r0(t){var d;const r=vl(),{enabled:a,...s}=t,o=(d=s.pageSize)!=null?d:Ou,u=(a!=null?a:!0)&&r;return e1({queryKey:["assets",s],initialPageParam:0,enabled:u,staleTime:5e3,gcTime:3e4,refetchOnWindowFocus:!1,queryFn:({pageParam:f})=>it.assets({offset:f,limit:o,sort:s.sort,order:s.order,person_id:s.person_id}),getNextPageParam:(f,h)=>{const p=h.reduce((v,y)=>v+y.items.length,0);return p<f.total?p:void 0},getPreviousPageParam:(f,h)=>{if(h.length===1)return;let p=0;for(let y=0;y<h.length-1;y++)p+=h[y].items.length;return p<=0?void 0:Math.max(0,p-o)}})}function t1(t){var d;const r=vl(),{enabled:a,...s}=t,o=(d=s.pageSize)!=null?d:Ou,u=(a!=null?a:!0)&&r;return e1({queryKey:["search",s],initialPageParam:0,enabled:u&&!!s.q,staleTime:5e3,gcTime:3e4,refetchOnWindowFocus:!1,queryFn:({pageParam:f})=>it.search({...s,offset:f,limit:o}),getNextPageParam:(f,h)=>{const p=h.reduce((v,y)=>v+y.items.length,0);return p<f.total?p:void 0}})}const Em="nazr.pageSizeTier",QS=2,GS=3e4,n1=b.createContext(null);function ZS(){var r;if(typeof window>"u")return null;const t=(r=window.localStorage)==null?void 0:r.getItem(Em);return t&&(t==="low"||t==="medium"||t==="high")?t:null}function KS(t){var r,a;typeof window>"u"||(t?(r=window.localStorage)==null||r.setItem(Em,t):(a=window.localStorage)==null||a.removeItem(Em))}function Uv(){var u,d,f;if(typeof navigator>"u")return 0;const t=navigator.deviceMemory,r=(u=navigator.hardwareConcurrency)!=null?u:4,a=(d=navigator.connection)==null?void 0:d.effectiveType,s=typeof window<"u"&&((f=window.matchMedia)==null?void 0:f.call(window,"(pointer:coarse)").matches);let o=0;return t!==void 0&&(t>=12?o+=2.5:t>=8?o+=1.5:t<=4&&(o-=1.5)),r>=12?o+=2:r>=8?o+=1:r<=4&&(o-=1.5),s&&(o-=.5),a&&(a==="slow-2g"||a==="2g"?o-=2:a==="3g"?o-=1:a==="4g"&&(o+=.5)),typeof window<"u"&&window.innerWidth>=2560&&(o+=.5),o}function Bv(t){return t>=2?"high":t<=-1?"low":"medium"}function XS({children:t}){const[r,a]=b.useState(()=>ZS()),[s,o]=b.useState(()=>Bv(Uv())),[u,d]=b.useState(0),[f,h]=b.useState(()=>null),[p,v]=b.useState(()=>GS),[y,w]=b.useState(()=>!1),x=b.useRef(null),j=r!=null?r:s,_=f!=null?f:qS[j],z=b.useCallback(Z=>{},[]),k=b.useCallback(Z=>{},[]),C=b.useCallback(Z=>{},[]),M=b.useCallback((Z,P)=>{o(Z)},[]),A=b.useCallback((Z,P)=>{r||o(D=>{if(Z===D)return x.current=null,D;if(x.current&&x.current.candidate===Z){const G=x.current.streak+1;return x.current={candidate:Z,streak:G},G>=QS?(x.current=null,M(Z,P),Z):D}return x.current={candidate:Z,streak:1},D})},[M,r]),O=b.useCallback(Z=>{if(r)return;const P=Uv(),D=Bv(P);A(D,Z)},[r,A]);b.useEffect(()=>{if(r)return;O("init");const Z=setInterval(()=>O("interval"),p),P=()=>{document.hidden||O("visibility")};return document.addEventListener("visibilitychange",P),()=>{clearInterval(Z),document.removeEventListener("visibilitychange",P)}},[r,O,p]),b.useEffect(()=>{var U,S;if(r)return;const Z=()=>O("resize");if(typeof window>"u")return;window.addEventListener("resize",Z);const P=(U=window.matchMedia)==null?void 0:U.call(window,"(pointer:coarse)"),D=()=>O("pointer-change");P!=null&&P.addEventListener?P.addEventListener("change",D):P==null||P.addListener(D);const G=navigator.connection,T=()=>O("connection-change");return(S=G==null?void 0:G.addEventListener)==null||S.call(G,"change",T),()=>{var W,K;window.removeEventListener("resize",Z),P!=null&&P.removeEventListener?P.removeEventListener("change",D):(W=P==null?void 0:P.removeListener)==null||W.call(P,D),(K=G==null?void 0:G.removeEventListener)==null||K.call(G,"change",T)}},[r,O]),b.useEffect(()=>{if(r||y||typeof PerformanceObserver>"u")return;const Z=()=>{d(D=>D+1),o(D=>{const G=D==="high"?"medium":D==="medium"?"low":D;return G!==D?G:D})},P=new PerformanceObserver(D=>{const G=Date.now(),T=D.getEntries().filter(S=>S.duration>=80);if(T.length===0)return;T.filter(S=>G-S.startTime<1e4).length>=5&&Z()});return P.observe({entryTypes:["longtask"]}),()=>P.disconnect()},[r,y]);const Q=b.useCallback(Z=>{KS(Z),a(Z),Z||O("manual-reset")},[O]),B=b.useMemo(()=>({tier:j,pageSize:_,isManual:r!==null,longTaskDowngrades:u,setManualTier:Q,debug:void 0}),[j,_,r,u,Q,f,z,p,k,y,C]);return c.jsx(n1.Provider,{value:B,children:t})}function VS(){const t=b.useContext(n1);if(!t)throw new Error("useAdaptiveLoading must be used within AdaptiveLoadingProvider");return t}function rd(){const t=VS();return{pageSize:t.pageSize,tier:t.tier,isManual:t.isManual,setManualTier:t.setManualTier}}function WS({title:t,titleId:r,...a},s){return b.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":r},a),t?b.createElement("title",{id:r},t):null,b.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3 16.5v2.25A2.25 2.25 0 0 0 5.25 21h13.5A2.25 2.25 0 0 0 21 18.75V16.5M16.5 12 12 16.5m0 0L7.5 12m4.5 4.5V3"}))}const r1=b.forwardRef(WS);function JS({title:t,titleId:r,...a},s){return b.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":r},a),t?b.createElement("title",{id:r},t):null,b.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M16.023 9.348h4.992v-.001M2.985 19.644v-4.992m0 0h4.992m-4.993 0 3.181 3.183a8.25 8.25 0 0 0 13.803-3.7M4.031 9.865a8.25 8.25 0 0 1 13.803-3.7l3.181 3.182m0-4.991v4.99"}))}const $v=b.forwardRef(JS);function ez({title:t,titleId:r,...a},s){return b.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":r},a),t?b.createElement("title",{id:r},t):null,b.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m12.75 15 3-3m0 0-3-3m3 3h-7.5M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"}))}const a1=b.forwardRef(ez);function tz({title:t,titleId:r,...a},s){return b.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":r},a),t?b.createElement("title",{id:r},t):null,b.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3.75 3.75v4.5m0-4.5h4.5m-4.5 0L9 9M3.75 20.25v-4.5m0 4.5h4.5m-4.5 0L9 15M20.25 3.75h-4.5m4.5 0v4.5m0-4.5L15 9m5.25 11.25h-4.5m4.5 0v-4.5m0 4.5L15 15"}))}const i1=b.forwardRef(tz);function nz({title:t,titleId:r,...a},s){return b.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":r},a),t?b.createElement("title",{id:r},t):null,b.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3 4.5h14.25M3 9h9.75M3 13.5h9.75m4.5-4.5v12m0 0-3.75-3.75M17.25 21 21 17.25"}))}const rz=b.forwardRef(nz);function az({title:t,titleId:r,...a},s){return b.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":r},a),t?b.createElement("title",{id:r},t):null,b.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m19.5 8.25-7.5 7.5-7.5-7.5"}))}const jo=b.forwardRef(az);function iz({title:t,titleId:r,...a},s){return b.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":r},a),t?b.createElement("title",{id:r},t):null,b.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 19.5 8.25 12l7.5-7.5"}))}const a0=b.forwardRef(iz);function sz({title:t,titleId:r,...a},s){return b.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":r},a),t?b.createElement("title",{id:r},t):null,b.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m8.25 4.5 7.5 7.5-7.5 7.5"}))}const fl=b.forwardRef(sz);function lz({title:t,titleId:r,...a},s){return b.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":r},a),t?b.createElement("title",{id:r},t):null,b.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m4.5 15.75 7.5-7.5 7.5 7.5"}))}const s1=b.forwardRef(lz);function oz({title:t,titleId:r,...a},s){return b.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":r},a),t?b.createElement("title",{id:r},t):null,b.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M8.25 7.5V6.108c0-1.135.845-2.098 1.976-2.192.373-.03.748-.057 1.123-.08M15.75 18H18a2.25 2.25 0 0 0 2.25-2.25V6.108c0-1.135-.845-2.098-1.976-2.192a48.424 48.424 0 0 0-1.123-.08M15.75 18.75v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5A3.375 3.375 0 0 0 6.375 7.5H5.25m11.9-3.664A2.251 2.251 0 0 0 15 2.25h-1.5a2.251 2.251 0 0 0-2.15 1.586m5.8 0c.065.21.1.433.1.664v.75h-6V4.5c0-.231.035-.454.1-.664M6.75 7.5H4.875c-.621 0-1.125.504-1.125 1.125v12c0 .621.504 1.125 1.125 1.125h9.75c.621 0 1.125-.504 1.125-1.125V16.5a9 9 0 0 0-9-9Z"}))}const cz=b.forwardRef(oz);function uz({title:t,titleId:r,...a},s){return b.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":r},a),t?b.createElement("title",{id:r},t):null,b.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9.594 3.94c.09-.542.56-.94 1.11-.94h2.593c.55 0 1.02.398 1.11.94l.213 1.281c.063.374.313.686.645.87.074.04.147.083.22.127.325.196.72.257 1.075.124l1.217-.456a1.125 1.125 0 0 1 1.37.49l1.296 2.247a1.125 1.125 0 0 1-.26 1.431l-1.003.827c-.293.241-.438.613-.43.992a7.723 7.723 0 0 1 0 .255c-.008.378.137.75.43.991l1.004.827c.424.35.534.955.26 1.43l-1.298 2.247a1.125 1.125 0 0 1-1.369.491l-1.217-.456c-.355-.133-.75-.072-1.076.124a6.47 6.47 0 0 1-.22.128c-.331.183-.581.495-.644.869l-.213 1.281c-.09.543-.56.94-1.11.94h-2.594c-.55 0-1.019-.398-1.11-.94l-.213-1.281c-.062-.374-.312-.686-.644-.87a6.52 6.52 0 0 1-.22-.127c-.325-.196-.72-.257-1.076-.124l-1.217.456a1.125 1.125 0 0 1-1.369-.49l-1.297-2.247a1.125 1.125 0 0 1 .26-1.431l1.004-.827c.292-.24.437-.613.43-.991a6.932 6.932 0 0 1 0-.255c.007-.38-.138-.751-.43-.992l-1.004-.827a1.125 1.125 0 0 1-.26-1.43l1.297-2.247a1.125 1.125 0 0 1 1.37-.491l1.216.456c.356.133.751.072 1.076-.124.072-.044.146-.086.22-.128.332-.183.582-.495.644-.869l.214-1.28Z"}),b.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 12a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z"}))}const l1=b.forwardRef(uz);function dz({title:t,titleId:r,...a},s){return b.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":r},a),t?b.createElement("title",{id:r},t):null,b.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 17.25v1.007a3 3 0 0 1-.879 2.122L7.5 21h9l-.621-.621A3 3 0 0 1 15 18.257V17.25m6-12V15a2.25 2.25 0 0 1-2.25 2.25H5.25A2.25 2.25 0 0 1 3 15V5.25m18 0A2.25 2.25 0 0 0 18.75 3H5.25A2.25 2.25 0 0 0 3 5.25m18 0V12a2.25 2.25 0 0 1-2.25 2.25H5.25A2.25 2.25 0 0 1 3 12V5.25"}))}const fz=b.forwardRef(dz);function hz({title:t,titleId:r,...a},s){return b.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":r},a),t?b.createElement("title",{id:r},t):null,b.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"}))}const mz=b.forwardRef(hz);function pz({title:t,titleId:r,...a},s){return b.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":r},a),t?b.createElement("title",{id:r},t):null,b.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19.5 14.25v-2.625a3.375 3.375 0 0 0-3.375-3.375h-1.5A1.125 1.125 0 0 1 13.5 7.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H8.25m2.25 0H5.625c-.621 0-1.125.504-1.125 1.125v17.25c0 .621.504 1.125 1.125 1.125h12.75c.621 0 1.125-.504 1.125-1.125V11.25a9 9 0 0 0-9-9Z"}))}const gz=b.forwardRef(pz);function bz({title:t,titleId:r,...a},s){return b.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":r},a),t?b.createElement("title",{id:r},t):null,b.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 9v3.75m-9.303 3.376c-.866 1.5.217 3.374 1.948 3.374h14.71c1.73 0 2.813-1.874 1.948-3.374L13.949 3.378c-.866-1.5-3.032-1.5-3.898 0L2.697 16.126ZM12 15.75h.007v.008H12v-.008Z"}))}const vz=b.forwardRef(bz);function yz({title:t,titleId:r,...a},s){return b.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":r},a),t?b.createElement("title",{id:r},t):null,b.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3.75 9.776c.112-.017.227-.026.344-.026h15.812c.117 0 .232.009.344.026m-16.5 0a2.25 2.25 0 0 0-1.883 2.542l.857 6a2.25 2.25 0 0 0 2.227 1.932H19.05a2.25 2.25 0 0 0 2.227-1.932l.857-6a2.25 2.25 0 0 0-1.883-2.542m-16.5 0V6A2.25 2.25 0 0 1 6 3.75h3.879a1.5 1.5 0 0 1 1.06.44l2.122 2.12a1.5 1.5 0 0 0 1.06.44H18A2.25 2.25 0 0 1 20.25 9v.776"}))}const xz=b.forwardRef(yz);function wz({title:t,titleId:r,...a},s){return b.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":r},a),t?b.createElement("title",{id:r},t):null,b.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 10.5v6m3-3H9m4.06-7.19-2.12-2.12a1.5 1.5 0 0 0-1.061-.44H4.5A2.25 2.25 0 0 0 2.25 6v12a2.25 2.25 0 0 0 2.25 2.25h15A2.25 2.25 0 0 0 21.75 18V9a2.25 2.25 0 0 0-2.25-2.25h-5.379a1.5 1.5 0 0 1-1.06-.44Z"}))}const Du=b.forwardRef(wz);function _z({title:t,titleId:r,...a},s){return b.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":r},a),t?b.createElement("title",{id:r},t):null,b.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.25 12.75V12A2.25 2.25 0 0 1 4.5 9.75h15A2.25 2.25 0 0 1 21.75 12v.75m-8.69-6.44-2.12-2.12a1.5 1.5 0 0 0-1.061-.44H4.5A2.25 2.25 0 0 0 2.25 6v12a2.25 2.25 0 0 0 2.25 2.25h15A2.25 2.25 0 0 0 21.75 18V9a2.25 2.25 0 0 0-2.25-2.25h-5.379a1.5 1.5 0 0 1-1.06-.44Z"}))}const Lu=b.forwardRef(_z);function Sz({title:t,titleId:r,...a},s){return b.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":r},a),t?b.createElement("title",{id:r},t):null,b.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 3c2.755 0 5.455.232 8.083.678.533.09.917.556.917 1.096v1.044a2.25 2.25 0 0 1-.659 1.591l-5.432 5.432a2.25 2.25 0 0 0-.659 1.591v2.927a2.25 2.25 0 0 1-1.244 2.013L9.75 21v-6.568a2.25 2.25 0 0 0-.659-1.591L3.659 7.409A2.25 2.25 0 0 1 3 5.818V4.774c0-.54.384-1.006.917-1.096A48.32 48.32 0 0 1 12 3Z"}))}const zz=b.forwardRef(Sz);function kz({title:t,titleId:r,...a},s){return b.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":r},a),t?b.createElement("title",{id:r},t):null,b.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m21 21-5.197-5.197m0 0A7.5 7.5 0 1 0 5.196 5.196a7.5 7.5 0 0 0 10.607 10.607ZM13.5 10.5h-6"}))}const Ez=b.forwardRef(kz);function jz({title:t,titleId:r,...a},s){return b.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":r},a),t?b.createElement("title",{id:r},t):null,b.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m21 21-5.197-5.197m0 0A7.5 7.5 0 1 0 5.196 5.196a7.5 7.5 0 0 0 10.607 10.607ZM10.5 7.5v6m3-3h-6"}))}const Nz=b.forwardRef(jz);function Cz({title:t,titleId:r,...a},s){return b.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":r},a),t?b.createElement("title",{id:r},t):null,b.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m21 21-5.197-5.197m0 0A7.5 7.5 0 1 0 5.196 5.196a7.5 7.5 0 0 0 10.607 10.607Z"}))}const Az=b.forwardRef(Cz);function Tz({title:t,titleId:r,...a},s){return b.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":r},a),t?b.createElement("title",{id:r},t):null,b.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M21.752 15.002A9.72 9.72 0 0 1 18 15.75c-5.385 0-9.75-4.365-9.75-9.75 0-1.33.266-2.597.748-3.752A9.753 9.753 0 0 0 3 11.25C3 16.635 7.365 21 12.75 21a9.753 9.753 0 0 0 9.002-5.998Z"}))}const Mz=b.forwardRef(Tz);function Rz({title:t,titleId:r,...a},s){return b.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":r},a),t?b.createElement("title",{id:r},t):null,b.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 5.25v13.5m-7.5-13.5v13.5"}))}const Oz=b.forwardRef(Rz);function Dz({title:t,titleId:r,...a},s){return b.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":r},a),t?b.createElement("title",{id:r},t):null,b.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m16.862 4.487 1.687-1.688a1.875 1.875 0 1 1 2.652 2.652L6.832 19.82a4.5 4.5 0 0 1-1.897 1.13l-2.685.8.8-2.685a4.5 4.5 0 0 1 1.13-1.897L16.863 4.487Zm0 0L19.5 7.125"}))}const o1=b.forwardRef(Dz);function Lz({title:t,titleId:r,...a},s){return b.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":r},a),t?b.createElement("title",{id:r},t):null,b.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M5.25 5.653c0-.856.917-1.398 1.667-.986l11.54 6.347a1.125 1.125 0 0 1 0 1.972l-11.54 6.347a1.125 1.125 0 0 1-1.667-.986V5.653Z"}))}const Fz=b.forwardRef(Lz);function Uz({title:t,titleId:r,...a},s){return b.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":r},a),t?b.createElement("title",{id:r},t):null,b.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 4.5v15m7.5-7.5h-15"}))}const c1=b.forwardRef(Uz);function Bz({title:t,titleId:r,...a},s){return b.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":r},a),t?b.createElement("title",{id:r},t):null,b.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9.813 15.904 9 18.75l-.813-2.846a4.5 4.5 0 0 0-3.09-3.09L2.25 12l2.846-.813a4.5 4.5 0 0 0 3.09-3.09L9 5.25l.813 2.846a4.5 4.5 0 0 0 3.09 3.09L15.75 12l-2.846.813a4.5 4.5 0 0 0-3.09 3.09ZM18.259 8.715 18 9.75l-.259-1.035a3.375 3.375 0 0 0-2.455-2.456L14.25 6l1.036-.259a3.375 3.375 0 0 0 2.455-2.456L18 2.25l.259 1.035a3.375 3.375 0 0 0 2.456 2.456L21.75 6l-1.035.259a3.375 3.375 0 0 0-2.456 2.456ZM16.894 20.567 16.5 21.75l-.394-1.183a2.25 2.25 0 0 0-1.423-1.423L13.5 18.75l1.183-.394a2.25 2.25 0 0 0 1.423-1.423l.394-1.183.394 1.183a2.25 2.25 0 0 0 1.423 1.423l1.183.394-1.183.394a2.25 2.25 0 0 0-1.423 1.423Z"}))}const $z=b.forwardRef(Bz);function Hz({title:t,titleId:r,...a},s){return b.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":r},a),t?b.createElement("title",{id:r},t):null,b.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3.75 6A2.25 2.25 0 0 1 6 3.75h2.25A2.25 2.25 0 0 1 10.5 6v2.25a2.25 2.25 0 0 1-2.25 2.25H6a2.25 2.25 0 0 1-2.25-2.25V6ZM3.75 15.75A2.25 2.25 0 0 1 6 13.5h2.25a2.25 2.25 0 0 1 2.25 2.25V18a2.25 2.25 0 0 1-2.25 2.25H6A2.25 2.25 0 0 1 3.75 18v-2.25ZM13.5 6a2.25 2.25 0 0 1 2.25-2.25H18A2.25 2.25 0 0 1 20.25 6v2.25A2.25 2.25 0 0 1 18 10.5h-2.25a2.25 2.25 0 0 1-2.25-2.25V6ZM13.5 15.75a2.25 2.25 0 0 1 2.25-2.25H18a2.25 2.25 0 0 1 2.25 2.25V18A2.25 2.25 0 0 1 18 20.25h-2.25A2.25 2.25 0 0 1 13.5 18v-2.25Z"}))}const Pz=b.forwardRef(Hz);function qz({title:t,titleId:r,...a},s){return b.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":r},a),t?b.createElement("title",{id:r},t):null,b.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 3v2.25m6.364.386-1.591 1.591M21 12h-2.25m-.386 6.364-1.591-1.591M12 18.75V21m-4.773-4.227-1.591 1.591M5.25 12H3m4.227-4.773L5.636 5.636M15.75 12a3.75 3.75 0 1 1-7.5 0 3.75 3.75 0 0 1 7.5 0Z"}))}const Iz=b.forwardRef(qz);function Yz({title:t,titleId:r,...a},s){return b.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":r},a),t?b.createElement("title",{id:r},t):null,b.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m14.74 9-.346 9m-4.788 0L9.26 9m9.968-3.21c.342.052.682.107 1.022.166m-1.022-.165L18.16 19.673a2.25 2.25 0 0 1-2.244 2.077H8.084a2.25 2.25 0 0 1-2.244-2.077L4.772 5.79m14.456 0a48.108 48.108 0 0 0-3.478-.397m-12 .562c.34-.059.68-.114 1.022-.165m0 0a48.11 48.11 0 0 1 3.478-.397m7.5 0v-.916c0-1.18-.91-2.164-2.09-2.201a51.964 51.964 0 0 0-3.32 0c-1.18.037-2.09 1.022-2.09 2.201v.916m7.5 0a48.667 48.667 0 0 0-7.5 0"}))}const qo=b.forwardRef(Yz);function Qz({title:t,titleId:r,...a},s){return b.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":r},a),t?b.createElement("title",{id:r},t):null,b.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M18 7.5v3m0 0v3m0-3h3m-3 0h-3m-2.25-4.125a3.375 3.375 0 1 1-6.75 0 3.375 3.375 0 0 1 6.75 0ZM3 19.235v-.11a6.375 6.375 0 0 1 12.75 0v.109A12.318 12.318 0 0 1 9.374 21c-2.331 0-4.512-.645-6.374-1.766Z"}))}const Gz=b.forwardRef(Qz);function Zz({title:t,titleId:r,...a},s){return b.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":r},a),t?b.createElement("title",{id:r},t):null,b.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 18 18 6M6 6l12 12"}))}const xa=b.forwardRef(Zz);var Kz=Object.defineProperty,Xz=(t,r,a)=>r in t?Kz(t,r,{enumerable:!0,configurable:!0,writable:!0,value:a}):t[r]=a,Oh=(t,r,a)=>(Xz(t,typeof r!="symbol"?r+"":r,a),a);let Vz=class{constructor(){Oh(this,"current",this.detect()),Oh(this,"handoffState","pending"),Oh(this,"currentId",0)}set(r){this.current!==r&&(this.handoffState="pending",this.currentId=0,this.current=r)}reset(){this.set(this.detect())}nextId(){return++this.currentId}get isServer(){return this.current==="server"}get isClient(){return this.current==="client"}detect(){return typeof window>"u"||typeof document>"u"?"server":"client"}handoff(){this.handoffState==="pending"&&(this.handoffState="complete")}get isHandoffComplete(){return this.handoffState==="complete"}},Or=new Vz;function Io(t){var r;return Or.isServer?null:t==null?document:(r=t==null?void 0:t.ownerDocument)!=null?r:document}function jm(t){var r,a;return Or.isServer?null:t==null?document:(a=(r=t==null?void 0:t.getRootNode)==null?void 0:r.call(t))!=null?a:document}function u1(t){var r,a;return(a=(r=jm(t))==null?void 0:r.activeElement)!=null?a:null}function Wz(t){return u1(t)===t}function ad(t){typeof queueMicrotask=="function"?queueMicrotask(t):Promise.resolve().then(t).catch(r=>setTimeout(()=>{throw r}))}function ja(){let t=[],r={addEventListener(a,s,o,u){return a.addEventListener(s,o,u),r.add(()=>a.removeEventListener(s,o,u))},requestAnimationFrame(...a){let s=requestAnimationFrame(...a);return r.add(()=>cancelAnimationFrame(s))},nextFrame(...a){return r.requestAnimationFrame(()=>r.requestAnimationFrame(...a))},setTimeout(...a){let s=setTimeout(...a);return r.add(()=>clearTimeout(s))},microTask(...a){let s={current:!0};return ad(()=>{s.current&&a[0]()}),r.add(()=>{s.current=!1})},style(a,s,o){let u=a.style.getPropertyValue(s);return Object.assign(a.style,{[s]:o}),this.add(()=>{Object.assign(a.style,{[s]:u})})},group(a){let s=ja();return a(s),this.add(()=>s.dispose())},add(a){return t.includes(a)||t.push(a),()=>{let s=t.indexOf(a);if(s>=0)for(let o of t.splice(s,1))o()}},dispose(){for(let a of t.splice(0))a()}};return r}function id(){let[t]=b.useState(ja);return b.useEffect(()=>()=>t.dispose(),[t]),t}let Un=(t,r)=>{Or.isServer?b.useEffect(t,r):b.useLayoutEffect(t,r)};function ds(t){let r=b.useRef(t);return Un(()=>{r.current=t},[t]),r}let Ot=function(t){let r=ds(t);return nt.useCallback((...a)=>r.current(...a),[r])};function Yo(t){return b.useMemo(()=>t,Object.values(t))}let Jz=b.createContext(void 0);function e3(){return b.useContext(Jz)}function Nm(...t){return Array.from(new Set(t.flatMap(r=>typeof r=="string"?r.split(" "):[]))).filter(Boolean).join(" ")}function za(t,r,...a){if(t in r){let o=r[t];return typeof o=="function"?o(...a):o}let s=new Error(`Tried to handle "${t}" but there is no handler defined. Only defined handlers are: ${Object.keys(r).map(o=>`"${o}"`).join(", ")}.`);throw Error.captureStackTrace&&Error.captureStackTrace(s,za),s}var Fu=(t=>(t[t.None=0]="None",t[t.RenderStrategy=1]="RenderStrategy",t[t.Static=2]="Static",t))(Fu||{}),hi=(t=>(t[t.Unmount=0]="Unmount",t[t.Hidden=1]="Hidden",t))(hi||{});function cr(){let t=n3();return b.useCallback(r=>t3({mergeRefs:t,...r}),[t])}function t3({ourProps:t,theirProps:r,slot:a,defaultTag:s,features:o,visible:u=!0,name:d,mergeRefs:f}){f=f!=null?f:r3;let h=d1(r,t);if(u)return du(h,a,s,d,f);let p=o!=null?o:0;if(p&2){let{static:v=!1,...y}=h;if(v)return du(y,a,s,d,f)}if(p&1){let{unmount:v=!0,...y}=h;return za(v?0:1,{0(){return null},1(){return du({...y,hidden:!0,style:{display:"none"}},a,s,d,f)}})}return du(h,a,s,d,f)}function du(t,r={},a,s,o){let{as:u=a,children:d,refName:f="ref",...h}=Dh(t,["unmount","static"]),p=t.ref!==void 0?{[f]:t.ref}:{},v=typeof d=="function"?d(r):d;"className"in h&&h.className&&typeof h.className=="function"&&(h.className=h.className(r)),h["aria-labelledby"]&&h["aria-labelledby"]===h.id&&(h["aria-labelledby"]=void 0);let y={};if(r){let w=!1,x=[];for(let[j,_]of Object.entries(r))typeof _=="boolean"&&(w=!0),_===!0&&x.push(j.replace(/([A-Z])/g,z=>`-${z.toLowerCase()}`));if(w){y["data-headlessui-state"]=x.join(" ");for(let j of x)y[`data-${j}`]=""}}if(wo(u)&&(Object.keys($i(h)).length>0||Object.keys($i(y)).length>0))if(!b.isValidElement(v)||Array.isArray(v)&&v.length>1||i3(v)){if(Object.keys($i(h)).length>0)throw new Error(['Passing props on "Fragment"!',"",`The current component <${s} /> is rendering a "Fragment".`,"However we need to passthrough the following props:",Object.keys($i(h)).concat(Object.keys($i(y))).map(w=>`  - ${w}`).join(`
`),"","You can apply a few solutions:",['Add an `as="..."` prop, to ensure that we render an actual element instead of a "Fragment".',"Render a single element as the child so that we can forward the props onto that element."].map(w=>`  - ${w}`).join(`
`)].join(`
`))}else{let w=v.props,x=w==null?void 0:w.className,j=typeof x=="function"?(...k)=>Nm(x(...k),h.className):Nm(x,h.className),_=j?{className:j}:{},z=d1(v.props,$i(Dh(h,["ref"])));for(let k in y)k in z&&delete y[k];return b.cloneElement(v,Object.assign({},z,y,p,{ref:o(a3(v),p.ref)},_))}return b.createElement(u,Object.assign({},Dh(h,["ref"]),!wo(u)&&p,!wo(u)&&y),v)}function n3(){let t=b.useRef([]),r=b.useCallback(a=>{for(let s of t.current)s!=null&&(typeof s=="function"?s(a):s.current=a)},[]);return(...a)=>{if(!a.every(s=>s==null))return t.current=a,r}}function r3(...t){return t.every(r=>r==null)?void 0:r=>{for(let a of t)a!=null&&(typeof a=="function"?a(r):a.current=r)}}function d1(...t){if(t.length===0)return{};if(t.length===1)return t[0];let r={},a={};for(let s of t)for(let o in s)o.startsWith("on")&&typeof s[o]=="function"?(a[o]!=null||(a[o]=[]),a[o].push(s[o])):r[o]=s[o];if(r.disabled||r["aria-disabled"])for(let s in a)/^(on(?:Click|Pointer|Mouse|Key)(?:Down|Up|Press)?)$/.test(s)&&(a[s]=[o=>{var u;return(u=o==null?void 0:o.preventDefault)==null?void 0:u.call(o)}]);for(let s in a)Object.assign(r,{[s](o,...u){let d=a[s];for(let f of d){if((o instanceof Event||(o==null?void 0:o.nativeEvent)instanceof Event)&&o.defaultPrevented)return;f(o,...u)}}});return r}function Bn(t){var r;return Object.assign(b.forwardRef(t),{displayName:(r=t.displayName)!=null?r:t.name})}function $i(t){let r=Object.assign({},t);for(let a in r)r[a]===void 0&&delete r[a];return r}function Dh(t,r=[]){let a=Object.assign({},t);for(let s of r)s in a&&delete a[s];return a}function a3(t){return nt.version.split(".")[0]>="19"?t.props.ref:t.ref}function wo(t){return t===b.Fragment||t===Symbol.for("react.fragment")}function i3(t){return wo(t.type)}let s3="span";var Uu=(t=>(t[t.None=1]="None",t[t.Focusable=2]="Focusable",t[t.Hidden=4]="Hidden",t))(Uu||{});function l3(t,r){var a;let{features:s=1,...o}=t,u={ref:r,"aria-hidden":(s&2)===2?!0:(a=o["aria-hidden"])!=null?a:void 0,hidden:(s&4)===4?!0:void 0,style:{position:"fixed",top:1,left:1,width:1,height:0,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",borderWidth:"0",...(s&4)===4&&(s&2)!==2&&{display:"none"}}};return cr()({ourProps:u,theirProps:o,slot:{},defaultTag:s3,name:"Hidden"})}let Cm=Bn(l3);function o3(t){return typeof t!="object"||t===null?!1:"nodeType"in t}function vi(t){return o3(t)&&"tagName"in t}function ss(t){return vi(t)&&"accessKey"in t}function mi(t){return vi(t)&&"tabIndex"in t}function c3(t){return vi(t)&&"style"in t}function u3(t){return ss(t)&&t.nodeName==="IFRAME"}function d3(t){return ss(t)&&t.nodeName==="INPUT"}let f1=Symbol();function f3(t,r=!0){return Object.assign(t,{[f1]:r})}function Fr(...t){let r=b.useRef(t);b.useEffect(()=>{r.current=t},[t]);let a=Ot(s=>{for(let o of r.current)o!=null&&(typeof o=="function"?o(s):o.current=s)});return t.every(s=>s==null||(s==null?void 0:s[f1]))?void 0:a}let i0=b.createContext(null);i0.displayName="DescriptionContext";function h1(){let t=b.useContext(i0);if(t===null){let r=new Error("You used a <Description /> component, but it is not inside a relevant parent.");throw Error.captureStackTrace&&Error.captureStackTrace(r,h1),r}return t}function h3(){let[t,r]=b.useState([]);return[t.length>0?t.join(" "):void 0,b.useMemo(()=>function(a){let s=Ot(u=>(r(d=>[...d,u]),()=>r(d=>{let f=d.slice(),h=f.indexOf(u);return h!==-1&&f.splice(h,1),f}))),o=b.useMemo(()=>({register:s,slot:a.slot,name:a.name,props:a.props,value:a.value}),[s,a.slot,a.name,a.props,a.value]);return nt.createElement(i0.Provider,{value:o},a.children)},[r])]}let m3="p";function p3(t,r){let a=b.useId(),s=e3(),{id:o=`headlessui-description-${a}`,...u}=t,d=h1(),f=Fr(r);Un(()=>d.register(o),[o,d.register]);let h=Yo({...d.slot,disabled:s||!1}),p={ref:f,...d.props,id:o};return cr()({ourProps:p,theirProps:u,slot:h,defaultTag:m3,name:d.name||"Description"})}let g3=Bn(p3),b3=Object.assign(g3,{});var m1=(t=>(t.Space=" ",t.Enter="Enter",t.Escape="Escape",t.Backspace="Backspace",t.Delete="Delete",t.ArrowLeft="ArrowLeft",t.ArrowUp="ArrowUp",t.ArrowRight="ArrowRight",t.ArrowDown="ArrowDown",t.Home="Home",t.End="End",t.PageUp="PageUp",t.PageDown="PageDown",t.Tab="Tab",t))(m1||{});let v3=b.createContext(()=>{});function y3({value:t,children:r}){return nt.createElement(v3.Provider,{value:t},r)}let p1=class extends Map{constructor(r){super(),this.factory=r}get(r){let a=super.get(r);return a===void 0&&(a=this.factory(r),this.set(r,a)),a}};var x3=Object.defineProperty,w3=(t,r,a)=>r in t?x3(t,r,{enumerable:!0,configurable:!0,writable:!0,value:a}):t[r]=a,_3=(t,r,a)=>(w3(t,r+"",a),a),g1=(t,r,a)=>{if(!r.has(t))throw TypeError("Cannot "+a)},ir=(t,r,a)=>(g1(t,r,"read from private field"),a?a.call(t):r.get(t)),Lh=(t,r,a)=>{if(r.has(t))throw TypeError("Cannot add the same private member more than once");r instanceof WeakSet?r.add(t):r.set(t,a)},Hv=(t,r,a,s)=>(g1(t,r,"write to private field"),r.set(t,a),a),Cr,po,go;let S3=class{constructor(r){Lh(this,Cr,{}),Lh(this,po,new p1(()=>new Set)),Lh(this,go,new Set),_3(this,"disposables",ja()),Hv(this,Cr,r),Or.isServer&&this.disposables.microTask(()=>{this.dispose()})}dispose(){this.disposables.dispose()}get state(){return ir(this,Cr)}subscribe(r,a){if(Or.isServer)return()=>{};let s={selector:r,callback:a,current:r(ir(this,Cr))};return ir(this,go).add(s),this.disposables.add(()=>{ir(this,go).delete(s)})}on(r,a){return Or.isServer?()=>{}:(ir(this,po).get(r).add(a),this.disposables.add(()=>{ir(this,po).get(r).delete(a)}))}send(r){let a=this.reduce(ir(this,Cr),r);if(a!==ir(this,Cr)){Hv(this,Cr,a);for(let s of ir(this,go)){let o=s.selector(ir(this,Cr));b1(s.current,o)||(s.current=o,s.callback(o))}for(let s of ir(this,po).get(r.type))s(ir(this,Cr),r)}}};Cr=new WeakMap,po=new WeakMap,go=new WeakMap;function b1(t,r){return Object.is(t,r)?!0:typeof t!="object"||t===null||typeof r!="object"||r===null?!1:Array.isArray(t)&&Array.isArray(r)?t.length!==r.length?!1:Fh(t[Symbol.iterator](),r[Symbol.iterator]()):t instanceof Map&&r instanceof Map||t instanceof Set&&r instanceof Set?t.size!==r.size?!1:Fh(t.entries(),r.entries()):Pv(t)&&Pv(r)?Fh(Object.entries(t)[Symbol.iterator](),Object.entries(r)[Symbol.iterator]()):!1}function Fh(t,r){do{let a=t.next(),s=r.next();if(a.done&&s.done)return!0;if(a.done||s.done||!Object.is(a.value,s.value))return!1}while(!0)}function Pv(t){if(Object.prototype.toString.call(t)!=="[object Object]")return!1;let r=Object.getPrototypeOf(t);return r===null||Object.getPrototypeOf(r)===null}var z3=Object.defineProperty,k3=(t,r,a)=>r in t?z3(t,r,{enumerable:!0,configurable:!0,writable:!0,value:a}):t[r]=a,qv=(t,r,a)=>(k3(t,typeof r!="symbol"?r+"":r,a),a),E3=(t=>(t[t.Push=0]="Push",t[t.Pop=1]="Pop",t))(E3||{});let j3={0(t,r){let a=r.id,s=t.stack,o=t.stack.indexOf(a);if(o!==-1){let u=t.stack.slice();return u.splice(o,1),u.push(a),s=u,{...t,stack:s}}return{...t,stack:[...t.stack,a]}},1(t,r){let a=r.id,s=t.stack.indexOf(a);if(s===-1)return t;let o=t.stack.slice();return o.splice(s,1),{...t,stack:o}}},N3=class v1 extends S3{constructor(){super(...arguments),qv(this,"actions",{push:r=>this.send({type:0,id:r}),pop:r=>this.send({type:1,id:r})}),qv(this,"selectors",{isTop:(r,a)=>r.stack[r.stack.length-1]===a,inStack:(r,a)=>r.stack.includes(a)})}static new(){return new v1({stack:[]})}reduce(r,a){return za(a.type,j3,r,a)}};const y1=new p1(()=>N3.new());var Uh={exports:{}},Bh={};var Iv;function C3(){if(Iv)return Bh;Iv=1;var t=Wu();function r(h,p){return h===p&&(h!==0||1/h===1/p)||h!==h&&p!==p}var a=typeof Object.is=="function"?Object.is:r,s=t.useSyncExternalStore,o=t.useRef,u=t.useEffect,d=t.useMemo,f=t.useDebugValue;return Bh.useSyncExternalStoreWithSelector=function(h,p,v,y,w){var x=o(null);if(x.current===null){var j={hasValue:!1,value:null};x.current=j}else j=x.current;x=d(function(){function z(O){if(!k){if(k=!0,C=O,O=y(O),w!==void 0&&j.hasValue){var Q=j.value;if(w(Q,O))return M=Q}return M=O}if(Q=M,a(C,O))return Q;var B=y(O);return w!==void 0&&w(Q,B)?(C=O,Q):(C=O,M=B)}var k=!1,C,M,A=v===void 0?null:v;return[function(){return z(p())},A===null?void 0:function(){return z(A())}]},[p,v,y,w]);var _=s(h,x[0],x[1]);return u(function(){j.hasValue=!0,j.value=_},[_]),f(_),_},Bh}var Yv;function A3(){return Yv||(Yv=1,Uh.exports=C3()),Uh.exports}var T3=A3();function x1(t,r,a=b1){return T3.useSyncExternalStoreWithSelector(Ot(s=>t.subscribe(M3,s)),Ot(()=>t.state),Ot(()=>t.state),Ot(r),a)}function M3(t){return t}function Qo(t,r){let a=b.useId(),s=y1.get(r),[o,u]=x1(s,b.useCallback(d=>[s.selectors.isTop(d,a),s.selectors.inStack(d,a)],[s,a]));return Un(()=>{if(t)return s.actions.push(a),()=>s.actions.pop(a)},[s,t,a]),t?u?o:!0:!1}let Am=new Map,_o=new Map;function Qv(t){var r;let a=(r=_o.get(t))!=null?r:0;return _o.set(t,a+1),a!==0?()=>Gv(t):(Am.set(t,{"aria-hidden":t.getAttribute("aria-hidden"),inert:t.inert}),t.setAttribute("aria-hidden","true"),t.inert=!0,()=>Gv(t))}function Gv(t){var r;let a=(r=_o.get(t))!=null?r:1;if(a===1?_o.delete(t):_o.set(t,a-1),a!==1)return;let s=Am.get(t);s&&(s["aria-hidden"]===null?t.removeAttribute("aria-hidden"):t.setAttribute("aria-hidden",s["aria-hidden"]),t.inert=s.inert,Am.delete(t))}function R3(t,{allowed:r,disallowed:a}={}){let s=Qo(t,"inert-others");Un(()=>{var o,u;if(!s)return;let d=ja();for(let h of(o=a==null?void 0:a())!=null?o:[])h&&d.add(Qv(h));let f=(u=r==null?void 0:r())!=null?u:[];for(let h of f){if(!h)continue;let p=Io(h);if(!p)continue;let v=h.parentElement;for(;v&&v!==p.body;){for(let y of v.children)f.some(w=>y.contains(w))||d.add(Qv(y));v=v.parentElement}}return d.dispose},[s,r,a])}function O3(t,r,a){let s=ds(o=>{let u=o.getBoundingClientRect();u.x===0&&u.y===0&&u.width===0&&u.height===0&&a()});b.useEffect(()=>{if(!t)return;let o=r===null?null:ss(r)?r:r.current;if(!o)return;let u=ja();if(typeof ResizeObserver<"u"){let d=new ResizeObserver(()=>s.current(o));d.observe(o),u.add(()=>d.disconnect())}if(typeof IntersectionObserver<"u"){let d=new IntersectionObserver(()=>s.current(o));d.observe(o),u.add(()=>d.disconnect())}return()=>u.dispose()},[r,s,t])}let Bu=["[contentEditable=true]","[tabindex]","a[href]","area[href]","button:not([disabled])","iframe","input:not([disabled])","select:not([disabled])","details>summary","textarea:not([disabled])"].map(t=>`${t}:not([tabindex='-1'])`).join(","),D3=["[data-autofocus]"].map(t=>`${t}:not([tabindex='-1'])`).join(",");var ba=(t=>(t[t.First=1]="First",t[t.Previous=2]="Previous",t[t.Next=4]="Next",t[t.Last=8]="Last",t[t.WrapAround=16]="WrapAround",t[t.NoScroll=32]="NoScroll",t[t.AutoFocus=64]="AutoFocus",t))(ba||{}),Tm=(t=>(t[t.Error=0]="Error",t[t.Overflow=1]="Overflow",t[t.Success=2]="Success",t[t.Underflow=3]="Underflow",t))(Tm||{}),L3=(t=>(t[t.Previous=-1]="Previous",t[t.Next=1]="Next",t))(L3||{});function F3(t=document.body){return t==null?[]:Array.from(t.querySelectorAll(Bu)).sort((r,a)=>Math.sign((r.tabIndex||Number.MAX_SAFE_INTEGER)-(a.tabIndex||Number.MAX_SAFE_INTEGER)))}function U3(t=document.body){return t==null?[]:Array.from(t.querySelectorAll(D3)).sort((r,a)=>Math.sign((r.tabIndex||Number.MAX_SAFE_INTEGER)-(a.tabIndex||Number.MAX_SAFE_INTEGER)))}var w1=(t=>(t[t.Strict=0]="Strict",t[t.Loose=1]="Loose",t))(w1||{});function B3(t,r=0){var a;return t===((a=Io(t))==null?void 0:a.body)?!1:za(r,{0(){return t.matches(Bu)},1(){let s=t;for(;s!==null;){if(s.matches(Bu))return!0;s=s.parentElement}return!1}})}var $3=(t=>(t[t.Keyboard=0]="Keyboard",t[t.Mouse=1]="Mouse",t))($3||{});typeof window<"u"&&typeof document<"u"&&(document.addEventListener("keydown",t=>{t.metaKey||t.altKey||t.ctrlKey||(document.documentElement.dataset.headlessuiFocusVisible="")},!0),document.addEventListener("click",t=>{t.detail===1?delete document.documentElement.dataset.headlessuiFocusVisible:t.detail===0&&(document.documentElement.dataset.headlessuiFocusVisible="")},!0));function wa(t){t==null||t.focus({preventScroll:!0})}let H3=["textarea","input"].join(",");function P3(t){var r,a;return(a=(r=t==null?void 0:t.matches)==null?void 0:r.call(t,H3))!=null?a:!1}function q3(t,r=a=>a){return t.slice().sort((a,s)=>{let o=r(a),u=r(s);if(o===null||u===null)return 0;let d=o.compareDocumentPosition(u);return d&Node.DOCUMENT_POSITION_FOLLOWING?-1:d&Node.DOCUMENT_POSITION_PRECEDING?1:0})}function So(t,r,{sorted:a=!0,relativeTo:s=null,skipElements:o=[]}={}){let u=Array.isArray(t)?t.length>0?jm(t[0]):document:jm(t),d=Array.isArray(t)?a?q3(t):t:r&64?U3(t):F3(t);o.length>0&&d.length>1&&(d=d.filter(x=>!o.some(j=>j!=null&&"current"in j?(j==null?void 0:j.current)===x:j===x))),s=s!=null?s:u==null?void 0:u.activeElement;let f=(()=>{if(r&5)return 1;if(r&10)return-1;throw new Error("Missing Focus.First, Focus.Previous, Focus.Next or Focus.Last")})(),h=(()=>{if(r&1)return 0;if(r&2)return Math.max(0,d.indexOf(s))-1;if(r&4)return Math.max(0,d.indexOf(s))+1;if(r&8)return d.length-1;throw new Error("Missing Focus.First, Focus.Previous, Focus.Next or Focus.Last")})(),p=r&32?{preventScroll:!0}:{},v=0,y=d.length,w;do{if(v>=y||v+y<=0)return 0;let x=h+v;if(r&16)x=(x+y)%y;else{if(x<0)return 3;if(x>=y)return 1}w=d[x],w==null||w.focus(p),v+=f}while(w!==u1(w));return r&6&&P3(w)&&w.select(),2}function _1(){return/iPhone/gi.test(window.navigator.platform)||/Mac/gi.test(window.navigator.platform)&&window.navigator.maxTouchPoints>0}function I3(){return/Android/gi.test(window.navigator.userAgent)}function Zv(){return _1()||I3()}function fu(t,r,a,s){let o=ds(a);b.useEffect(()=>{if(!t)return;function u(d){o.current(d)}return document.addEventListener(r,u,s),()=>document.removeEventListener(r,u,s)},[t,r,s])}function S1(t,r,a,s){let o=ds(a);b.useEffect(()=>{if(!t)return;function u(d){o.current(d)}return window.addEventListener(r,u,s),()=>window.removeEventListener(r,u,s)},[t,r,s])}const Kv=30;function Y3(t,r,a){let s=ds(a),o=b.useCallback(function(f,h){if(f.defaultPrevented)return;let p=h(f);if(p===null||!p.getRootNode().contains(p)||!p.isConnected)return;let v=(function y(w){return typeof w=="function"?y(w()):Array.isArray(w)||w instanceof Set?w:[w]})(r);for(let y of v)if(y!==null&&(y.contains(p)||f.composed&&f.composedPath().includes(y)))return;return!B3(p,w1.Loose)&&p.tabIndex!==-1&&f.preventDefault(),s.current(f,p)},[s,r]),u=b.useRef(null);fu(t,"pointerdown",f=>{var h,p;Zv()||(u.current=((p=(h=f.composedPath)==null?void 0:h.call(f))==null?void 0:p[0])||f.target)},!0),fu(t,"pointerup",f=>{if(Zv()||!u.current)return;let h=u.current;return u.current=null,o(f,()=>h)},!0);let d=b.useRef({x:0,y:0});fu(t,"touchstart",f=>{d.current.x=f.touches[0].clientX,d.current.y=f.touches[0].clientY},!0),fu(t,"touchend",f=>{let h={x:f.changedTouches[0].clientX,y:f.changedTouches[0].clientY};if(!(Math.abs(h.x-d.current.x)>=Kv||Math.abs(h.y-d.current.y)>=Kv))return o(f,()=>mi(f.target)?f.target:null)},!0),S1(t,"blur",f=>o(f,()=>u3(window.document.activeElement)?window.document.activeElement:null),!0)}function s0(...t){return b.useMemo(()=>Io(...t),[...t])}function z1(t,r,a,s){let o=ds(a);b.useEffect(()=>{t=t!=null?t:window;function u(d){o.current(d)}return t.addEventListener(r,u,s),()=>t.removeEventListener(r,u,s)},[t,r,s])}function Q3(t){return b.useSyncExternalStore(t.subscribe,t.getSnapshot,t.getSnapshot)}function G3(t,r){let a=t(),s=new Set;return{getSnapshot(){return a},subscribe(o){return s.add(o),()=>s.delete(o)},dispatch(o,...u){let d=r[o].call(a,...u);d&&(a=d,s.forEach(f=>f()))}}}function Z3(){let t;return{before({doc:r}){var a;let s=r.documentElement,o=(a=r.defaultView)!=null?a:window;t=Math.max(0,o.innerWidth-s.clientWidth)},after({doc:r,d:a}){let s=r.documentElement,o=Math.max(0,s.clientWidth-s.offsetWidth),u=Math.max(0,t-o);a.style(s,"paddingRight",`${u}px`)}}}function K3(){return _1()?{before({doc:t,d:r,meta:a}){function s(o){for(let u of a().containers)for(let d of u())if(d.contains(o))return!0;return!1}r.microTask(()=>{var o;if(window.getComputedStyle(t.documentElement).scrollBehavior!=="auto"){let f=ja();f.style(t.documentElement,"scrollBehavior","auto"),r.add(()=>r.microTask(()=>f.dispose()))}let u=(o=window.scrollY)!=null?o:window.pageYOffset,d=null;r.addEventListener(t,"click",f=>{if(mi(f.target))try{let h=f.target.closest("a");if(!h)return;let{hash:p}=new URL(h.href),v=t.querySelector(p);mi(v)&&!s(v)&&(d=v)}catch{}},!0),r.group(f=>{r.addEventListener(t,"touchstart",h=>{if(f.dispose(),mi(h.target)&&c3(h.target))if(s(h.target)){let p=h.target;for(;p.parentElement&&s(p.parentElement);)p=p.parentElement;f.style(p,"overscrollBehavior","contain")}else f.style(h.target,"touchAction","none")})}),r.addEventListener(t,"touchmove",f=>{if(mi(f.target)){if(d3(f.target))return;if(s(f.target)){let h=f.target;for(;h.parentElement&&h.dataset.headlessuiPortal!==""&&!(h.scrollHeight>h.clientHeight||h.scrollWidth>h.clientWidth);)h=h.parentElement;h.dataset.headlessuiPortal===""&&f.preventDefault()}else f.preventDefault()}},{passive:!1}),r.add(()=>{var f;let h=(f=window.scrollY)!=null?f:window.pageYOffset;u!==h&&window.scrollTo(0,u),d&&d.isConnected&&(d.scrollIntoView({block:"nearest"}),d=null)})})}}:{}}function X3(){return{before({doc:t,d:r}){r.style(t.documentElement,"overflow","hidden")}}}function Xv(t){let r={};for(let a of t)Object.assign(r,a(r));return r}let Yi=G3(()=>new Map,{PUSH(t,r){var a;let s=(a=this.get(t))!=null?a:{doc:t,count:0,d:ja(),meta:new Set,computedMeta:{}};return s.count++,s.meta.add(r),s.computedMeta=Xv(s.meta),this.set(t,s),this},POP(t,r){let a=this.get(t);return a&&(a.count--,a.meta.delete(r),a.computedMeta=Xv(a.meta)),this},SCROLL_PREVENT(t){let r={doc:t.doc,d:t.d,meta(){return t.computedMeta}},a=[K3(),Z3(),X3()];a.forEach(({before:s})=>s==null?void 0:s(r)),a.forEach(({after:s})=>s==null?void 0:s(r))},SCROLL_ALLOW({d:t}){t.dispose()},TEARDOWN({doc:t}){this.delete(t)}});Yi.subscribe(()=>{let t=Yi.getSnapshot(),r=new Map;for(let[a]of t)r.set(a,a.documentElement.style.overflow);for(let a of t.values()){let s=r.get(a.doc)==="hidden",o=a.count!==0;(o&&!s||!o&&s)&&Yi.dispatch(a.count>0?"SCROLL_PREVENT":"SCROLL_ALLOW",a),a.count===0&&Yi.dispatch("TEARDOWN",a)}});function V3(t,r,a=()=>({containers:[]})){let s=Q3(Yi),o=r?s.get(r):void 0,u=o?o.count>0:!1;return Un(()=>{if(!(!r||!t))return Yi.dispatch("PUSH",r,a),()=>Yi.dispatch("POP",r,a)},[t,r]),u}function W3(t,r,a=()=>[document.body]){let s=Qo(t,"scroll-lock");V3(s,r,o=>{var u;return{containers:[...(u=o.containers)!=null?u:[],a]}})}function J3(t=0){let[r,a]=b.useState(t),s=b.useCallback(h=>a(h),[]),o=b.useCallback(h=>a(p=>p|h),[]),u=b.useCallback(h=>(r&h)===h,[r]),d=b.useCallback(h=>a(p=>p&~h),[]),f=b.useCallback(h=>a(p=>p^h),[]);return{flags:r,setFlag:s,addFlag:o,hasFlag:u,removeFlag:d,toggleFlag:f}}var ek={},Vv,Wv;typeof process<"u"&&typeof globalThis<"u"&&typeof Element<"u"&&((Vv=process==null?void 0:ek)==null?void 0:Vv.NODE_ENV)==="test"&&typeof((Wv=Element==null?void 0:Element.prototype)==null?void 0:Wv.getAnimations)>"u"&&(Element.prototype.getAnimations=function(){return console.warn(["Headless UI has polyfilled `Element.prototype.getAnimations` for your tests.","Please install a proper polyfill e.g. `jsdom-testing-mocks`, to silence these warnings.","","Example usage:","```js","import { mockAnimationsApi } from 'jsdom-testing-mocks'","mockAnimationsApi()","```"].join(`
`)),[]});var tk=(t=>(t[t.None=0]="None",t[t.Closed=1]="Closed",t[t.Enter=2]="Enter",t[t.Leave=4]="Leave",t))(tk||{});function nk(t){let r={};for(let a in t)t[a]===!0&&(r[`data-${a}`]="");return r}function rk(t,r,a,s){let[o,u]=b.useState(a),{hasFlag:d,addFlag:f,removeFlag:h}=J3(t&&o?3:0),p=b.useRef(!1),v=b.useRef(!1),y=id();return Un(()=>{var w;if(t){if(a&&u(!0),!r){a&&f(3);return}return(w=s==null?void 0:s.start)==null||w.call(s,a),ak(r,{inFlight:p,prepare(){v.current?v.current=!1:v.current=p.current,p.current=!0,!v.current&&(a?(f(3),h(4)):(f(4),h(2)))},run(){v.current?a?(h(3),f(4)):(h(4),f(3)):a?h(1):f(1)},done(){var x;v.current&&lk(r)||(p.current=!1,h(7),a||u(!1),(x=s==null?void 0:s.end)==null||x.call(s,a))}})}},[t,a,r,y]),t?[o,{closed:d(1),enter:d(2),leave:d(4),transition:d(2)||d(4)}]:[a,{closed:void 0,enter:void 0,leave:void 0,transition:void 0}]}function ak(t,{prepare:r,run:a,done:s,inFlight:o}){let u=ja();return sk(t,{prepare:r,inFlight:o}),u.nextFrame(()=>{a(),u.requestAnimationFrame(()=>{u.add(ik(t,s))})}),u.dispose}function ik(t,r){var a,s;let o=ja();if(!t)return o.dispose;let u=!1;o.add(()=>{u=!0});let d=(s=(a=t.getAnimations)==null?void 0:a.call(t).filter(f=>f instanceof CSSTransition))!=null?s:[];return d.length===0?(r(),o.dispose):(Promise.allSettled(d.map(f=>f.finished)).then(()=>{u||r()}),o.dispose)}function sk(t,{inFlight:r,prepare:a}){if(r!=null&&r.current){a();return}let s=t.style.transition;t.style.transition="none",a(),t.offsetHeight,t.style.transition=s}function lk(t){var r,a;return((a=(r=t.getAnimations)==null?void 0:r.call(t))!=null?a:[]).some(s=>s instanceof CSSTransition&&s.playState!=="finished")}function l0(t,r){let a=b.useRef([]),s=Ot(t);b.useEffect(()=>{let o=[...a.current];for(let[u,d]of r.entries())if(a.current[u]!==d){let f=s(r,o);return a.current=r,f}},[s,...r])}let sd=b.createContext(null);sd.displayName="OpenClosedContext";var vr=(t=>(t[t.Open=1]="Open",t[t.Closed=2]="Closed",t[t.Closing=4]="Closing",t[t.Opening=8]="Opening",t))(vr||{});function ld(){return b.useContext(sd)}function ok({value:t,children:r}){return nt.createElement(sd.Provider,{value:t},r)}function ck({children:t}){return nt.createElement(sd.Provider,{value:null},t)}function uk(t){function r(){document.readyState!=="loading"&&(t(),document.removeEventListener("DOMContentLoaded",r))}typeof window<"u"&&typeof document<"u"&&(document.addEventListener("DOMContentLoaded",r),r())}let ni=[];uk(()=>{function t(r){if(!mi(r.target)||r.target===document.body||ni[0]===r.target)return;let a=r.target;a=a.closest(Bu),ni.unshift(a!=null?a:r.target),ni=ni.filter(s=>s!=null&&s.isConnected),ni.splice(10)}window.addEventListener("click",t,{capture:!0}),window.addEventListener("mousedown",t,{capture:!0}),window.addEventListener("focus",t,{capture:!0}),document.body.addEventListener("click",t,{capture:!0}),document.body.addEventListener("mousedown",t,{capture:!0}),document.body.addEventListener("focus",t,{capture:!0})});function k1(t){let r=Ot(t),a=b.useRef(!1);b.useEffect(()=>(a.current=!1,()=>{a.current=!0,ad(()=>{a.current&&r()})}),[r])}let E1=b.createContext(!1);function dk(){return b.useContext(E1)}function Jv(t){return nt.createElement(E1.Provider,{value:t.force},t.children)}function fk(t){let r=dk(),a=b.useContext(N1),[s,o]=b.useState(()=>{var u;if(!r&&a!==null)return(u=a.current)!=null?u:null;if(Or.isServer)return null;let d=t==null?void 0:t.getElementById("headlessui-portal-root");if(d)return d;if(t===null)return null;let f=t.createElement("div");return f.setAttribute("id","headlessui-portal-root"),t.body.appendChild(f)});return b.useEffect(()=>{s!==null&&(t!=null&&t.body.contains(s)||t==null||t.body.appendChild(s))},[s,t]),b.useEffect(()=>{r||a!==null&&o(a.current)},[a,o,r]),s}let j1=b.Fragment,hk=Bn(function(t,r){let{ownerDocument:a=null,...s}=t,o=b.useRef(null),u=Fr(f3(w=>{o.current=w}),r),d=s0(o.current),f=a!=null?a:d,h=fk(f),p=b.useContext(Mm),v=id(),y=cr();return k1(()=>{var w;h&&h.childNodes.length<=0&&((w=h.parentElement)==null||w.removeChild(h))}),h?uS.createPortal(nt.createElement("div",{"data-headlessui-portal":"",ref:w=>{v.dispose(),p&&w&&v.add(p.register(w))}},y({ourProps:{ref:u},theirProps:s,slot:{},defaultTag:j1,name:"Portal"})),h):null});function mk(t,r){let a=Fr(r),{enabled:s=!0,ownerDocument:o,...u}=t,d=cr();return s?nt.createElement(hk,{...u,ownerDocument:o,ref:a}):d({ourProps:{ref:a},theirProps:u,slot:{},defaultTag:j1,name:"Portal"})}let pk=b.Fragment,N1=b.createContext(null);function gk(t,r){let{target:a,...s}=t,o={ref:Fr(r)},u=cr();return nt.createElement(N1.Provider,{value:a},u({ourProps:o,theirProps:s,defaultTag:pk,name:"Popover.Group"}))}let Mm=b.createContext(null);function bk(){let t=b.useContext(Mm),r=b.useRef([]),a=Ot(u=>(r.current.push(u),t&&t.register(u),()=>s(u))),s=Ot(u=>{let d=r.current.indexOf(u);d!==-1&&r.current.splice(d,1),t&&t.unregister(u)}),o=b.useMemo(()=>({register:a,unregister:s,portals:r}),[a,s,r]);return[r,b.useMemo(()=>function({children:u}){return nt.createElement(Mm.Provider,{value:o},u)},[o])]}let vk=Bn(mk),C1=Bn(gk),yk=Object.assign(vk,{Group:C1});function xk(t,r=typeof document<"u"?document.defaultView:null,a){let s=Qo(t,"escape");z1(r,"keydown",o=>{s&&(o.defaultPrevented||o.key===m1.Escape&&a(o))})}function wk(){var t;let[r]=b.useState(()=>typeof window<"u"&&typeof window.matchMedia=="function"?window.matchMedia("(pointer: coarse)"):null),[a,s]=b.useState((t=r==null?void 0:r.matches)!=null?t:!1);return Un(()=>{if(!r)return;function o(u){s(u.matches)}return r.addEventListener("change",o),()=>r.removeEventListener("change",o)},[r]),a}function _k({defaultContainers:t=[],portals:r,mainTreeNode:a}={}){let s=Ot(()=>{var o,u;let d=Io(a),f=[];for(let h of t)h!==null&&(vi(h)?f.push(h):"current"in h&&vi(h.current)&&f.push(h.current));if(r!=null&&r.current)for(let h of r.current)f.push(h);for(let h of(o=d==null?void 0:d.querySelectorAll("html > *, body > *"))!=null?o:[])h!==document.body&&h!==document.head&&vi(h)&&h.id!=="headlessui-portal-root"&&(a&&(h.contains(a)||h.contains((u=a==null?void 0:a.getRootNode())==null?void 0:u.host))||f.some(p=>h.contains(p))||f.push(h));return f});return{resolveContainers:s,contains:Ot(o=>s().some(u=>u.contains(o)))}}let A1=b.createContext(null);function ey({children:t,node:r}){let[a,s]=b.useState(null),o=T1(r!=null?r:a);return nt.createElement(A1.Provider,{value:o},t,o===null&&nt.createElement(Cm,{features:Uu.Hidden,ref:u=>{var d,f;if(u){for(let h of(f=(d=Io(u))==null?void 0:d.querySelectorAll("html > *, body > *"))!=null?f:[])if(h!==document.body&&h!==document.head&&vi(h)&&h!=null&&h.contains(u)){s(h);break}}}}))}function T1(t=null){var r;return(r=b.useContext(A1))!=null?r:t}function Sk(){let t=typeof document>"u";return"useSyncExternalStore"in bv?(r=>r.useSyncExternalStore)(bv)(()=>()=>{},()=>!1,()=>!t):!1}function od(){let t=Sk(),[r,a]=b.useState(Or.isHandoffComplete);return r&&Or.isHandoffComplete===!1&&a(!1),b.useEffect(()=>{r!==!0&&a(!0)},[r]),b.useEffect(()=>Or.handoff(),[]),t?!1:r}function o0(){let t=b.useRef(!1);return Un(()=>(t.current=!0,()=>{t.current=!1}),[]),t}var bo=(t=>(t[t.Forwards=0]="Forwards",t[t.Backwards=1]="Backwards",t))(bo||{});function zk(){let t=b.useRef(0);return S1(!0,"keydown",r=>{r.key==="Tab"&&(t.current=r.shiftKey?1:0)},!0),t}function M1(t){if(!t)return new Set;if(typeof t=="function")return new Set(t());let r=new Set;for(let a of t.current)vi(a.current)&&r.add(a.current);return r}let kk="div";var Hi=(t=>(t[t.None=0]="None",t[t.InitialFocus=1]="InitialFocus",t[t.TabLock=2]="TabLock",t[t.FocusLock=4]="FocusLock",t[t.RestoreFocus=8]="RestoreFocus",t[t.AutoFocus=16]="AutoFocus",t))(Hi||{});function Ek(t,r){let a=b.useRef(null),s=Fr(a,r),{initialFocus:o,initialFocusFallback:u,containers:d,features:f=15,...h}=t;od()||(f=0);let p=s0(a.current);Ak(f,{ownerDocument:p});let v=Tk(f,{ownerDocument:p,container:a,initialFocus:o,initialFocusFallback:u});Mk(f,{ownerDocument:p,container:a,containers:d,previousActiveElement:v});let y=zk(),w=Ot(C=>{if(!ss(a.current))return;let M=a.current;(A=>A())(()=>{za(y.current,{[bo.Forwards]:()=>{So(M,ba.First,{skipElements:[C.relatedTarget,u]})},[bo.Backwards]:()=>{So(M,ba.Last,{skipElements:[C.relatedTarget,u]})}})})}),x=Qo(!!(f&2),"focus-trap#tab-lock"),j=id(),_=b.useRef(!1),z={ref:s,onKeyDown(C){C.key=="Tab"&&(_.current=!0,j.requestAnimationFrame(()=>{_.current=!1}))},onBlur(C){if(!(f&4))return;let M=M1(d);ss(a.current)&&M.add(a.current);let A=C.relatedTarget;mi(A)&&A.dataset.headlessuiFocusGuard!=="true"&&(R1(M,A)||(_.current?So(a.current,za(y.current,{[bo.Forwards]:()=>ba.Next,[bo.Backwards]:()=>ba.Previous})|ba.WrapAround,{relativeTo:C.target}):mi(C.target)&&wa(C.target)))}},k=cr();return nt.createElement(nt.Fragment,null,x&&nt.createElement(Cm,{as:"button",type:"button","data-headlessui-focus-guard":!0,onFocus:w,features:Uu.Focusable}),k({ourProps:z,theirProps:h,defaultTag:kk,name:"FocusTrap"}),x&&nt.createElement(Cm,{as:"button",type:"button","data-headlessui-focus-guard":!0,onFocus:w,features:Uu.Focusable}))}let jk=Bn(Ek),Nk=Object.assign(jk,{features:Hi});function Ck(t=!0){let r=b.useRef(ni.slice());return l0(([a],[s])=>{s===!0&&a===!1&&ad(()=>{r.current.splice(0)}),s===!1&&a===!0&&(r.current=ni.slice())},[t,ni,r]),Ot(()=>{var a;return(a=r.current.find(s=>s!=null&&s.isConnected))!=null?a:null})}function Ak(t,{ownerDocument:r}){let a=!!(t&8),s=Ck(a);l0(()=>{a||Wz(r==null?void 0:r.body)&&wa(s())},[a]),k1(()=>{a&&wa(s())})}function Tk(t,{ownerDocument:r,container:a,initialFocus:s,initialFocusFallback:o}){let u=b.useRef(null),d=Qo(!!(t&1),"focus-trap#initial-focus"),f=o0();return l0(()=>{if(t===0)return;if(!d){o!=null&&o.current&&wa(o.current);return}let h=a.current;h&&ad(()=>{if(!f.current)return;let p=r==null?void 0:r.activeElement;if(s!=null&&s.current){if((s==null?void 0:s.current)===p){u.current=p;return}}else if(h.contains(p)){u.current=p;return}if(s!=null&&s.current)wa(s.current);else{if(t&16){if(So(h,ba.First|ba.AutoFocus)!==Tm.Error)return}else if(So(h,ba.First)!==Tm.Error)return;if(o!=null&&o.current&&(wa(o.current),(r==null?void 0:r.activeElement)===o.current))return;console.warn("There are no focusable elements inside the <FocusTrap />")}u.current=r==null?void 0:r.activeElement})},[o,d,t]),u}function Mk(t,{ownerDocument:r,container:a,containers:s,previousActiveElement:o}){let u=o0(),d=!!(t&4);z1(r==null?void 0:r.defaultView,"focus",f=>{if(!d||!u.current)return;let h=M1(s);ss(a.current)&&h.add(a.current);let p=o.current;if(!p)return;let v=f.target;ss(v)?R1(h,v)?(o.current=v,wa(v)):(f.preventDefault(),f.stopPropagation(),wa(p)):wa(o.current)},!0)}function R1(t,r){for(let a of t)if(a.contains(r))return!0;return!1}function O1(t){var r;return!!(t.enter||t.enterFrom||t.enterTo||t.leave||t.leaveFrom||t.leaveTo)||!wo((r=t.as)!=null?r:L1)||nt.Children.count(t.children)===1}let cd=b.createContext(null);cd.displayName="TransitionContext";var Rk=(t=>(t.Visible="visible",t.Hidden="hidden",t))(Rk||{});function Ok(){let t=b.useContext(cd);if(t===null)throw new Error("A <Transition.Child /> is used but it is missing a parent <Transition /> or <Transition.Root />.");return t}function Dk(){let t=b.useContext(ud);if(t===null)throw new Error("A <Transition.Child /> is used but it is missing a parent <Transition /> or <Transition.Root />.");return t}let ud=b.createContext(null);ud.displayName="NestingContext";function dd(t){return"children"in t?dd(t.children):t.current.filter(({el:r})=>r.current!==null).filter(({state:r})=>r==="visible").length>0}function D1(t,r){let a=ds(t),s=b.useRef([]),o=o0(),u=id(),d=Ot((x,j=hi.Hidden)=>{let _=s.current.findIndex(({el:z})=>z===x);_!==-1&&(za(j,{[hi.Unmount](){s.current.splice(_,1)},[hi.Hidden](){s.current[_].state="hidden"}}),u.microTask(()=>{var z;!dd(s)&&o.current&&((z=a.current)==null||z.call(a))}))}),f=Ot(x=>{let j=s.current.find(({el:_})=>_===x);return j?j.state!=="visible"&&(j.state="visible"):s.current.push({el:x,state:"visible"}),()=>d(x,hi.Unmount)}),h=b.useRef([]),p=b.useRef(Promise.resolve()),v=b.useRef({enter:[],leave:[]}),y=Ot((x,j,_)=>{h.current.splice(0),r&&(r.chains.current[j]=r.chains.current[j].filter(([z])=>z!==x)),r==null||r.chains.current[j].push([x,new Promise(z=>{h.current.push(z)})]),r==null||r.chains.current[j].push([x,new Promise(z=>{Promise.all(v.current[j].map(([k,C])=>C)).then(()=>z())})]),j==="enter"?p.current=p.current.then(()=>r==null?void 0:r.wait.current).then(()=>_(j)):_(j)}),w=Ot((x,j,_)=>{Promise.all(v.current[j].splice(0).map(([z,k])=>k)).then(()=>{var z;(z=h.current.shift())==null||z()}).then(()=>_(j))});return b.useMemo(()=>({children:s,register:f,unregister:d,onStart:y,onStop:w,wait:p,chains:v}),[f,d,s,y,w,v,p])}let L1=b.Fragment,F1=Fu.RenderStrategy;function Lk(t,r){var a,s;let{transition:o=!0,beforeEnter:u,afterEnter:d,beforeLeave:f,afterLeave:h,enter:p,enterFrom:v,enterTo:y,entered:w,leave:x,leaveFrom:j,leaveTo:_,...z}=t,[k,C]=b.useState(null),M=b.useRef(null),A=O1(t),O=Fr(...A?[M,r,C]:r===null?[]:[r]),Q=(a=z.unmount)==null||a?hi.Unmount:hi.Hidden,{show:B,appear:Z,initial:P}=Ok(),[D,G]=b.useState(B?"visible":"hidden"),T=Dk(),{register:U,unregister:S}=T;Un(()=>U(M),[U,M]),Un(()=>{if(Q===hi.Hidden&&M.current){if(B&&D!=="visible"){G("visible");return}return za(D,{hidden:()=>S(M),visible:()=>U(M)})}},[D,M,U,S,B,Q]);let W=od();Un(()=>{if(A&&W&&D==="visible"&&M.current===null)throw new Error("Did you forget to passthrough the `ref` to the actual DOM node?")},[M,D,W,A]);let K=P&&!Z,I=Z&&B&&P,se=b.useRef(!1),J=D1(()=>{se.current||(G("hidden"),S(M))},T),be=Ot(re=>{se.current=!0;let je=re?"enter":"leave";J.onStart(M,je,de=>{de==="enter"?u==null||u():de==="leave"&&(f==null||f())})}),R=Ot(re=>{let je=re?"enter":"leave";se.current=!1,J.onStop(M,je,de=>{de==="enter"?d==null||d():de==="leave"&&(h==null||h())}),je==="leave"&&!dd(J)&&(G("hidden"),S(M))});b.useEffect(()=>{A&&o||(be(B),R(B))},[B,A,o]);let F=!(!o||!A||!W||K),[,ee]=rk(F,k,B,{start:be,end:R}),ie=$i({ref:O,className:((s=Nm(z.className,I&&p,I&&v,ee.enter&&p,ee.enter&&ee.closed&&v,ee.enter&&!ee.closed&&y,ee.leave&&x,ee.leave&&!ee.closed&&j,ee.leave&&ee.closed&&_,!ee.transition&&B&&w))==null?void 0:s.trim())||void 0,...nk(ee)}),ue=0;D==="visible"&&(ue|=vr.Open),D==="hidden"&&(ue|=vr.Closed),B&&D==="hidden"&&(ue|=vr.Opening),!B&&D==="visible"&&(ue|=vr.Closing);let Me=cr();return nt.createElement(ud.Provider,{value:J},nt.createElement(ok,{value:ue},Me({ourProps:ie,theirProps:z,defaultTag:L1,features:F1,visible:D==="visible",name:"Transition.Child"})))}function Fk(t,r){let{show:a,appear:s=!1,unmount:o=!0,...u}=t,d=b.useRef(null),f=O1(t),h=Fr(...f?[d,r]:r===null?[]:[r]);od();let p=ld();if(a===void 0&&p!==null&&(a=(p&vr.Open)===vr.Open),a===void 0)throw new Error("A <Transition /> is used but it is missing a `show={true | false}` prop.");let[v,y]=b.useState(a?"visible":"hidden"),w=D1(()=>{a||y("hidden")}),[x,j]=b.useState(!0),_=b.useRef([a]);Un(()=>{x!==!1&&_.current[_.current.length-1]!==a&&(_.current.push(a),j(!1))},[_,a]);let z=b.useMemo(()=>({show:a,appear:s,initial:x}),[a,s,x]);Un(()=>{a?y("visible"):!dd(w)&&d.current!==null&&y("hidden")},[a,w]);let k={unmount:o},C=Ot(()=>{var O;x&&j(!1),(O=t.beforeEnter)==null||O.call(t)}),M=Ot(()=>{var O;x&&j(!1),(O=t.beforeLeave)==null||O.call(t)}),A=cr();return nt.createElement(ud.Provider,{value:w},nt.createElement(cd.Provider,{value:z},A({ourProps:{...k,as:b.Fragment,children:nt.createElement(U1,{ref:h,...k,...u,beforeEnter:C,beforeLeave:M})},theirProps:{},defaultTag:b.Fragment,features:F1,visible:v==="visible",name:"Transition"})))}function Uk(t,r){let a=b.useContext(cd)!==null,s=ld()!==null;return nt.createElement(nt.Fragment,null,!a&&s?nt.createElement(Rm,{ref:r,...t}):nt.createElement(U1,{ref:r,...t}))}let Rm=Bn(Fk),U1=Bn(Lk),c0=Bn(Uk),ns=Object.assign(Rm,{Child:c0,Root:Rm});var Bk=(t=>(t[t.Open=0]="Open",t[t.Closed=1]="Closed",t))(Bk||{}),$k=(t=>(t[t.SetTitleId=0]="SetTitleId",t))($k||{});let Hk={0(t,r){return t.titleId===r.id?t:{...t,titleId:r.id}}},u0=b.createContext(null);u0.displayName="DialogContext";function fd(t){let r=b.useContext(u0);if(r===null){let a=new Error(`<${t} /> is missing a parent <Dialog /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(a,fd),a}return r}function Pk(t,r){return za(r.type,Hk,t,r)}let ty=Bn(function(t,r){let a=b.useId(),{id:s=`headlessui-dialog-${a}`,open:o,onClose:u,initialFocus:d,role:f="dialog",autoFocus:h=!0,__demoMode:p=!1,unmount:v=!1,...y}=t,w=b.useRef(!1);f=(function(){return f==="dialog"||f==="alertdialog"?f:(w.current||(w.current=!0,console.warn(`Invalid role [${f}] passed to <Dialog />. Only \`dialog\` and and \`alertdialog\` are supported. Using \`dialog\` instead.`)),"dialog")})();let x=ld();o===void 0&&x!==null&&(o=(x&vr.Open)===vr.Open);let j=b.useRef(null),_=Fr(j,r),z=s0(j.current),k=o?0:1,[C,M]=b.useReducer(Pk,{titleId:null,descriptionId:null,panelRef:b.createRef()}),A=Ot(()=>u(!1)),O=Ot(ee=>M({type:0,id:ee})),Q=od()?k===0:!1,[B,Z]=bk(),P={get current(){var ee;return(ee=C.panelRef.current)!=null?ee:j.current}},D=T1(),{resolveContainers:G}=_k({mainTreeNode:D,portals:B,defaultContainers:[P]}),T=x!==null?(x&vr.Closing)===vr.Closing:!1;R3(p||T?!1:Q,{allowed:Ot(()=>{var ee,ie;return[(ie=(ee=j.current)==null?void 0:ee.closest("[data-headlessui-portal]"))!=null?ie:null]}),disallowed:Ot(()=>{var ee;return[(ee=D==null?void 0:D.closest("body > *:not(#headlessui-portal-root)"))!=null?ee:null]})});let U=y1.get(null);Un(()=>{if(Q)return U.actions.push(s),()=>U.actions.pop(s)},[U,s,Q]);let S=x1(U,b.useCallback(ee=>U.selectors.isTop(ee,s),[U,s]));Y3(S,G,ee=>{ee.preventDefault(),A()}),xk(S,z==null?void 0:z.defaultView,ee=>{ee.preventDefault(),ee.stopPropagation(),document.activeElement&&"blur"in document.activeElement&&typeof document.activeElement.blur=="function"&&document.activeElement.blur(),A()}),W3(p||T?!1:Q,z,G),O3(Q,j,A);let[W,K]=h3(),I=b.useMemo(()=>[{dialogState:k,close:A,setTitleId:O,unmount:v},C],[k,A,O,v,C]),se=Yo({open:k===0}),J={ref:_,id:s,role:f,tabIndex:-1,"aria-modal":p?void 0:k===0?!0:void 0,"aria-labelledby":C.titleId,"aria-describedby":W,unmount:v},be=!wk(),R=Hi.None;Q&&!p&&(R|=Hi.RestoreFocus,R|=Hi.TabLock,h&&(R|=Hi.AutoFocus),be&&(R|=Hi.InitialFocus));let F=cr();return nt.createElement(ck,null,nt.createElement(Jv,{force:!0},nt.createElement(yk,null,nt.createElement(u0.Provider,{value:I},nt.createElement(C1,{target:j},nt.createElement(Jv,{force:!1},nt.createElement(K,{slot:se},nt.createElement(Z,null,nt.createElement(Nk,{initialFocus:d,initialFocusFallback:j,containers:G,features:R},nt.createElement(y3,{value:A},F({ourProps:J,theirProps:y,slot:se,defaultTag:qk,features:Ik,visible:k===0,name:"Dialog"})))))))))))}),qk="div",Ik=Fu.RenderStrategy|Fu.Static;function Yk(t,r){let{transition:a=!1,open:s,...o}=t,u=ld(),d=t.hasOwnProperty("open")||u!==null,f=t.hasOwnProperty("onClose");if(!d&&!f)throw new Error("You have to provide an `open` and an `onClose` prop to the `Dialog` component.");if(!d)throw new Error("You provided an `onClose` prop to the `Dialog`, but forgot an `open` prop.");if(!f)throw new Error("You provided an `open` prop to the `Dialog`, but forgot an `onClose` prop.");if(!u&&typeof t.open!="boolean")throw new Error(`You provided an \`open\` prop to the \`Dialog\`, but the value is not a boolean. Received: ${t.open}`);if(typeof t.onClose!="function")throw new Error(`You provided an \`onClose\` prop to the \`Dialog\`, but the value is not a function. Received: ${t.onClose}`);return(s!==void 0||a)&&!o.static?nt.createElement(ey,null,nt.createElement(ns,{show:s,transition:a,unmount:o.unmount},nt.createElement(ty,{ref:r,...o}))):nt.createElement(ey,null,nt.createElement(ty,{ref:r,open:s,...o}))}let Qk="div";function Gk(t,r){let a=b.useId(),{id:s=`headlessui-dialog-panel-${a}`,transition:o=!1,...u}=t,[{dialogState:d,unmount:f},h]=fd("Dialog.Panel"),p=Fr(r,h.panelRef),v=Yo({open:d===0}),y=Ot(z=>{z.stopPropagation()}),w={ref:p,id:s,onClick:y},x=o?c0:b.Fragment,j=o?{unmount:f}:{},_=cr();return nt.createElement(x,{...j},_({ourProps:w,theirProps:u,slot:v,defaultTag:Qk,name:"Dialog.Panel"}))}let Zk="div";function Kk(t,r){let{transition:a=!1,...s}=t,[{dialogState:o,unmount:u}]=fd("Dialog.Backdrop"),d=Yo({open:o===0}),f={ref:r,"aria-hidden":!0},h=a?c0:b.Fragment,p=a?{unmount:u}:{},v=cr();return nt.createElement(h,{...p},v({ourProps:f,theirProps:s,slot:d,defaultTag:Zk,name:"Dialog.Backdrop"}))}let Xk="h2";function Vk(t,r){let a=b.useId(),{id:s=`headlessui-dialog-title-${a}`,...o}=t,[{dialogState:u,setTitleId:d}]=fd("Dialog.Title"),f=Fr(r);b.useEffect(()=>(d(s),()=>d(null)),[s,d]);let h=Yo({open:u===0}),p={ref:f,id:s};return cr()({ourProps:p,theirProps:o,slot:h,defaultTag:Xk,name:"Dialog.Title"})}let Wk=Bn(Yk),Jk=Bn(Gk);Bn(Kk);let e4=Bn(Vk),Zs=Object.assign(Wk,{Panel:Jk,Title:e4,Description:b3});const ny=t=>{let r;const a=new Set,s=(p,v)=>{const y=typeof p=="function"?p(r):p;if(!Object.is(y,r)){const w=r;r=(v!=null?v:typeof y!="object"||y===null)?y:Object.assign({},r,y),a.forEach(x=>x(r,w))}},o=()=>r,f={setState:s,getState:o,getInitialState:()=>h,subscribe:p=>(a.add(p),()=>a.delete(p))},h=r=t(s,o,f);return f},t4=(t=>t?ny(t):ny),n4=t=>t;function r4(t,r=n4){const a=nt.useSyncExternalStore(t.subscribe,nt.useCallback(()=>r(t.getState()),[t,r]),nt.useCallback(()=>r(t.getInitialState()),[t,r]));return nt.useDebugValue(a),a}const ry=t=>{const r=t4(t),a=s=>r4(r,s);return Object.assign(a,r),a},a4=(t=>t?ry(t):ry),ay="nazr.theme",iy="nazr.gridSize",sy="nazr.showDeleteConfirmation",ly="nazr.defaultScreen",oy="nazr.dashboardFontFamily",cy="nazr.dashboardFontSize",uy="nazr.yearsMonthsFontFamily",dy="nazr.yearsMonthsFontSize",fy="nazr.albumHeadingFontFamily",hy="nazr.albumHeadingFontSize",my="nazr.playbackSpeed",$h="nazr.prioritizeFolderStructure",Hh="nazr.prioritizeFilenameDate",py="nazr.deleteOriginalFiles",gy="nazr.smartMergeMode",by="nazr.showAlbumTags",vy="nazr.albumTagFontColor",yy="nazr.albumTagBackgroundColor";let Bi=null;function i4(){return typeof window>"u"?"light":window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"}function xy(t){if(typeof window>"u")return;const r=document.documentElement;r.classList.remove("dark"),t==="system"?i4()==="dark"&&r.classList.add("dark"):t==="dark"&&r.classList.add("dark")}const Qe=a4((t,r)=>{const a=localStorage.getItem(ay)||"system";return typeof window<"u"&&(xy(a),a==="system"&&(Bi=s=>{if(r().theme==="system"){const u=document.documentElement;s.matches?u.classList.add("dark"):u.classList.remove("dark")}},window.matchMedia("(prefers-color-scheme: dark)").addEventListener("change",Bi))),{gridSize:Number(localStorage.getItem(iy)||200),setGridSize:s=>{localStorage.setItem(iy,String(s)),t({gridSize:s})},theme:a,setTheme:s=>{localStorage.setItem(ay,s),xy(s),t({theme:s}),typeof window<"u"&&(Bi&&window.matchMedia("(prefers-color-scheme: dark)").removeEventListener("change",Bi),s==="system"?(Bi=o=>{const u=document.documentElement;o.matches?u.classList.add("dark"):u.classList.remove("dark")},window.matchMedia("(prefers-color-scheme: dark)").addEventListener("change",Bi)):Bi=null)},showDeleteConfirmation:localStorage.getItem(sy)!=="false",setShowDeleteConfirmation:s=>{localStorage.setItem(sy,String(s)),t({showDeleteConfirmation:s})},defaultScreen:localStorage.getItem(ly)||"dashboard",setDefaultScreen:s=>{localStorage.setItem(ly,s),t({defaultScreen:s})},dashboardFontFamily:localStorage.getItem(oy)||"system",setDashboardFontFamily:s=>{localStorage.setItem(oy,s),t({dashboardFontFamily:s})},dashboardFontSize:localStorage.getItem(cy)||"base",setDashboardFontSize:s=>{localStorage.setItem(cy,s),t({dashboardFontSize:s})},yearsMonthsFontFamily:localStorage.getItem(uy)||"system",setYearsMonthsFontFamily:s=>{localStorage.setItem(uy,s),t({yearsMonthsFontFamily:s})},yearsMonthsFontSize:localStorage.getItem(dy)||"base",setYearsMonthsFontSize:s=>{localStorage.setItem(dy,s),t({yearsMonthsFontSize:s})},albumHeadingFontFamily:localStorage.getItem(fy)||"yellowtail",setAlbumHeadingFontFamily:s=>{localStorage.setItem(fy,s),t({albumHeadingFontFamily:s})},albumHeadingFontSize:localStorage.getItem(hy)||"base",setAlbumHeadingFontSize:s=>{localStorage.setItem(hy,s),t({albumHeadingFontSize:s})},playbackSpeed:Number(localStorage.getItem(my)||1),setPlaybackSpeed:s=>{localStorage.setItem(my,String(s)),t({playbackSpeed:s})},prioritizeFolderStructure:localStorage.getItem($h)!==null?localStorage.getItem($h)==="true":!0,setPrioritizeFolderStructure:s=>{localStorage.setItem($h,String(s)),t({prioritizeFolderStructure:s})},prioritizeFilenameDate:localStorage.getItem(Hh)!==null?localStorage.getItem(Hh)==="true":!0,setPrioritizeFilenameDate:s=>{localStorage.setItem(Hh,String(s)),t({prioritizeFilenameDate:s})},deleteOriginalFiles:localStorage.getItem(py)==="true",setDeleteOriginalFiles:s=>{localStorage.setItem(py,String(s)),t({deleteOriginalFiles:s})},smartMergeLevel:Number(localStorage.getItem(gy)||4),setSmartMergeLevel:s=>{const o=Math.max(1,Math.min(5,s));localStorage.setItem(gy,String(o)),t({smartMergeLevel:o})},isFetching:!1,setIsFetching:s=>{t({isFetching:s})},showAlbumTags:localStorage.getItem(by)==="true",setShowAlbumTags:s=>{localStorage.setItem(by,String(s)),t({showAlbumTags:s})},albumTagFontColor:localStorage.getItem(vy)||"#ffffff",setAlbumTagFontColor:s=>{localStorage.setItem(vy,s),t({albumTagFontColor:s})},albumTagBackgroundColor:localStorage.getItem(yy)||"#000000b3",setAlbumTagBackgroundColor:s=>{localStorage.setItem(yy,s),t({albumTagBackgroundColor:s})}}});function ls({isOpen:t,onClose:r,onConfirm:a,title:s,message:o,confirmText:u="Confirm",cancelText:d="Cancel",variant:f="default",preventAutoClose:h=!1}){const p=b.useRef(null),v=()=>{a(),h||r()};return b.useEffect(()=>{if(t&&p.current){const y=requestAnimationFrame(()=>{requestAnimationFrame(()=>{var w;(w=p.current)==null||w.focus()})});return()=>cancelAnimationFrame(y)}},[t]),c.jsx(ns,{show:t,as:b.Fragment,children:c.jsxs(Zs,{as:"div",className:"relative z-50",onClose:r,initialFocus:p,children:[c.jsx(ns.Child,{as:b.Fragment,enter:"ease-out duration-300",enterFrom:"opacity-0",enterTo:"opacity-100",leave:"ease-in duration-200",leaveFrom:"opacity-100",leaveTo:"opacity-0",children:c.jsx("div",{className:"fixed inset-0 bg-black/30 dark:bg-black/50"})}),c.jsx("div",{className:"fixed inset-0 overflow-y-auto",children:c.jsx("div",{className:"flex min-h-full items-center justify-center p-4",children:c.jsx(ns.Child,{as:b.Fragment,enter:"ease-out duration-300",enterFrom:"opacity-0 scale-95",enterTo:"opacity-100 scale-100",leave:"ease-in duration-200",leaveFrom:"opacity-100 scale-100",leaveTo:"opacity-0 scale-95",children:c.jsx(Zs.Panel,{className:"w-full max-w-md transform overflow-hidden rounded-lg bg-white dark:bg-zinc-900 border border-zinc-200 dark:border-zinc-800 shadow-xl transition-all",children:c.jsxs("div",{className:"p-6",children:[c.jsxs("div",{className:"flex items-start gap-4",children:[f==="danger"&&c.jsx("div",{className:"flex-shrink-0",children:c.jsx(vz,{className:"h-6 w-6 text-red-600 dark:text-red-400"})}),c.jsxs("div",{className:"flex-1",children:[c.jsx(Zs.Title,{className:"text-lg font-semibold text-zinc-900 dark:text-zinc-100 mb-2",children:s}),c.jsx("p",{className:"text-sm text-zinc-600 dark:text-zinc-400",children:o})]})]}),c.jsxs("div",{className:"mt-6 flex justify-end gap-3",children:[c.jsx("button",{onClick:r,className:"px-4 py-2 text-sm font-medium text-zinc-700 dark:text-zinc-300 bg-zinc-100 dark:bg-zinc-800 hover:bg-zinc-200 dark:hover:bg-zinc-700 rounded-md transition-colors",children:d}),c.jsx("button",{ref:p,onClick:v,tabIndex:0,className:`px-4 py-2 text-sm font-medium text-white rounded-md transition-colors focus:outline-none focus:ring-2 focus:ring-offset-2 ${f==="danger"?"bg-red-600 hover:bg-red-700 dark:bg-red-500 dark:hover:bg-red-600 focus:ring-red-500":"bg-blue-600 hover:bg-blue-700 dark:bg-blue-500 dark:hover:bg-blue-600 focus:ring-blue-500"}`,children:u})]})]})})})})})]})})}function s4({isOpen:t,onClose:r}){var q,H;const a=Qe($=>$.theme),s=Qe($=>$.setTheme),o=Qe($=>$.defaultScreen),u=Qe($=>$.setDefaultScreen),d=Qe($=>$.dashboardFontFamily),f=Qe($=>$.setDashboardFontFamily),h=Qe($=>$.dashboardFontSize),p=Qe($=>$.setDashboardFontSize),v=Qe($=>$.yearsMonthsFontFamily),y=Qe($=>$.setYearsMonthsFontFamily),w=Qe($=>$.yearsMonthsFontSize),x=Qe($=>$.setYearsMonthsFontSize),j=Qe($=>$.albumHeadingFontFamily),_=Qe($=>$.setAlbumHeadingFontFamily),z=Qe($=>$.albumHeadingFontSize),k=Qe($=>$.setAlbumHeadingFontSize),C=Qe($=>$.showDeleteConfirmation),M=Qe($=>$.setShowDeleteConfirmation),A=Qe($=>$.prioritizeFolderStructure),O=Qe($=>$.setPrioritizeFolderStructure),Q=Qe($=>$.prioritizeFilenameDate),B=Qe($=>$.setPrioritizeFilenameDate),Z=Qe($=>$.deleteOriginalFiles),P=Qe($=>$.setDeleteOriginalFiles);Qe($=>$.smartMergeLevel),Qe($=>$.setSmartMergeLevel);const D=Qe($=>$.showAlbumTags),G=Qe($=>$.setShowAlbumTags),T=Qe($=>$.albumTagFontColor),U=Qe($=>$.setAlbumTagFontColor),S=Qe($=>$.albumTagBackgroundColor),W=Qe($=>$.setAlbumTagBackgroundColor),[K,I]=b.useState("general"),[se,J]=b.useState(!1),[be,R]=b.useState(!1),[F,ee]=b.useState(null),[ie,ue]=b.useState(!1),Me=yi(),{data:re}=nd(),{data:je}=yn({queryKey:["health"],queryFn:()=>it.health(),enabled:t,staleTime:1/0,refetchInterval:!1}),de=cn({mutationFn:()=>it.resetStats(),onSuccess:()=>{ue(!0),Me.invalidateQueries({queryKey:["stats"]}),Me.invalidateQueries({queryKey:["performance"]});try{localStorage.removeItem("nazr_last_scan"),localStorage.removeItem("nazr_last_processing")}catch{}window.dispatchEvent(new CustomEvent("nazr:reset-dashboard-stats")),setTimeout(()=>{ue(!1)},3e3)}}),Oe=(re==null?void 0:re.scan_running)===!0,Ue=(q=re==null?void 0:re.db)!=null&&q.assets?re.db.assets>0:!1,_e=()=>{R(!1),ee(null),ue(!1),r()},ze=cn({mutationFn:()=>it.clearAllData(),onSuccess:()=>{J(!1),ee(null),R(!0),setTimeout(()=>{Me.invalidateQueries({queryKey:["stats"]}),Me.invalidateQueries({queryKey:["performance"]}),Me.invalidateQueries({queryKey:["fileTypes"]}),Me.invalidateQueries({queryKey:["assets"]}),Me.invalidateQueries({queryKey:["search"]})},100),setTimeout(()=>{R(!1)},3e3)},onError:$=>{ee($.message||"Failed to clear data. Please try again.")}}),E=()=>{s(a==="system"?"light":a==="light"?"dark":"system")},ae=a==="system"?fz:a==="light"?Iz:Mz,te=$=>{switch($){case"system":return"system-ui, -apple-system, sans-serif";case"sans-serif":return"sans-serif";case"serif":return"serif";case"monospace":return"monospace";case"cursive":return"cursive";case"fantasy":return"fantasy";case"yellowtail":return"'Yellowtail', cursive";default:return"system-ui, -apple-system, sans-serif"}};return c.jsxs(c.Fragment,{children:[c.jsx(ns,{show:t,as:b.Fragment,children:c.jsxs(Zs,{as:"div",className:"relative z-50",onClose:_e,children:[c.jsx(ns.Child,{as:b.Fragment,enter:"ease-out duration-300",enterFrom:"opacity-0",enterTo:"opacity-100",leave:"ease-in duration-200",leaveFrom:"opacity-100",leaveTo:"opacity-0",children:c.jsx("div",{className:"fixed inset-0 bg-black/30 dark:bg-black/50"})}),c.jsx("div",{className:"fixed inset-0 overflow-y-auto",children:c.jsx("div",{className:"flex min-h-full items-center justify-center p-4",children:c.jsx(ns.Child,{as:b.Fragment,enter:"ease-out duration-300",enterFrom:"opacity-0 scale-95",enterTo:"opacity-100 scale-100",leave:"ease-in duration-200",leaveFrom:"opacity-100 scale-100",leaveTo:"opacity-0 scale-95",children:c.jsxs(Zs.Panel,{className:"w-full max-w-md transform overflow-hidden rounded-lg bg-white dark:bg-zinc-900 border border-zinc-200 dark:border-zinc-800 shadow-xl transition-all flex flex-col max-h-[90vh]",children:[c.jsxs("div",{className:"p-6 pb-0 flex-shrink-0",children:[c.jsxs("div",{className:"flex items-center justify-between mb-6",children:[c.jsx(Zs.Title,{className:"text-lg font-semibold text-zinc-900 dark:text-zinc-100",children:"Settings"}),c.jsx("button",{onClick:_e,className:"p-1 rounded-md text-zinc-500 hover:text-zinc-700 dark:hover:text-zinc-300 hover:bg-zinc-100 dark:hover:bg-zinc-800 transition-colors",children:c.jsx(xa,{className:"size-5"})})]}),c.jsxs("div",{className:"flex border-b border-zinc-200 dark:border-zinc-800 mb-6",children:[c.jsx("button",{onClick:()=>I("general"),className:`px-4 py-2 text-sm font-medium transition-colors ${K==="general"?"text-blue-600 dark:text-blue-400 border-b-2 border-blue-600 dark:border-blue-400":"text-zinc-600 dark:text-zinc-400 hover:text-zinc-900 dark:hover:text-zinc-200"}`,children:"General"}),c.jsx("button",{onClick:()=>I("tags"),className:`px-4 py-2 text-sm font-medium transition-colors ${K==="tags"?"text-blue-600 dark:text-blue-400 border-b-2 border-blue-600 dark:border-blue-400":"text-zinc-600 dark:text-zinc-400 hover:text-zinc-900 dark:hover:text-zinc-200"}`,children:"Tags"}),c.jsx("button",{onClick:()=>I("fonts"),className:`px-4 py-2 text-sm font-medium transition-colors ${K==="fonts"?"text-blue-600 dark:text-blue-400 border-b-2 border-blue-600 dark:border-blue-400":"text-zinc-600 dark:text-zinc-400 hover:text-zinc-900 dark:hover:text-zinc-200"}`,children:"Fonts"}),c.jsx("button",{onClick:()=>I("organization"),className:`px-4 py-2 text-sm font-medium transition-colors ${K==="organization"?"text-blue-600 dark:text-blue-400 border-b-2 border-blue-600 dark:border-blue-400":"text-zinc-600 dark:text-zinc-400 hover:text-zinc-900 dark:hover:text-zinc-200"}`,children:"Organization"}),c.jsx("button",{onClick:()=>I("about"),className:`px-4 py-2 text-sm font-medium transition-colors ${K==="about"?"text-blue-600 dark:text-blue-400 border-b-2 border-blue-600 dark:border-blue-400":"text-zinc-600 dark:text-zinc-400 hover:text-zinc-900 dark:hover:text-zinc-200"}`,children:"About"})]})]}),c.jsxs("div",{className:"px-6 pb-6 overflow-y-auto flex-1 space-y-4",children:[K==="general"&&c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{children:[c.jsx("label",{className:"text-xs font-medium text-zinc-700 dark:text-zinc-300 mb-1 block",children:"Theme"}),c.jsxs("button",{onClick:E,className:"w-full flex items-center justify-between p-2 rounded-md border border-zinc-200 dark:border-zinc-700 hover:bg-zinc-50 dark:hover:bg-zinc-800 transition-colors",children:[c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx(ae,{className:"size-3.5 text-zinc-600 dark:text-zinc-400"}),c.jsx("span",{className:"text-xs text-zinc-900 dark:text-zinc-100",children:a==="system"?"System":a==="light"?"Light":"Dark"})]}),c.jsx("span",{className:"text-[10px] text-zinc-500 dark:text-zinc-400",children:a==="system"?"Follows system preference":a==="light"?"Light mode":"Dark mode"})]})]}),c.jsxs("div",{children:[c.jsx("label",{className:"text-xs font-medium text-zinc-700 dark:text-zinc-300 mb-1 block",children:"Default Screen"}),c.jsxs("select",{value:o,onChange:$=>u($.target.value),className:"w-full p-2 rounded-md border border-zinc-200 dark:border-zinc-700 bg-white dark:bg-zinc-800 text-xs text-zinc-900 dark:text-zinc-100 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[c.jsx("option",{value:"dashboard",children:"Dashboard"}),c.jsx("option",{value:"gallery",children:"Gallery"}),c.jsx("option",{value:"search",children:"Search"}),c.jsx("option",{value:"albums",children:"Albums"}),c.jsx("option",{value:"people",children:"People"})]}),c.jsx("p",{className:"mt-0.5 text-[10px] text-zinc-500 dark:text-zinc-400",children:"The screen to show when the app first loads."})]}),c.jsxs("div",{children:[c.jsx("label",{className:"text-xs font-medium text-zinc-700 dark:text-zinc-300 mb-1 block",children:"Dashboard Statistics"}),c.jsx("button",{onClick:()=>de.mutate(),disabled:de.isPending||Oe||ie,className:`w-full flex items-center justify-center gap-1.5 px-3 py-1.5 rounded-md disabled:opacity-50 disabled:cursor-not-allowed transition-colors text-xs font-medium ${ie?"bg-green-600 text-white hover:bg-green-700":"bg-blue-600 text-white hover:bg-blue-700"}`,title:Oe?"Cannot reset stats while scan is running":"Reset dashboard performance statistics",children:ie?c.jsxs(c.Fragment,{children:[c.jsx("svg",{className:"size-3.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})}),c.jsx("span",{children:"Stats Reset"})]}):de.isPending?"Resetting...":"Reset Dashboard Stats"}),c.jsx("p",{className:"mt-0.5 text-[10px] text-zinc-500 dark:text-zinc-400",children:"Reset performance statistics (files discovered, files catalogued, rates, etc.) on the dashboard. This does not delete any data from the database."})]})]}),c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{children:[c.jsx("label",{className:"text-xs font-medium text-zinc-700 dark:text-zinc-300 mb-1 block",children:"Delete Confirmation"}),c.jsxs("div",{className:"flex items-center justify-between p-2 rounded-md border border-zinc-200 dark:border-zinc-700",children:[c.jsx("span",{className:"text-xs text-zinc-900 dark:text-zinc-100",children:"Show confirmation dialog when deleting"}),c.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[c.jsx("input",{type:"checkbox",checked:C,onChange:$=>M($.target.checked),className:"sr-only peer"}),c.jsx("div",{className:"w-10 h-5 bg-zinc-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-300 dark:peer-focus:ring-blue-800 rounded-full peer dark:bg-zinc-700 peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-zinc-300 after:border after:rounded-full after:h-4 after:w-4 after:transition-all dark:border-zinc-600 peer-checked:bg-blue-600"})]})]}),c.jsx("p",{className:"mt-0.5 text-[10px] text-zinc-500 dark:text-zinc-400",children:"When disabled, items will be deleted immediately without confirmation."})]}),c.jsxs("div",{children:[c.jsx("label",{className:"text-xs font-medium text-zinc-700 dark:text-zinc-300 mb-1 block",children:"Delete Original Files"}),c.jsxs("div",{className:"flex items-center justify-between p-2 rounded-md border border-zinc-200 dark:border-zinc-700",children:[c.jsx("span",{className:"text-xs text-zinc-900 dark:text-zinc-100",children:"Remove files from disk when deleting"}),c.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[c.jsx("input",{type:"checkbox",checked:Z,onChange:$=>P($.target.checked),className:"sr-only peer"}),c.jsx("div",{className:"w-10 h-5 bg-zinc-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-300 dark:peer-focus:ring-blue-800 rounded-full peer dark:bg-zinc-700 peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-zinc-300 after:border after:rounded-full after:h-4 after:w-4 after:transition-all dark:border-zinc-600 peer-checked:bg-blue-600"})]})]}),c.jsx("p",{className:"mt-0.5 text-[10px] text-zinc-500 dark:text-zinc-400",children:"Default behavior keeps the original file on disk. Enable this to also delete the source file and generated previews."})]}),c.jsxs("div",{children:[c.jsx("label",{className:"text-xs font-medium text-zinc-700 dark:text-zinc-300 mb-1 block",children:"Data Management"}),c.jsx("button",{onClick:()=>{J(!0),R(!1),ee(null)},disabled:ze.isPending||!Ue&&!be,className:`w-full flex items-center justify-center gap-1.5 px-3 py-1.5 rounded-md disabled:opacity-50 disabled:cursor-not-allowed transition-colors text-xs font-medium ${be?"bg-green-600 text-white hover:bg-green-700":Ue?"bg-red-600 text-white hover:bg-red-700":"bg-zinc-400 dark:bg-zinc-600 text-white cursor-not-allowed"}`,children:be?c.jsxs(c.Fragment,{children:[c.jsx("svg",{className:"size-3.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})}),c.jsx("span",{children:"All data cleared"})]}):Ue?c.jsxs(c.Fragment,{children:[c.jsx(xa,{className:"size-3.5"}),c.jsx("span",{children:"Clear All Data"})]}):c.jsxs(c.Fragment,{children:[c.jsx(xa,{className:"size-3.5"}),c.jsx("span",{children:"No data to clear"})]})}),F&&c.jsx("p",{className:"mt-0.5 text-[10px] text-red-600 dark:text-red-400",children:F}),c.jsx("p",{className:"mt-0.5 text-[10px] text-zinc-500 dark:text-zinc-400",children:"Permanently delete all assets, faces, and persons from the database."})]})]})]}),K==="tags"&&c.jsxs(c.Fragment,{children:[c.jsxs("div",{children:[c.jsx("label",{className:"text-sm font-medium text-zinc-700 dark:text-zinc-300 mb-3 block",children:"Show Album Tags"}),c.jsxs("div",{className:"flex items-center justify-between p-3 rounded-md border border-zinc-200 dark:border-zinc-700",children:[c.jsx("span",{className:"text-sm text-zinc-900 dark:text-zinc-100",children:"Display album names on photos in the gallery view"}),c.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[c.jsx("input",{type:"checkbox",checked:D,onChange:$=>G($.target.checked),className:"sr-only peer"}),c.jsx("div",{className:"w-11 h-6 bg-zinc-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-300 dark:peer-focus:ring-blue-800 rounded-full peer dark:bg-zinc-700 peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-zinc-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all dark:border-zinc-600 peer-checked:bg-blue-600"})]})]}),c.jsx("p",{className:"mt-2 text-xs text-zinc-500 dark:text-zinc-400",children:"When enabled, photos in the gallery will show small tags with album names in the top right corner. Tags are stacked when photos are in multiple albums."})]}),D&&c.jsxs("div",{children:[c.jsx("label",{className:"text-sm font-medium text-zinc-700 dark:text-zinc-300 mb-3 block",children:"Album Tags Styling"}),c.jsxs("div",{className:"grid grid-cols-3 gap-4 items-center",children:[c.jsxs("div",{className:"p-3 rounded-md border border-zinc-200 dark:border-zinc-700 bg-zinc-50 dark:bg-zinc-900 relative",style:{minHeight:"60px"},children:[c.jsx("div",{className:"absolute top-2 right-2",children:c.jsx("div",{className:"px-2 py-0.5 rounded text-[10px] font-medium backdrop-blur-sm",style:{color:T,backgroundColor:S},children:"Sample Album"})}),c.jsx("p",{className:"text-[10px] text-zinc-500 dark:text-zinc-400 absolute bottom-2 left-2",children:"Preview"})]}),c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("label",{className:"text-xs font-medium text-zinc-700 dark:text-zinc-300 whitespace-nowrap",children:"Font Color:"}),c.jsx("input",{type:"color",value:T,onChange:$=>U($.target.value),className:"w-12 h-10 rounded border border-zinc-200 dark:border-zinc-700 cursor-pointer"})]}),c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("label",{className:"text-xs font-medium text-zinc-700 dark:text-zinc-300 whitespace-nowrap",children:"Background:"}),c.jsx("input",{type:"color",value:S,onChange:$=>W($.target.value),className:"w-12 h-10 rounded border border-zinc-200 dark:border-zinc-700 cursor-pointer"})]})]})]})]}),K==="fonts"&&c.jsxs(c.Fragment,{children:[c.jsxs("div",{children:[c.jsx("label",{className:"text-sm font-medium text-zinc-700 dark:text-zinc-300 mb-3 block",children:"Dashboard Stats Font"}),c.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[c.jsxs("select",{value:d,onChange:$=>f($.target.value),className:"w-full p-3 rounded-md border border-zinc-200 dark:border-zinc-700 bg-white dark:bg-zinc-800 text-sm text-zinc-900 dark:text-zinc-100 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",style:{fontFamily:te(d)},children:[c.jsx("option",{value:"system",style:{fontFamily:"system-ui, -apple-system, sans-serif"},children:"System"}),c.jsx("option",{value:"sans-serif",style:{fontFamily:"sans-serif"},children:"Sans-serif"}),c.jsx("option",{value:"serif",style:{fontFamily:"serif"},children:"Serif"}),c.jsx("option",{value:"monospace",style:{fontFamily:"monospace"},children:"Monospace"}),c.jsx("option",{value:"cursive",style:{fontFamily:"cursive"},children:"Cursive"}),c.jsx("option",{value:"fantasy",style:{fontFamily:"fantasy"},children:"Fantasy"}),c.jsx("option",{value:"yellowtail",style:{fontFamily:"'Yellowtail', cursive"},children:"Yellowtail"})]}),c.jsxs("select",{value:h,onChange:$=>p($.target.value),className:"w-full p-3 rounded-md border border-zinc-200 dark:border-zinc-700 bg-white dark:bg-zinc-800 text-sm text-zinc-900 dark:text-zinc-100 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[c.jsx("option",{value:"xs",children:"Extra Small"}),c.jsx("option",{value:"sm",children:"Small"}),c.jsx("option",{value:"base",children:"Base"}),c.jsx("option",{value:"lg",children:"Large"}),c.jsx("option",{value:"xl",children:"Extra Large"}),c.jsx("option",{value:"2xl",children:"2X Large"}),c.jsx("option",{value:"3xl",children:"3X Large"}),c.jsx("option",{value:"4xl",children:"4X Large"})]})]}),c.jsx("p",{className:"mt-2 text-xs text-zinc-500 dark:text-zinc-400",children:"Font family for dashboard stats text."})]}),c.jsxs("div",{children:[c.jsx("label",{className:"text-sm font-medium text-zinc-700 dark:text-zinc-300 mb-3 block",children:"Years & Months"}),c.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[c.jsxs("select",{value:v,onChange:$=>y($.target.value),className:"w-full p-3 rounded-md border border-zinc-200 dark:border-zinc-700 bg-white dark:bg-zinc-800 text-sm text-zinc-900 dark:text-zinc-100 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",style:{fontFamily:te(v)},children:[c.jsx("option",{value:"system",style:{fontFamily:"system-ui, -apple-system, sans-serif"},children:"System"}),c.jsx("option",{value:"sans-serif",style:{fontFamily:"sans-serif"},children:"Sans-serif"}),c.jsx("option",{value:"serif",style:{fontFamily:"serif"},children:"Serif"}),c.jsx("option",{value:"monospace",style:{fontFamily:"monospace"},children:"Monospace"}),c.jsx("option",{value:"cursive",style:{fontFamily:"cursive"},children:"Cursive"}),c.jsx("option",{value:"fantasy",style:{fontFamily:"fantasy"},children:"Fantasy"}),c.jsx("option",{value:"yellowtail",style:{fontFamily:"'Yellowtail', cursive"},children:"Yellowtail"})]}),c.jsxs("select",{value:w,onChange:$=>x($.target.value),className:"w-full p-3 rounded-md border border-zinc-200 dark:border-zinc-700 bg-white dark:bg-zinc-800 text-sm text-zinc-900 dark:text-zinc-100 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[c.jsx("option",{value:"xs",children:"Extra Small"}),c.jsx("option",{value:"sm",children:"Small"}),c.jsx("option",{value:"base",children:"Base"}),c.jsx("option",{value:"lg",children:"Large"}),c.jsx("option",{value:"xl",children:"Extra Large"}),c.jsx("option",{value:"2xl",children:"2X Large"}),c.jsx("option",{value:"3xl",children:"3X Large"}),c.jsx("option",{value:"4xl",children:"4X Large"})]})]}),c.jsx("p",{className:"mt-2 text-xs text-zinc-500 dark:text-zinc-400",children:"Font family for year and month labels in the gallery view."})]}),c.jsxs("div",{children:[c.jsx("label",{className:"text-sm font-medium text-zinc-700 dark:text-zinc-300 mb-3 block",children:"Album Heading"}),c.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[c.jsxs("select",{value:j,onChange:$=>_($.target.value),className:"w-full p-3 rounded-md border border-zinc-200 dark:border-zinc-700 bg-white dark:bg-zinc-800 text-sm text-zinc-900 dark:text-zinc-100 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",style:{fontFamily:te(j)},children:[c.jsx("option",{value:"system",style:{fontFamily:"system-ui, -apple-system, sans-serif"},children:"System"}),c.jsx("option",{value:"sans-serif",style:{fontFamily:"sans-serif"},children:"Sans-serif"}),c.jsx("option",{value:"serif",style:{fontFamily:"serif"},children:"Serif"}),c.jsx("option",{value:"monospace",style:{fontFamily:"monospace"},children:"Monospace"}),c.jsx("option",{value:"cursive",style:{fontFamily:"cursive"},children:"Cursive"}),c.jsx("option",{value:"fantasy",style:{fontFamily:"fantasy"},children:"Fantasy"}),c.jsx("option",{value:"yellowtail",style:{fontFamily:"'Yellowtail', cursive"},children:"Yellowtail"})]}),c.jsxs("select",{value:z,onChange:$=>k($.target.value),className:"w-full p-3 rounded-md border border-zinc-200 dark:border-zinc-700 bg-white dark:bg-zinc-800 text-sm text-zinc-900 dark:text-zinc-100 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[c.jsx("option",{value:"xs",children:"Extra Small"}),c.jsx("option",{value:"sm",children:"Small"}),c.jsx("option",{value:"base",children:"Base"}),c.jsx("option",{value:"lg",children:"Large"}),c.jsx("option",{value:"xl",children:"Extra Large"}),c.jsx("option",{value:"2xl",children:"2X Large"}),c.jsx("option",{value:"3xl",children:"3X Large"}),c.jsx("option",{value:"4xl",children:"4X Large"})]})]}),c.jsx("p",{className:"mt-2 text-xs text-zinc-500 dark:text-zinc-400",children:"Font family for album names in the albums view."})]})]}),K==="organization"&&c.jsxs(c.Fragment,{children:[c.jsxs("div",{children:[c.jsx("label",{className:"text-sm font-medium text-zinc-700 dark:text-zinc-300 mb-3 block",children:"Prioritize Folder Structure over Metadata"}),c.jsxs("div",{className:"flex items-center justify-between p-3 rounded-md border border-zinc-200 dark:border-zinc-700",children:[c.jsx("span",{className:"text-sm text-zinc-900 dark:text-zinc-100",children:"Organize photos based on folder structure"}),c.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[c.jsx("input",{type:"checkbox",checked:A,onChange:$=>O($.target.checked),className:"sr-only peer"}),c.jsx("div",{className:"w-11 h-6 bg-zinc-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-300 dark:peer-focus:ring-blue-800 rounded-full peer dark:bg-zinc-700 peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-zinc-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all dark:border-zinc-600 peer-checked:bg-blue-600"})]})]}),c.jsx("p",{className:"mt-2 text-xs text-zinc-500 dark:text-zinc-400",children:"When enabled, photos will be grouped by year and month extracted from folder paths (e.g., /2025/01/, /2025/January/) instead of using metadata dates. Recognizes numeric patterns (01-12) and month names (January, Jan, etc.)."})]}),A&&c.jsxs("div",{className:"ml-4 mt-4",children:[c.jsx("label",{className:"text-sm font-medium text-zinc-700 dark:text-zinc-300 mb-3 block",children:"Prioritize by Filename"}),c.jsxs("div",{className:"flex items-center justify-between p-3 rounded-md border border-zinc-200 dark:border-zinc-700",children:[c.jsx("span",{className:"text-sm text-zinc-900 dark:text-zinc-100",children:"Extract date from filename first"}),c.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[c.jsx("input",{type:"checkbox",checked:Q,onChange:$=>B($.target.checked),className:"sr-only peer"}),c.jsx("div",{className:"w-11 h-6 bg-zinc-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-300 dark:peer-focus:ring-blue-800 rounded-full peer dark:bg-zinc-700 peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-zinc-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all dark:border-zinc-600 peer-checked:bg-blue-600"})]})]}),c.jsx("p",{className:"mt-2 text-xs text-zinc-500 dark:text-zinc-400",children:"When enabled, dates found in filenames (e.g., 2025-01-15_photo.jpg, IMG_20250115.jpg) will take priority over folder structure. Recognizes formats: YYYY-MM-DD, YYYYMMDD, YYYY-MM, DD-MM-YYYY, MM-DD-YYYY."})]})]}),K==="about"&&c.jsx(c.Fragment,{children:c.jsxs("div",{className:"relative",children:[c.jsx("div",{className:"absolute inset-0 flex items-center justify-center pointer-events-none opacity-10 dark:opacity-100",style:{backgroundImage:"url(/nazrlogo.png)",backgroundRepeat:"no-repeat",backgroundPosition:"center top",backgroundSize:"80%",minHeight:"200px",top:"-20px"}}),c.jsxs("div",{className:"relative z-10",children:[c.jsx("h3",{className:"text-sm font-semibold text-zinc-900 dark:text-zinc-100 mb-3",children:"Attributions"}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[c.jsxs("div",{children:[c.jsx("h4",{className:"text-xs font-medium text-zinc-700 dark:text-zinc-300 mb-2 uppercase tracking-wide",children:"Frontend"}),c.jsxs("div",{className:"space-y-1.5 text-xs text-zinc-600 dark:text-zinc-400",children:[c.jsx("div",{children:"@headlessui/react - UI components"}),c.jsx("div",{children:"@heroicons/react - Icon library"}),c.jsx("div",{children:"@tanstack/react-query - Data fetching and caching"}),c.jsx("div",{children:"d3 - Data visualization"}),c.jsx("div",{children:"jszip - ZIP file handling"}),c.jsx("div",{children:"react - UI framework"}),c.jsx("div",{children:"react-dom - React DOM renderer"}),c.jsx("div",{children:"react-router-dom - Routing"}),c.jsx("div",{children:"recharts - Chart library"}),c.jsx("div",{children:"zustand - State management"}),c.jsx("div",{children:"tailwindcss - CSS framework"}),c.jsx("div",{children:"vite - Build tool"}),c.jsx("div",{children:"typescript - Type safety"})]})]}),c.jsxs("div",{children:[c.jsx("h4",{className:"text-xs font-medium text-zinc-700 dark:text-zinc-300 mb-2 uppercase tracking-wide",children:"Backend"}),c.jsx("div",{className:"space-y-1.5 text-xs text-zinc-600 dark:text-zinc-400",children:((H=je==null?void 0:je.backend_libraries)==null?void 0:H.map(($,he)=>c.jsx("div",{children:$},he)))||c.jsx("div",{className:"text-zinc-400 dark:text-zinc-500",children:"Loading..."})})]})]})]})]})})]})]})})})})]})}),c.jsx(ls,{isOpen:se,onClose:()=>{ze.isPending||(J(!1),R(!1),ee(null))},onConfirm:()=>{if(F){J(!1),ee(null);return}ze.isPending||(ee(null),ze.mutate())},title:"Clear All Data",message:F?`Error: ${F}

Please close this dialog and try again.`:"This will permanently delete ALL assets, faces, and persons from the database. This action cannot be undone. Are you sure you want to start from scratch?",confirmText:F?"Close":ze.isPending?"Clearing...":"Clear All Data",variant:"danger",preventAutoClose:!!F||ze.isPending})]})}function l4(){const t=Ea(),r=wn(),{search:a}=wn(),s=new URLSearchParams(a),[o,u]=b.useState(s.get("q")||""),d=b.useRef(null);b.useEffect(()=>{u(s.get("q")||"")},[a]);const[f,h]=b.useState(!1),p=Qe(x=>x.isFetching),v=x=>{x.preventDefault();const j=new URLSearchParams(a);o?j.set("q",o):j.delete("q");const _=j.toString();t(_?`/search?${_}`:"/search")},y=x=>x==="/"?r.pathname==="/"||r.pathname==="":r.pathname.startsWith(x),w=x=>{const j="py-1 transition-colors";return y(x)?`${j} text-blue-600 dark:text-blue-400 font-kalam-bold`:`${j} hover:text-blue-600 dark:hover:text-blue-400 font-kalam`};return c.jsxs("header",{className:"border-b border-zinc-200/60 dark:border-zinc-800 sticky top-0 bg-white/70 dark:bg-zinc-900/70 backdrop-blur z-40",children:[c.jsxs("div",{className:"container-responsive min-h-14 flex flex-col sm:flex-row items-stretch sm:items-center gap-2 sm:gap-3 py-2 sm:py-0",children:[c.jsxs(on,{to:"/",className:"hidden sm:flex items-center mr-2 sm:mr-4 flex-shrink-0 relative",children:[c.jsx("img",{src:"/logo.png",alt:"Nazr",className:"h-8 w-auto dark:invert dark:brightness-0 dark:contrast-200",onError:x=>{const j=x.target;j.style.display="none"}}),c.jsx("div",{className:`absolute top-1/2 right-0 w-1.5 h-1.5 rounded-full transition-colors ${p?"bg-green-500":"bg-zinc-400 dark:bg-zinc-600"}`,title:p?"Fetching...":"Idle",style:{transform:"translate(60%, 65%)"}})]}),c.jsx("div",{className:"flex items-center justify-between",children:c.jsxs("nav",{className:"flex sm:hidden gap-0.5 sm:gap-1.5 text-xs overflow-x-auto flex-1 min-w-0",children:[c.jsx(on,{to:"/",className:`${w("/")} whitespace-nowrap px-1`,children:"Dashboard"}),c.jsx(on,{to:"/gallery",className:`${w("/gallery")} whitespace-nowrap px-1`,children:"Gallery"}),c.jsx(on,{to:"/search",className:`${w("/search")} whitespace-nowrap px-1`,children:"Search"}),c.jsx(on,{to:"/albums",className:`${w("/albums")} whitespace-nowrap px-1`,children:"Albums"}),c.jsx(on,{to:"/people",className:`${w("/people")} whitespace-nowrap px-1`,children:"People"}),c.jsx(on,{to:"/",className:"ml-auto flex-shrink-0",children:c.jsx("img",{src:"/logo.png",alt:"Nazr",className:"h-[1.2rem] w-auto dark:invert dark:brightness-0 dark:contrast-200",onError:x=>{const j=x.target;j.style.display="none"}})})]})}),c.jsxs("nav",{className:"hidden sm:flex gap-4 text-sm",children:[c.jsx(on,{to:"/",className:`${w("/")} px-2`,children:"Dashboard"}),c.jsx(on,{to:"/gallery",className:`${w("/gallery")} px-2`,children:"Gallery"}),c.jsx(on,{to:"/search",className:`${w("/search")} px-2`,children:"Search"}),c.jsx(on,{to:"/albums",className:`${w("/albums")} px-2`,children:"Albums"}),c.jsx(on,{to:"/people",className:`${w("/people")} px-2`,children:"People"})]}),c.jsxs("form",{onSubmit:v,className:"flex items-center gap-1.5 sm:gap-2 w-full sm:ml-auto sm:max-w-xl",children:[c.jsxs("div",{className:"relative flex-1 min-w-0",children:[c.jsx(Az,{className:"absolute left-2 top-1/2 -translate-y-1/2 size-4 sm:size-5 text-zinc-400"}),c.jsx("input",{ref:d,value:o,onChange:x=>u(x.target.value),onKeyDown:x=>{x.key==="Escape"&&x.target.blur()},placeholder:"Search...",className:"w-full pl-8 sm:pl-9 pr-2 sm:pr-3 py-1.5 sm:py-2 rounded-md bg-zinc-100 dark:bg-zinc-800 outline-none border border-transparent focus:border-blue-500 text-xs sm:text-sm sm:text-base"})]}),c.jsx("button",{type:"button",onClick:()=>h(!0),title:"Settings",className:"p-1.5 sm:p-2 rounded-md border border-zinc-200 dark:border-zinc-700 flex-shrink-0 hover:bg-zinc-100 dark:hover:bg-zinc-800 transition-colors",children:c.jsx(l1,{className:"size-4 sm:size-5"})})]})]}),c.jsx(s4,{isOpen:f,onClose:()=>h(!1)})]})}function o4(t){const r=Math.floor(t/3600),a=Math.floor(t%3600/60),s=Math.floor(t%60);return[r,a,s].map((o,u)=>u===0?o:String(o).padStart(2,"0")).filter((o,u)=>o!==0||u>0).join(":")}function yr(t){return new Intl.NumberFormat().format(t)}const ti=t=>t.startsWith("video/"),c4=t=>t.startsWith("image/");function u4(){var o,u,d,f;const{data:t}=nd(),r=wn(),a=r.pathname==="/"||r.pathname==="/dashboard",{data:s}=yn({queryKey:["health"],queryFn:()=>it.health(),staleTime:1/0,refetchInterval:!1,retry:1});return c.jsx("footer",{className:"border-t border-zinc-200/60 dark:border-zinc-800 mt-6",children:c.jsxs("div",{className:"container-responsive py-3 text-xs flex flex-wrap gap-x-6 gap-y-2 items-center",children:[!a&&c.jsxs(c.Fragment,{children:[c.jsxs("div",{children:["Uptime: ",c.jsx("span",{className:"tabular-nums",children:t?o4(t.uptime_seconds):""})]}),c.jsxs("div",{children:["Total assets: ",c.jsx("span",{className:"tabular-nums",children:t?yr(t.db.assets):""})]}),c.jsxs("div",{children:["Queues: disc ",(o=t==null?void 0:t.queues.discover)!=null?o:"",", hash ",(u=t==null?void 0:t.queues.hash)!=null?u:"",", meta ",(d=t==null?void 0:t.queues.metadata)!=null?d:"",", thumb ",(f=t==null?void 0:t.queues.thumb)!=null?f:""]})]}),c.jsx("div",{className:"ml-auto opacity-70 font-kalam",children:s?c.jsxs(c.Fragment,{children:["version ",s.version," ",s.database]}):c.jsx(c.Fragment,{children:"version 0.9"})})]})})}function Ph(){return c.jsxs("div",{className:"rounded-lg border border-zinc-200 dark:border-zinc-800 p-4 bg-white dark:bg-zinc-900 animate-pulse",children:[c.jsx("div",{className:"h-3 bg-zinc-200 dark:bg-zinc-700 rounded w-1/2 mb-2"}),c.jsx("div",{className:"h-6 bg-zinc-200 dark:bg-zinc-700 rounded w-3/4"})]})}const d4="modulepreload",f4=function(t){return"/"+t},wy={},h4=function(r,a,s){let o=Promise.resolve();if(a&&a.length>0){let h=function(p){return Promise.all(p.map(v=>Promise.resolve(v).then(y=>({status:"fulfilled",value:y}),y=>({status:"rejected",reason:y}))))};document.getElementsByTagName("link");const d=document.querySelector("meta[property=csp-nonce]"),f=(d==null?void 0:d.nonce)||(d==null?void 0:d.getAttribute("nonce"));o=h(a.map(p=>{if(p=f4(p),p in wy)return;wy[p]=!0;const v=p.endsWith(".css"),y=v?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${p}"]${y}`))return;const w=document.createElement("link");if(w.rel=v?"stylesheet":d4,v||(w.as="script"),w.crossOrigin="",w.href=p,f&&w.setAttribute("nonce",f),document.head.appendChild(w),v)return new Promise((x,j)=>{w.addEventListener("load",x),w.addEventListener("error",()=>j(new Error(`Unable to preload CSS for ${p}`)))})}))}function u(d){const f=new Event("vite:preloadError",{cancelable:!0});if(f.payload=d,window.dispatchEvent(f),!f.defaultPrevented)throw d}return o.then(d=>{for(const f of d||[])f.status==="rejected"&&u(f.reason);return r().catch(u)})};function m4({currentPath:t,onPathSelect:r,onClose:a}){const s=M=>!M||M.trim()===""?"/":M.startsWith("/")?M:`/${M}`,o=s(t),[u,d]=b.useState(o),[f,h]=b.useState([o]),{data:p,isLoading:v,error:y,refetch:w}=yn({queryKey:["browse",u],queryFn:()=>it.browseDirectory(s(u)),enabled:!0}),x=M=>{h([...f,M]),d(M)},j=()=>{if(f.length>1){const M=[...f];M.pop();const A=M[M.length-1];h(M),d(A)}},_=()=>{r(u),a()},z=M=>{M.is_dir&&x(M.path)};b.useEffect(()=>{const M=A=>{A.key==="Escape"&&a()};return window.addEventListener("keydown",M),()=>{window.removeEventListener("keydown",M)}},[a]);const k=f.length>1,C=(p==null?void 0:p.path)||u;return c.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50 dark:bg-black/70",onClick:a,children:c.jsxs("div",{className:"bg-white dark:bg-zinc-900 rounded-lg shadow-xl w-full max-w-2xl max-h-[80vh] flex flex-col m-4",onClick:M=>M.stopPropagation(),children:[c.jsxs("div",{className:"p-4 border-b border-zinc-200 dark:border-zinc-800",children:[c.jsxs("div",{className:"flex items-center justify-between mb-3",children:[c.jsx("h2",{className:"text-lg font-semibold",children:"Select Folder"}),c.jsx("button",{onClick:a,className:"text-zinc-500 hover:text-zinc-700 dark:text-zinc-400 dark:hover:text-zinc-200",children:""})]}),c.jsxs("div",{className:"flex items-center gap-2",children:[k&&c.jsx("button",{onClick:j,className:"p-1.5 rounded hover:bg-zinc-100 dark:hover:bg-zinc-800 text-zinc-600 dark:text-zinc-400",title:"Go back",children:c.jsx(a0,{className:"size-5"})}),c.jsx("div",{className:"flex-1 px-3 py-1.5 rounded border border-zinc-300 dark:border-zinc-700 bg-zinc-50 dark:bg-zinc-800 text-sm font-mono text-zinc-700 dark:text-zinc-300 break-all",children:C})]})]}),c.jsxs("div",{className:"flex-1 overflow-y-auto p-4",children:[v&&c.jsx("div",{className:"flex items-center justify-center py-8 text-zinc-500 dark:text-zinc-400",children:"Loading..."}),y&&c.jsxs("div",{className:"text-red-600 dark:text-red-400 text-sm py-4",children:["Error: ",y instanceof Error?y.message:"Failed to load directory"]}),!v&&!y&&p&&c.jsx("div",{className:"space-y-1",children:p.entries.length===0?c.jsx("div",{className:"text-zinc-500 dark:text-zinc-400 text-sm py-8 text-center",children:"This folder is empty"}):p.entries.map(M=>c.jsxs("button",{onClick:()=>z(M),className:"w-full flex items-center gap-3 px-3 py-2 rounded hover:bg-zinc-100 dark:hover:bg-zinc-800 text-left transition-colors",children:[M.is_dir?c.jsx(Lu,{className:"size-5 text-blue-500 flex-shrink-0"}):c.jsx(gz,{className:"size-5 text-zinc-400 flex-shrink-0"}),c.jsx("span",{className:"flex-1 text-sm font-mono text-zinc-700 dark:text-zinc-300 truncate",children:M.name}),M.is_dir&&c.jsx(fl,{className:"size-4 text-zinc-400 flex-shrink-0"})]},M.path))})]}),c.jsxs("div",{className:"p-4 border-t border-zinc-200 dark:border-zinc-800 flex items-center justify-end gap-2",children:[c.jsx("button",{onClick:a,className:"px-4 py-2 text-sm rounded border border-zinc-300 dark:border-zinc-700 hover:bg-zinc-50 dark:hover:bg-zinc-800",children:"Cancel"}),c.jsx("button",{onClick:_,disabled:!p,className:"px-4 py-2 text-sm rounded bg-blue-600 text-white hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed",children:"Select This Folder"})]})]})})}const qh={};function p4(){const t=yi(),[r,a]=b.useState(""),[s,o]=b.useState(!1),[u,d]=b.useState(null),[f,h]=b.useState(!1),[p,v]=b.useState({}),y=vl(),w=typeof import.meta<"u"?qh==null?void 0:qh.VITE_ENABLE_FILE_BROWSER:void 0,x=w==="1"||String(w||"").toLowerCase()==="true",{data:j=[],isLoading:_}=yn({queryKey:["scanPaths"],queryFn:()=>it.getScanPaths(),enabled:y,refetchInterval:S=>!y||S.state.error?!1:3e4}),z=j.map(S=>typeof S=="string"?{path:S,is_default:!1,host_path:null}:S);b.useEffect(()=>{const S=async()=>{const W=z.map(async se=>{try{const J=await it.getPathStatus(se.path);return{path:se.path,status:J}}catch{return{path:se.path,status:{scanning:!1,watcher_paused:!1,watching:!1}}}}),K=await Promise.all(W),I={};K.forEach(({path:se,status:J})=>{I[se]=J}),v(I)};if(z.length>0&&y){S();const W=setInterval(S,2e3);return()=>clearInterval(W)}},[z,y]);const k="/host",C=cn({mutationFn:S=>it.addScanPath(S),onSuccess:()=>{t.invalidateQueries({queryKey:["scanPaths"]}),a("")}}),M=cn({mutationFn:S=>it.removeScanPath(S),onSuccess:()=>{t.invalidateQueries({queryKey:["scanPaths"]}),t.invalidateQueries({queryKey:["stats"]}),t.invalidateQueries({queryKey:["fileTypes"]}),t.invalidateQueries({queryKey:["assets"]}),o(!1),d(null)}}),A=cn({mutationFn:S=>it.scanPath(S),onSuccess:(S,W)=>{v(K=>({...K,[W]:{scanning:!0,watcher_paused:!1,watching:!0}})),t.invalidateQueries({queryKey:["stats"]}),z.forEach(async K=>{try{const I=await it.getPathStatus(K.path);v(se=>({...se,[K.path]:I}))}catch{}})}}),O=cn({mutationFn:S=>it.pausePath(S),onSuccess:(S,W)=>{v(K=>({...K,[W]:{scanning:!1,watcher_paused:!0,watching:!0}})),t.invalidateQueries({queryKey:["stats"]})}}),Q=()=>{r.trim()&&C.mutate(r.trim())},B=cn({mutationFn:async()=>{for(const S of z){const W=p[S.path];if(!(W!=null&&W.scanning||W!=null&&W.watching&&!(W!=null&&W.watcher_paused)))try{await it.scanPath(S.path),v(I=>({...I,[S.path]:{scanning:!0,watcher_paused:!1,watching:!0}}))}catch(I){console.error("Failed to run scan for path",S.path,I)}}},onSettled:()=>{t.invalidateQueries({queryKey:["stats"]}),t.invalidateQueries({queryKey:["scanPaths"]})}}),Z=Qe(S=>S.showDeleteConfirmation),P=S=>{Z?(d(S),o(!0)):M.mutate(S)},D=()=>{u&&M.mutate(u)},G=async()=>{if(x){h(!0);return}try{const{open:S}=await h4(async()=>{const{open:K}=await import("./tauriDialogStub-CsDCIdKk.js");return{open:K}},[]),W=await S({directory:!0,multiple:!1,title:"Select Folder to Scan"});if(W&&typeof W=="string"){a(W);return}return}catch(S){console.error("Tauri dialog not available:",S),alert(`Folder picker is not available in this build.

Please type an absolute path manually (e.g., C:\\\\Users\\\\YourName\\\\Pictures on Windows or /photos in Docker).`)}},T=S=>{a(S),h(!1)},U=S=>{const W=p[S];(W==null?void 0:W.scanning)||(W==null?void 0:W.watching)&&!(W!=null&&W.watcher_paused)?O.mutate(S):A.mutate(S)};return c.jsxs("section",{children:[c.jsxs("div",{className:"rounded-lg border border-zinc-200 dark:border-zinc-800 p-3 sm:p-4 bg-white dark:bg-zinc-900",children:[c.jsxs("div",{className:"flex gap-2 mb-3 sm:mb-4 flex-nowrap",children:[c.jsx("input",{type:"text",value:r,onChange:S=>a(S.target.value),onKeyDown:S=>{S.key==="Enter"&&Q()},placeholder:"Enter path to scan (e.g., /photos/subfolder)",className:"w-48 sm:flex-1 px-2.5 sm:px-3 py-1.5 sm:py-2 rounded-md border border-zinc-300 dark:border-zinc-700 bg-white dark:bg-zinc-800 text-sm outline-none focus:border-blue-500",disabled:C.isPending}),c.jsxs("button",{onClick:G,disabled:C.isPending,className:"px-2 sm:px-4 py-1.5 sm:py-2 border border-zinc-300 dark:border-zinc-700 rounded-md hover:bg-zinc-50 dark:hover:bg-zinc-800 disabled:opacity-50 disabled:cursor-not-allowed flex items-center gap-1.5 sm:gap-2 text-sm flex-shrink-0",title:"Browse folders",children:[c.jsx(xz,{className:"size-4"}),c.jsx("span",{className:"hidden sm:inline",children:"Browse"})]}),c.jsxs("div",{className:"flex gap-2 flex-shrink-0",children:[c.jsxs("button",{onClick:Q,disabled:!r.trim()||C.isPending,className:"px-2 sm:px-4 py-1.5 sm:py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed flex items-center gap-1.5 sm:gap-2 text-sm",children:[c.jsx(c1,{className:"size-4"}),c.jsx("span",{className:"hidden sm:inline",children:"Add"})]}),c.jsx("button",{onClick:()=>B.mutate(),disabled:B.isPending||z.length===0,className:"px-2 sm:px-4 py-1.5 sm:py-2 bg-emerald-600 text-white rounded-md hover:bg-emerald-700 disabled:opacity-50 disabled:cursor-not-allowed text-sm whitespace-nowrap",children:B.isPending?"Running...":"Run All"})]})]}),_?c.jsx("div",{className:"text-sm text-zinc-500 dark:text-zinc-400",children:"Loading paths..."}):z.length===0?c.jsx("div",{className:"text-sm text-zinc-500 dark:text-zinc-400",children:"No paths configured. Add a path to start scanning."}):c.jsx("div",{className:"space-y-2",children:z.map(S=>{var W,K,I,se,J,be,R,F,ee,ie,ue;return c.jsxs("div",{className:"flex items-center justify-between p-2 sm:p-3 rounded-md border border-zinc-200 dark:border-zinc-800 bg-zinc-50 dark:bg-zinc-800/50",children:[c.jsxs("div",{className:"flex flex-col gap-1 flex-1 min-w-0 mr-2",children:[c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("span",{className:"text-xs sm:text-sm font-mono text-zinc-700 dark:text-zinc-300 break-all",children:S.host_path||S.path}),S.is_default&&c.jsx("span",{className:"px-1.5 py-0.5 text-[10px] sm:text-xs font-medium rounded bg-blue-100 dark:bg-blue-900/30 text-blue-700 dark:text-blue-300 flex-shrink-0",children:"Default"})]}),S.host_path&&c.jsxs("span",{className:"text-[10px] sm:text-xs text-zinc-500 dark:text-zinc-400 font-mono break-all",children:["Mounted on container as: ",S.path]})]}),c.jsxs("div",{className:"flex items-center gap-1 sm:gap-2",children:[c.jsx("button",{onClick:()=>U(S.path),disabled:A.isPending||O.isPending,className:`p-1.5 sm:p-2 rounded-md transition-colors flex-shrink-0 disabled:opacity-50 ${(W=p[S.path])!=null&&W.scanning||(K=p[S.path])!=null&&K.watching&&!((I=p[S.path])!=null&&I.watcher_paused)?"text-orange-600 dark:text-orange-400 hover:bg-orange-50 dark:hover:bg-orange-900/20":"text-blue-600 dark:text-blue-400 hover:bg-blue-50 dark:hover:bg-blue-900/20"}`,title:(se=p[S.path])!=null&&se.scanning||(J=p[S.path])!=null&&J.watching&&!((be=p[S.path])!=null&&be.watcher_paused)?"Pause scanning and watcher for this path":(R=p[S.path])!=null&&R.watching&&((F=p[S.path])!=null&&F.watcher_paused)?"Resume scanning for this path":"Start scanning this path",children:(ee=p[S.path])!=null&&ee.scanning||(ie=p[S.path])!=null&&ie.watching&&!((ue=p[S.path])!=null&&ue.watcher_paused)?c.jsx(Oz,{className:"size-4 sm:size-5"}):c.jsx(Fz,{className:"size-4 sm:size-5"})}),c.jsx("button",{onClick:()=>P(S.path),disabled:M.isPending,className:"p-1.5 sm:p-2 text-red-600 dark:text-red-400 hover:bg-red-50 dark:hover:bg-red-900/20 rounded-md transition-colors flex-shrink-0 disabled:opacity-50",title:"Remove path and delete all assets from this path",children:c.jsx(qo,{className:"size-4 sm:size-5"})})]})]},S.path)})}),C.isError&&c.jsxs("div",{className:"mt-3 text-xs sm:text-sm text-red-600 dark:text-red-400",children:["Error: ",C.error instanceof Error?C.error.message:"Failed to add path"]})]}),c.jsx(ls,{isOpen:s,onClose:()=>{o(!1),d(null)},onConfirm:D,title:"Remove Scan Path",message:u?`Are you sure you want to remove the path "${u}"? This will permanently delete ALL assets from this path. This action cannot be undone.`:"",confirmText:M.isPending?"Removing...":"Remove Path",variant:"danger"}),f&&x&&c.jsx(m4,{currentPath:k,onPathSelect:T,onClose:()=>h(!1)})]})}function ku(t,r){return t==null||r==null?NaN:t<r?-1:t>r?1:t>=r?0:NaN}function g4(t,r){return t==null||r==null?NaN:r<t?-1:r>t?1:r>=t?0:NaN}function B1(t){let r,a,s;t.length!==2?(r=ku,a=(f,h)=>ku(t(f),h),s=(f,h)=>t(f)-h):(r=t===ku||t===g4?t:b4,a=t,s=t);function o(f,h,p=0,v=f.length){if(p<v){if(r(h,h)!==0)return v;do{const y=p+v>>>1;a(f[y],h)<0?p=y+1:v=y}while(p<v)}return p}function u(f,h,p=0,v=f.length){if(p<v){if(r(h,h)!==0)return v;do{const y=p+v>>>1;a(f[y],h)<=0?p=y+1:v=y}while(p<v)}return p}function d(f,h,p=0,v=f.length){const y=o(f,h,p,v-1);return y>p&&s(f[y-1],h)>-s(f[y],h)?y-1:y}return{left:o,center:d,right:u}}function b4(){return 0}function v4(t){return t===null?NaN:+t}const y4=B1(ku),x4=y4.right;B1(v4).center;const w4=Math.sqrt(50),_4=Math.sqrt(10),S4=Math.sqrt(2);function $u(t,r,a){const s=(r-t)/Math.max(0,a),o=Math.floor(Math.log10(s)),u=s/Math.pow(10,o),d=u>=w4?10:u>=_4?5:u>=S4?2:1;let f,h,p;return o<0?(p=Math.pow(10,-o)/d,f=Math.round(t*p),h=Math.round(r*p),f/p<t&&++f,h/p>r&&--h,p=-p):(p=Math.pow(10,o)*d,f=Math.round(t/p),h=Math.round(r/p),f*p<t&&++f,h*p>r&&--h),h<f&&.5<=a&&a<2?$u(t,r,a*2):[f,h,p]}function z4(t,r,a){if(r=+r,t=+t,a=+a,!(a>0))return[];if(t===r)return[t];const s=r<t,[o,u,d]=s?$u(r,t,a):$u(t,r,a);if(!(u>=o))return[];const f=u-o+1,h=new Array(f);if(s)if(d<0)for(let p=0;p<f;++p)h[p]=(u-p)/-d;else for(let p=0;p<f;++p)h[p]=(u-p)*d;else if(d<0)for(let p=0;p<f;++p)h[p]=(o+p)/-d;else for(let p=0;p<f;++p)h[p]=(o+p)*d;return h}function Om(t,r,a){return r=+r,t=+t,a=+a,$u(t,r,a)[2]}function k4(t,r,a){r=+r,t=+t,a=+a;const s=r<t,o=s?Om(r,t,a):Om(t,r,a);return(s?-1:1)*(o<0?1/-o:o)}var E4={value:()=>{}};function d0(){for(var t=0,r=arguments.length,a={},s;t<r;++t){if(!(s=arguments[t]+"")||s in a||/[\s.]/.test(s))throw new Error("illegal type: "+s);a[s]=[]}return new Eu(a)}function Eu(t){this._=t}function j4(t,r){return t.trim().split(/^|\s+/).map(function(a){var s="",o=a.indexOf(".");if(o>=0&&(s=a.slice(o+1),a=a.slice(0,o)),a&&!r.hasOwnProperty(a))throw new Error("unknown type: "+a);return{type:a,name:s}})}Eu.prototype=d0.prototype={constructor:Eu,on:function(t,r){var a=this._,s=j4(t+"",a),o,u=-1,d=s.length;if(arguments.length<2){for(;++u<d;)if((o=(t=s[u]).type)&&(o=N4(a[o],t.name)))return o;return}if(r!=null&&typeof r!="function")throw new Error("invalid callback: "+r);for(;++u<d;)if(o=(t=s[u]).type)a[o]=_y(a[o],t.name,r);else if(r==null)for(o in a)a[o]=_y(a[o],t.name,null);return this},copy:function(){var t={},r=this._;for(var a in r)t[a]=r[a].slice();return new Eu(t)},call:function(t,r){if((o=arguments.length-2)>0)for(var a=new Array(o),s=0,o,u;s<o;++s)a[s]=arguments[s+2];if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(u=this._[t],s=0,o=u.length;s<o;++s)u[s].value.apply(r,a)},apply:function(t,r,a){if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(var s=this._[t],o=0,u=s.length;o<u;++o)s[o].value.apply(r,a)}};function N4(t,r){for(var a=0,s=t.length,o;a<s;++a)if((o=t[a]).name===r)return o.value}function _y(t,r,a){for(var s=0,o=t.length;s<o;++s)if(t[s].name===r){t[s]=E4,t=t.slice(0,s).concat(t.slice(s+1));break}return a!=null&&t.push({name:r,value:a}),t}var Dm="http://www.w3.org/1999/xhtml";const Sy={svg:"http://www.w3.org/2000/svg",xhtml:Dm,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function hd(t){var r=t+="",a=r.indexOf(":");return a>=0&&(r=t.slice(0,a))!=="xmlns"&&(t=t.slice(a+1)),Sy.hasOwnProperty(r)?{space:Sy[r],local:t}:t}function C4(t){return function(){var r=this.ownerDocument,a=this.namespaceURI;return a===Dm&&r.documentElement.namespaceURI===Dm?r.createElement(t):r.createElementNS(a,t)}}function A4(t){return function(){return this.ownerDocument.createElementNS(t.space,t.local)}}function $1(t){var r=hd(t);return(r.local?A4:C4)(r)}function T4(){}function f0(t){return t==null?T4:function(){return this.querySelector(t)}}function M4(t){typeof t!="function"&&(t=f0(t));for(var r=this._groups,a=r.length,s=new Array(a),o=0;o<a;++o)for(var u=r[o],d=u.length,f=s[o]=new Array(d),h,p,v=0;v<d;++v)(h=u[v])&&(p=t.call(h,h.__data__,v,u))&&("__data__"in h&&(p.__data__=h.__data__),f[v]=p);return new Zn(s,this._parents)}function R4(t){return t==null?[]:Array.isArray(t)?t:Array.from(t)}function O4(){return[]}function H1(t){return t==null?O4:function(){return this.querySelectorAll(t)}}function D4(t){return function(){return R4(t.apply(this,arguments))}}function L4(t){typeof t=="function"?t=D4(t):t=H1(t);for(var r=this._groups,a=r.length,s=[],o=[],u=0;u<a;++u)for(var d=r[u],f=d.length,h,p=0;p<f;++p)(h=d[p])&&(s.push(t.call(h,h.__data__,p,d)),o.push(h));return new Zn(s,o)}function P1(t){return function(){return this.matches(t)}}function q1(t){return function(r){return r.matches(t)}}var F4=Array.prototype.find;function U4(t){return function(){return F4.call(this.children,t)}}function B4(){return this.firstElementChild}function $4(t){return this.select(t==null?B4:U4(typeof t=="function"?t:q1(t)))}var H4=Array.prototype.filter;function P4(){return Array.from(this.children)}function q4(t){return function(){return H4.call(this.children,t)}}function I4(t){return this.selectAll(t==null?P4:q4(typeof t=="function"?t:q1(t)))}function Y4(t){typeof t!="function"&&(t=P1(t));for(var r=this._groups,a=r.length,s=new Array(a),o=0;o<a;++o)for(var u=r[o],d=u.length,f=s[o]=[],h,p=0;p<d;++p)(h=u[p])&&t.call(h,h.__data__,p,u)&&f.push(h);return new Zn(s,this._parents)}function I1(t){return new Array(t.length)}function Q4(){return new Zn(this._enter||this._groups.map(I1),this._parents)}function Hu(t,r){this.ownerDocument=t.ownerDocument,this.namespaceURI=t.namespaceURI,this._next=null,this._parent=t,this.__data__=r}Hu.prototype={constructor:Hu,appendChild:function(t){return this._parent.insertBefore(t,this._next)},insertBefore:function(t,r){return this._parent.insertBefore(t,r)},querySelector:function(t){return this._parent.querySelector(t)},querySelectorAll:function(t){return this._parent.querySelectorAll(t)}};function G4(t){return function(){return t}}function Z4(t,r,a,s,o,u){for(var d=0,f,h=r.length,p=u.length;d<p;++d)(f=r[d])?(f.__data__=u[d],s[d]=f):a[d]=new Hu(t,u[d]);for(;d<h;++d)(f=r[d])&&(o[d]=f)}function K4(t,r,a,s,o,u,d){var f,h,p=new Map,v=r.length,y=u.length,w=new Array(v),x;for(f=0;f<v;++f)(h=r[f])&&(w[f]=x=d.call(h,h.__data__,f,r)+"",p.has(x)?o[f]=h:p.set(x,h));for(f=0;f<y;++f)x=d.call(t,u[f],f,u)+"",(h=p.get(x))?(s[f]=h,h.__data__=u[f],p.delete(x)):a[f]=new Hu(t,u[f]);for(f=0;f<v;++f)(h=r[f])&&p.get(w[f])===h&&(o[f]=h)}function X4(t){return t.__data__}function V4(t,r){if(!arguments.length)return Array.from(this,X4);var a=r?K4:Z4,s=this._parents,o=this._groups;typeof t!="function"&&(t=G4(t));for(var u=o.length,d=new Array(u),f=new Array(u),h=new Array(u),p=0;p<u;++p){var v=s[p],y=o[p],w=y.length,x=W4(t.call(v,v&&v.__data__,p,s)),j=x.length,_=f[p]=new Array(j),z=d[p]=new Array(j),k=h[p]=new Array(w);a(v,y,_,z,k,x,r);for(var C=0,M=0,A,O;C<j;++C)if(A=_[C]){for(C>=M&&(M=C+1);!(O=z[M])&&++M<j;);A._next=O||null}}return d=new Zn(d,s),d._enter=f,d._exit=h,d}function W4(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function J4(){return new Zn(this._exit||this._groups.map(I1),this._parents)}function eE(t,r,a){var s=this.enter(),o=this,u=this.exit();return typeof t=="function"?(s=t(s),s&&(s=s.selection())):s=s.append(t+""),r!=null&&(o=r(o),o&&(o=o.selection())),a==null?u.remove():a(u),s&&o?s.merge(o).order():o}function tE(t){for(var r=t.selection?t.selection():t,a=this._groups,s=r._groups,o=a.length,u=s.length,d=Math.min(o,u),f=new Array(o),h=0;h<d;++h)for(var p=a[h],v=s[h],y=p.length,w=f[h]=new Array(y),x,j=0;j<y;++j)(x=p[j]||v[j])&&(w[j]=x);for(;h<o;++h)f[h]=a[h];return new Zn(f,this._parents)}function nE(){for(var t=this._groups,r=-1,a=t.length;++r<a;)for(var s=t[r],o=s.length-1,u=s[o],d;--o>=0;)(d=s[o])&&(u&&d.compareDocumentPosition(u)^4&&u.parentNode.insertBefore(d,u),u=d);return this}function rE(t){t||(t=aE);function r(y,w){return y&&w?t(y.__data__,w.__data__):!y-!w}for(var a=this._groups,s=a.length,o=new Array(s),u=0;u<s;++u){for(var d=a[u],f=d.length,h=o[u]=new Array(f),p,v=0;v<f;++v)(p=d[v])&&(h[v]=p);h.sort(r)}return new Zn(o,this._parents).order()}function aE(t,r){return t<r?-1:t>r?1:t>=r?0:NaN}function iE(){var t=arguments[0];return arguments[0]=this,t.apply(null,arguments),this}function sE(){return Array.from(this)}function lE(){for(var t=this._groups,r=0,a=t.length;r<a;++r)for(var s=t[r],o=0,u=s.length;o<u;++o){var d=s[o];if(d)return d}return null}function oE(){let t=0;for(const r of this)++t;return t}function cE(){return!this.node()}function uE(t){for(var r=this._groups,a=0,s=r.length;a<s;++a)for(var o=r[a],u=0,d=o.length,f;u<d;++u)(f=o[u])&&t.call(f,f.__data__,u,o);return this}function dE(t){return function(){this.removeAttribute(t)}}function fE(t){return function(){this.removeAttributeNS(t.space,t.local)}}function hE(t,r){return function(){this.setAttribute(t,r)}}function mE(t,r){return function(){this.setAttributeNS(t.space,t.local,r)}}function pE(t,r){return function(){var a=r.apply(this,arguments);a==null?this.removeAttribute(t):this.setAttribute(t,a)}}function gE(t,r){return function(){var a=r.apply(this,arguments);a==null?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,a)}}function bE(t,r){var a=hd(t);if(arguments.length<2){var s=this.node();return a.local?s.getAttributeNS(a.space,a.local):s.getAttribute(a)}return this.each((r==null?a.local?fE:dE:typeof r=="function"?a.local?gE:pE:a.local?mE:hE)(a,r))}function Y1(t){return t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView}function vE(t){return function(){this.style.removeProperty(t)}}function yE(t,r,a){return function(){this.style.setProperty(t,r,a)}}function xE(t,r,a){return function(){var s=r.apply(this,arguments);s==null?this.style.removeProperty(t):this.style.setProperty(t,s,a)}}function wE(t,r,a){return arguments.length>1?this.each((r==null?vE:typeof r=="function"?xE:yE)(t,r,a==null?"":a)):hl(this.node(),t)}function hl(t,r){return t.style.getPropertyValue(r)||Y1(t).getComputedStyle(t,null).getPropertyValue(r)}function _E(t){return function(){delete this[t]}}function SE(t,r){return function(){this[t]=r}}function zE(t,r){return function(){var a=r.apply(this,arguments);a==null?delete this[t]:this[t]=a}}function kE(t,r){return arguments.length>1?this.each((r==null?_E:typeof r=="function"?zE:SE)(t,r)):this.node()[t]}function Q1(t){return t.trim().split(/^|\s+/)}function h0(t){return t.classList||new G1(t)}function G1(t){this._node=t,this._names=Q1(t.getAttribute("class")||"")}G1.prototype={add:function(t){var r=this._names.indexOf(t);r<0&&(this._names.push(t),this._node.setAttribute("class",this._names.join(" ")))},remove:function(t){var r=this._names.indexOf(t);r>=0&&(this._names.splice(r,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(t){return this._names.indexOf(t)>=0}};function Z1(t,r){for(var a=h0(t),s=-1,o=r.length;++s<o;)a.add(r[s])}function K1(t,r){for(var a=h0(t),s=-1,o=r.length;++s<o;)a.remove(r[s])}function EE(t){return function(){Z1(this,t)}}function jE(t){return function(){K1(this,t)}}function NE(t,r){return function(){(r.apply(this,arguments)?Z1:K1)(this,t)}}function CE(t,r){var a=Q1(t+"");if(arguments.length<2){for(var s=h0(this.node()),o=-1,u=a.length;++o<u;)if(!s.contains(a[o]))return!1;return!0}return this.each((typeof r=="function"?NE:r?EE:jE)(a,r))}function AE(){this.textContent=""}function TE(t){return function(){this.textContent=t}}function ME(t){return function(){var r=t.apply(this,arguments);this.textContent=r==null?"":r}}function RE(t){return arguments.length?this.each(t==null?AE:(typeof t=="function"?ME:TE)(t)):this.node().textContent}function OE(){this.innerHTML=""}function DE(t){return function(){this.innerHTML=t}}function LE(t){return function(){var r=t.apply(this,arguments);this.innerHTML=r==null?"":r}}function FE(t){return arguments.length?this.each(t==null?OE:(typeof t=="function"?LE:DE)(t)):this.node().innerHTML}function UE(){this.nextSibling&&this.parentNode.appendChild(this)}function BE(){return this.each(UE)}function $E(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function HE(){return this.each($E)}function PE(t){var r=typeof t=="function"?t:$1(t);return this.select(function(){return this.appendChild(r.apply(this,arguments))})}function qE(){return null}function IE(t,r){var a=typeof t=="function"?t:$1(t),s=r==null?qE:typeof r=="function"?r:f0(r);return this.select(function(){return this.insertBefore(a.apply(this,arguments),s.apply(this,arguments)||null)})}function YE(){var t=this.parentNode;t&&t.removeChild(this)}function QE(){return this.each(YE)}function GE(){var t=this.cloneNode(!1),r=this.parentNode;return r?r.insertBefore(t,this.nextSibling):t}function ZE(){var t=this.cloneNode(!0),r=this.parentNode;return r?r.insertBefore(t,this.nextSibling):t}function KE(t){return this.select(t?ZE:GE)}function XE(t){return arguments.length?this.property("__data__",t):this.node().__data__}function VE(t){return function(r){t.call(this,r,this.__data__)}}function WE(t){return t.trim().split(/^|\s+/).map(function(r){var a="",s=r.indexOf(".");return s>=0&&(a=r.slice(s+1),r=r.slice(0,s)),{type:r,name:a}})}function JE(t){return function(){var r=this.__on;if(r){for(var a=0,s=-1,o=r.length,u;a<o;++a)u=r[a],(!t.type||u.type===t.type)&&u.name===t.name?this.removeEventListener(u.type,u.listener,u.options):r[++s]=u;++s?r.length=s:delete this.__on}}}function ej(t,r,a){return function(){var s=this.__on,o,u=VE(r);if(s){for(var d=0,f=s.length;d<f;++d)if((o=s[d]).type===t.type&&o.name===t.name){this.removeEventListener(o.type,o.listener,o.options),this.addEventListener(o.type,o.listener=u,o.options=a),o.value=r;return}}this.addEventListener(t.type,u,a),o={type:t.type,name:t.name,value:r,listener:u,options:a},s?s.push(o):this.__on=[o]}}function tj(t,r,a){var s=WE(t+""),o,u=s.length,d;if(arguments.length<2){var f=this.node().__on;if(f){for(var h=0,p=f.length,v;h<p;++h)for(o=0,v=f[h];o<u;++o)if((d=s[o]).type===v.type&&d.name===v.name)return v.value}return}for(f=r?ej:JE,o=0;o<u;++o)this.each(f(s[o],r,a));return this}function X1(t,r,a){var s=Y1(t),o=s.CustomEvent;typeof o=="function"?o=new o(r,a):(o=s.document.createEvent("Event"),a?(o.initEvent(r,a.bubbles,a.cancelable),o.detail=a.detail):o.initEvent(r,!1,!1)),t.dispatchEvent(o)}function nj(t,r){return function(){return X1(this,t,r)}}function rj(t,r){return function(){return X1(this,t,r.apply(this,arguments))}}function aj(t,r){return this.each((typeof r=="function"?rj:nj)(t,r))}function*ij(){for(var t=this._groups,r=0,a=t.length;r<a;++r)for(var s=t[r],o=0,u=s.length,d;o<u;++o)(d=s[o])&&(yield d)}var V1=[null];function Zn(t,r){this._groups=t,this._parents=r}function Go(){return new Zn([[document.documentElement]],V1)}function sj(){return this}Zn.prototype=Go.prototype={constructor:Zn,select:M4,selectAll:L4,selectChild:$4,selectChildren:I4,filter:Y4,data:V4,enter:Q4,exit:J4,join:eE,merge:tE,selection:sj,order:nE,sort:rE,call:iE,nodes:sE,node:lE,size:oE,empty:cE,each:uE,attr:bE,style:wE,property:kE,classed:CE,text:RE,html:FE,raise:BE,lower:HE,append:PE,insert:IE,remove:QE,clone:KE,datum:XE,on:tj,dispatch:aj,[Symbol.iterator]:ij};function Ja(t){return typeof t=="string"?new Zn([[document.querySelector(t)]],[document.documentElement]):new Zn([[t]],V1)}function lj(t){let r;for(;r=t.sourceEvent;)t=r;return t}function hu(t,r){if(t=lj(t),r===void 0&&(r=t.currentTarget),r){var a=r.ownerSVGElement||r;if(a.createSVGPoint){var s=a.createSVGPoint();return s.x=t.clientX,s.y=t.clientY,s=s.matrixTransform(r.getScreenCTM().inverse()),[s.x,s.y]}if(r.getBoundingClientRect){var o=r.getBoundingClientRect();return[t.clientX-o.left-r.clientLeft,t.clientY-o.top-r.clientTop]}}return[t.pageX,t.pageY]}function m0(t,r,a){t.prototype=r.prototype=a,a.constructor=t}function W1(t,r){var a=Object.create(t.prototype);for(var s in r)a[s]=r[s];return a}function Zo(){}var No=.7,Pu=1/No,Ks="\\s*([+-]?\\d+)\\s*",Co="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Dr="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",oj=/^#([0-9a-f]{3,8})$/,cj=new RegExp(`^rgb\\(${Ks},${Ks},${Ks}\\)$`),uj=new RegExp(`^rgb\\(${Dr},${Dr},${Dr}\\)$`),dj=new RegExp(`^rgba\\(${Ks},${Ks},${Ks},${Co}\\)$`),fj=new RegExp(`^rgba\\(${Dr},${Dr},${Dr},${Co}\\)$`),hj=new RegExp(`^hsl\\(${Co},${Dr},${Dr}\\)$`),mj=new RegExp(`^hsla\\(${Co},${Dr},${Dr},${Co}\\)$`),zy={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};m0(Zo,os,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:ky,formatHex:ky,formatHex8:pj,formatHsl:gj,formatRgb:Ey,toString:Ey});function ky(){return this.rgb().formatHex()}function pj(){return this.rgb().formatHex8()}function gj(){return J1(this).formatHsl()}function Ey(){return this.rgb().formatRgb()}function os(t){var r,a;return t=(t+"").trim().toLowerCase(),(r=oj.exec(t))?(a=r[1].length,r=parseInt(r[1],16),a===6?jy(r):a===3?new Fn(r>>8&15|r>>4&240,r>>4&15|r&240,(r&15)<<4|r&15,1):a===8?mu(r>>24&255,r>>16&255,r>>8&255,(r&255)/255):a===4?mu(r>>12&15|r>>8&240,r>>8&15|r>>4&240,r>>4&15|r&240,((r&15)<<4|r&15)/255):null):(r=cj.exec(t))?new Fn(r[1],r[2],r[3],1):(r=uj.exec(t))?new Fn(r[1]*255/100,r[2]*255/100,r[3]*255/100,1):(r=dj.exec(t))?mu(r[1],r[2],r[3],r[4]):(r=fj.exec(t))?mu(r[1]*255/100,r[2]*255/100,r[3]*255/100,r[4]):(r=hj.exec(t))?Ay(r[1],r[2]/100,r[3]/100,1):(r=mj.exec(t))?Ay(r[1],r[2]/100,r[3]/100,r[4]):zy.hasOwnProperty(t)?jy(zy[t]):t==="transparent"?new Fn(NaN,NaN,NaN,0):null}function jy(t){return new Fn(t>>16&255,t>>8&255,t&255,1)}function mu(t,r,a,s){return s<=0&&(t=r=a=NaN),new Fn(t,r,a,s)}function bj(t){return t instanceof Zo||(t=os(t)),t?(t=t.rgb(),new Fn(t.r,t.g,t.b,t.opacity)):new Fn}function Lm(t,r,a,s){return arguments.length===1?bj(t):new Fn(t,r,a,s==null?1:s)}function Fn(t,r,a,s){this.r=+t,this.g=+r,this.b=+a,this.opacity=+s}m0(Fn,Lm,W1(Zo,{brighter(t){return t=t==null?Pu:Math.pow(Pu,t),new Fn(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?No:Math.pow(No,t),new Fn(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new Fn(rs(this.r),rs(this.g),rs(this.b),qu(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:Ny,formatHex:Ny,formatHex8:vj,formatRgb:Cy,toString:Cy}));function Ny(){return`#${Qi(this.r)}${Qi(this.g)}${Qi(this.b)}`}function vj(){return`#${Qi(this.r)}${Qi(this.g)}${Qi(this.b)}${Qi((isNaN(this.opacity)?1:this.opacity)*255)}`}function Cy(){const t=qu(this.opacity);return`${t===1?"rgb(":"rgba("}${rs(this.r)}, ${rs(this.g)}, ${rs(this.b)}${t===1?")":`, ${t})`}`}function qu(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function rs(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function Qi(t){return t=rs(t),(t<16?"0":"")+t.toString(16)}function Ay(t,r,a,s){return s<=0?t=r=a=NaN:a<=0||a>=1?t=r=NaN:r<=0&&(t=NaN),new br(t,r,a,s)}function J1(t){if(t instanceof br)return new br(t.h,t.s,t.l,t.opacity);if(t instanceof Zo||(t=os(t)),!t)return new br;if(t instanceof br)return t;t=t.rgb();var r=t.r/255,a=t.g/255,s=t.b/255,o=Math.min(r,a,s),u=Math.max(r,a,s),d=NaN,f=u-o,h=(u+o)/2;return f?(r===u?d=(a-s)/f+(a<s)*6:a===u?d=(s-r)/f+2:d=(r-a)/f+4,f/=h<.5?u+o:2-u-o,d*=60):f=h>0&&h<1?0:d,new br(d,f,h,t.opacity)}function yj(t,r,a,s){return arguments.length===1?J1(t):new br(t,r,a,s==null?1:s)}function br(t,r,a,s){this.h=+t,this.s=+r,this.l=+a,this.opacity=+s}m0(br,yj,W1(Zo,{brighter(t){return t=t==null?Pu:Math.pow(Pu,t),new br(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?No:Math.pow(No,t),new br(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,r=isNaN(t)||isNaN(this.s)?0:this.s,a=this.l,s=a+(a<.5?a:1-a)*r,o=2*a-s;return new Fn(Ih(t>=240?t-240:t+120,o,s),Ih(t,o,s),Ih(t<120?t+240:t-120,o,s),this.opacity)},clamp(){return new br(Ty(this.h),pu(this.s),pu(this.l),qu(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=qu(this.opacity);return`${t===1?"hsl(":"hsla("}${Ty(this.h)}, ${pu(this.s)*100}%, ${pu(this.l)*100}%${t===1?")":`, ${t})`}`}}));function Ty(t){return t=(t||0)%360,t<0?t+360:t}function pu(t){return Math.max(0,Math.min(1,t||0))}function Ih(t,r,a){return(t<60?r+(a-r)*t/60:t<180?a:t<240?r+(a-r)*(240-t)/60:r)*255}const p0=t=>()=>t;function xj(t,r){return function(a){return t+a*r}}function wj(t,r,a){return t=Math.pow(t,a),r=Math.pow(r,a)-t,a=1/a,function(s){return Math.pow(t+s*r,a)}}function _j(t){return(t=+t)==1?e2:function(r,a){return a-r?wj(r,a,t):p0(isNaN(r)?a:r)}}function e2(t,r){var a=r-t;return a?xj(t,a):p0(isNaN(t)?r:t)}const Iu=(function t(r){var a=_j(r);function s(o,u){var d=a((o=Lm(o)).r,(u=Lm(u)).r),f=a(o.g,u.g),h=a(o.b,u.b),p=e2(o.opacity,u.opacity);return function(v){return o.r=d(v),o.g=f(v),o.b=h(v),o.opacity=p(v),o+""}}return s.gamma=t,s})(1);function Sj(t,r){r||(r=[]);var a=t?Math.min(r.length,t.length):0,s=r.slice(),o;return function(u){for(o=0;o<a;++o)s[o]=t[o]*(1-u)+r[o]*u;return s}}function zj(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function kj(t,r){var a=r?r.length:0,s=t?Math.min(a,t.length):0,o=new Array(s),u=new Array(a),d;for(d=0;d<s;++d)o[d]=g0(t[d],r[d]);for(;d<a;++d)u[d]=r[d];return function(f){for(d=0;d<s;++d)u[d]=o[d](f);return u}}function Ej(t,r){var a=new Date;return t=+t,r=+r,function(s){return a.setTime(t*(1-s)+r*s),a}}function gr(t,r){return t=+t,r=+r,function(a){return t*(1-a)+r*a}}function jj(t,r){var a={},s={},o;(t===null||typeof t!="object")&&(t={}),(r===null||typeof r!="object")&&(r={});for(o in r)o in t?a[o]=g0(t[o],r[o]):s[o]=r[o];return function(u){for(o in a)s[o]=a[o](u);return s}}var Fm=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Yh=new RegExp(Fm.source,"g");function Nj(t){return function(){return t}}function Cj(t){return function(r){return t(r)+""}}function t2(t,r){var a=Fm.lastIndex=Yh.lastIndex=0,s,o,u,d=-1,f=[],h=[];for(t=t+"",r=r+"";(s=Fm.exec(t))&&(o=Yh.exec(r));)(u=o.index)>a&&(u=r.slice(a,u),f[d]?f[d]+=u:f[++d]=u),(s=s[0])===(o=o[0])?f[d]?f[d]+=o:f[++d]=o:(f[++d]=null,h.push({i:d,x:gr(s,o)})),a=Yh.lastIndex;return a<r.length&&(u=r.slice(a),f[d]?f[d]+=u:f[++d]=u),f.length<2?h[0]?Cj(h[0].x):Nj(r):(r=h.length,function(p){for(var v=0,y;v<r;++v)f[(y=h[v]).i]=y.x(p);return f.join("")})}function g0(t,r){var a=typeof r,s;return r==null||a==="boolean"?p0(r):(a==="number"?gr:a==="string"?(s=os(r))?(r=s,Iu):t2:r instanceof os?Iu:r instanceof Date?Ej:zj(r)?Sj:Array.isArray(r)?kj:typeof r.valueOf!="function"&&typeof r.toString!="function"||isNaN(r)?jj:gr)(t,r)}function Aj(t,r){return t=+t,r=+r,function(a){return Math.round(t*(1-a)+r*a)}}var My=180/Math.PI,Um={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function n2(t,r,a,s,o,u){var d,f,h;return(d=Math.sqrt(t*t+r*r))&&(t/=d,r/=d),(h=t*a+r*s)&&(a-=t*h,s-=r*h),(f=Math.sqrt(a*a+s*s))&&(a/=f,s/=f,h/=f),t*s<r*a&&(t=-t,r=-r,h=-h,d=-d),{translateX:o,translateY:u,rotate:Math.atan2(r,t)*My,skewX:Math.atan(h)*My,scaleX:d,scaleY:f}}var gu;function Tj(t){const r=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(t+"");return r.isIdentity?Um:n2(r.a,r.b,r.c,r.d,r.e,r.f)}function Mj(t){return t==null||(gu||(gu=document.createElementNS("http://www.w3.org/2000/svg","g")),gu.setAttribute("transform",t),!(t=gu.transform.baseVal.consolidate()))?Um:(t=t.matrix,n2(t.a,t.b,t.c,t.d,t.e,t.f))}function r2(t,r,a,s){function o(p){return p.length?p.pop()+" ":""}function u(p,v,y,w,x,j){if(p!==y||v!==w){var _=x.push("translate(",null,r,null,a);j.push({i:_-4,x:gr(p,y)},{i:_-2,x:gr(v,w)})}else(y||w)&&x.push("translate("+y+r+w+a)}function d(p,v,y,w){p!==v?(p-v>180?v+=360:v-p>180&&(p+=360),w.push({i:y.push(o(y)+"rotate(",null,s)-2,x:gr(p,v)})):v&&y.push(o(y)+"rotate("+v+s)}function f(p,v,y,w){p!==v?w.push({i:y.push(o(y)+"skewX(",null,s)-2,x:gr(p,v)}):v&&y.push(o(y)+"skewX("+v+s)}function h(p,v,y,w,x,j){if(p!==y||v!==w){var _=x.push(o(x)+"scale(",null,",",null,")");j.push({i:_-4,x:gr(p,y)},{i:_-2,x:gr(v,w)})}else(y!==1||w!==1)&&x.push(o(x)+"scale("+y+","+w+")")}return function(p,v){var y=[],w=[];return p=t(p),v=t(v),u(p.translateX,p.translateY,v.translateX,v.translateY,y,w),d(p.rotate,v.rotate,y,w),f(p.skewX,v.skewX,y,w),h(p.scaleX,p.scaleY,v.scaleX,v.scaleY,y,w),p=v=null,function(x){for(var j=-1,_=w.length,z;++j<_;)y[(z=w[j]).i]=z.x(x);return y.join("")}}}var Rj=r2(Tj,"px, ","px)","deg)"),Oj=r2(Mj,", ",")",")"),ml=0,vo=0,co=0,a2=1e3,Yu,yo,Qu=0,cs=0,md=0,Ao=typeof performance=="object"&&performance.now?performance:Date,i2=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(t){setTimeout(t,17)};function b0(){return cs||(i2(Dj),cs=Ao.now()+md)}function Dj(){cs=0}function Gu(){this._call=this._time=this._next=null}Gu.prototype=v0.prototype={constructor:Gu,restart:function(t,r,a){if(typeof t!="function")throw new TypeError("callback is not a function");a=(a==null?b0():+a)+(r==null?0:+r),!this._next&&yo!==this&&(yo?yo._next=this:Yu=this,yo=this),this._call=t,this._time=a,Bm()},stop:function(){this._call&&(this._call=null,this._time=1/0,Bm())}};function v0(t,r,a){var s=new Gu;return s.restart(t,r,a),s}function Lj(){b0(),++ml;for(var t=Yu,r;t;)(r=cs-t._time)>=0&&t._call.call(void 0,r),t=t._next;--ml}function Ry(){cs=(Qu=Ao.now())+md,ml=vo=0;try{Lj()}finally{ml=0,Uj(),cs=0}}function Fj(){var t=Ao.now(),r=t-Qu;r>a2&&(md-=r,Qu=t)}function Uj(){for(var t,r=Yu,a,s=1/0;r;)r._call?(s>r._time&&(s=r._time),t=r,r=r._next):(a=r._next,r._next=null,r=t?t._next=a:Yu=a);yo=t,Bm(s)}function Bm(t){if(!ml){vo&&(vo=clearTimeout(vo));var r=t-cs;r>24?(t<1/0&&(vo=setTimeout(Ry,t-Ao.now()-md)),co&&(co=clearInterval(co))):(co||(Qu=Ao.now(),co=setInterval(Fj,a2)),ml=1,i2(Ry))}}function Oy(t,r,a){var s=new Gu;return r=r==null?0:+r,s.restart(o=>{s.stop(),t(o+r)},r,a),s}var Bj=d0("start","end","cancel","interrupt"),$j=[],s2=0,Dy=1,$m=2,ju=3,Ly=4,Hm=5,Nu=6;function pd(t,r,a,s,o,u){var d=t.__transition;if(!d)t.__transition={};else if(a in d)return;Hj(t,a,{name:r,index:s,group:o,on:Bj,tween:$j,time:u.time,delay:u.delay,duration:u.duration,ease:u.ease,timer:null,state:s2})}function y0(t,r){var a=_r(t,r);if(a.state>s2)throw new Error("too late; already scheduled");return a}function Ur(t,r){var a=_r(t,r);if(a.state>ju)throw new Error("too late; already running");return a}function _r(t,r){var a=t.__transition;if(!a||!(a=a[r]))throw new Error("transition not found");return a}function Hj(t,r,a){var s=t.__transition,o;s[r]=a,a.timer=v0(u,0,a.time);function u(p){a.state=Dy,a.timer.restart(d,a.delay,a.time),a.delay<=p&&d(p-a.delay)}function d(p){var v,y,w,x;if(a.state!==Dy)return h();for(v in s)if(x=s[v],x.name===a.name){if(x.state===ju)return Oy(d);x.state===Ly?(x.state=Nu,x.timer.stop(),x.on.call("interrupt",t,t.__data__,x.index,x.group),delete s[v]):+v<r&&(x.state=Nu,x.timer.stop(),x.on.call("cancel",t,t.__data__,x.index,x.group),delete s[v])}if(Oy(function(){a.state===ju&&(a.state=Ly,a.timer.restart(f,a.delay,a.time),f(p))}),a.state=$m,a.on.call("start",t,t.__data__,a.index,a.group),a.state===$m){for(a.state=ju,o=new Array(w=a.tween.length),v=0,y=-1;v<w;++v)(x=a.tween[v].value.call(t,t.__data__,a.index,a.group))&&(o[++y]=x);o.length=y+1}}function f(p){for(var v=p<a.duration?a.ease.call(null,p/a.duration):(a.timer.restart(h),a.state=Hm,1),y=-1,w=o.length;++y<w;)o[y].call(t,v);a.state===Hm&&(a.on.call("end",t,t.__data__,a.index,a.group),h())}function h(){a.state=Nu,a.timer.stop(),delete s[r];for(var p in s)return;delete t.__transition}}function Pj(t,r){var a=t.__transition,s,o,u=!0,d;if(a){r=r==null?null:r+"";for(d in a){if((s=a[d]).name!==r){u=!1;continue}o=s.state>$m&&s.state<Hm,s.state=Nu,s.timer.stop(),s.on.call(o?"interrupt":"cancel",t,t.__data__,s.index,s.group),delete a[d]}u&&delete t.__transition}}function qj(t){return this.each(function(){Pj(this,t)})}function Ij(t,r){var a,s;return function(){var o=Ur(this,t),u=o.tween;if(u!==a){s=a=u;for(var d=0,f=s.length;d<f;++d)if(s[d].name===r){s=s.slice(),s.splice(d,1);break}}o.tween=s}}function Yj(t,r,a){var s,o;if(typeof a!="function")throw new Error;return function(){var u=Ur(this,t),d=u.tween;if(d!==s){o=(s=d).slice();for(var f={name:r,value:a},h=0,p=o.length;h<p;++h)if(o[h].name===r){o[h]=f;break}h===p&&o.push(f)}u.tween=o}}function Qj(t,r){var a=this._id;if(t+="",arguments.length<2){for(var s=_r(this.node(),a).tween,o=0,u=s.length,d;o<u;++o)if((d=s[o]).name===t)return d.value;return null}return this.each((r==null?Ij:Yj)(a,t,r))}function x0(t,r,a){var s=t._id;return t.each(function(){var o=Ur(this,s);(o.value||(o.value={}))[r]=a.apply(this,arguments)}),function(o){return _r(o,s).value[r]}}function l2(t,r){var a;return(typeof r=="number"?gr:r instanceof os?Iu:(a=os(r))?(r=a,Iu):t2)(t,r)}function Gj(t){return function(){this.removeAttribute(t)}}function Zj(t){return function(){this.removeAttributeNS(t.space,t.local)}}function Kj(t,r,a){var s,o=a+"",u;return function(){var d=this.getAttribute(t);return d===o?null:d===s?u:u=r(s=d,a)}}function Xj(t,r,a){var s,o=a+"",u;return function(){var d=this.getAttributeNS(t.space,t.local);return d===o?null:d===s?u:u=r(s=d,a)}}function Vj(t,r,a){var s,o,u;return function(){var d,f=a(this),h;return f==null?void this.removeAttribute(t):(d=this.getAttribute(t),h=f+"",d===h?null:d===s&&h===o?u:(o=h,u=r(s=d,f)))}}function Wj(t,r,a){var s,o,u;return function(){var d,f=a(this),h;return f==null?void this.removeAttributeNS(t.space,t.local):(d=this.getAttributeNS(t.space,t.local),h=f+"",d===h?null:d===s&&h===o?u:(o=h,u=r(s=d,f)))}}function Jj(t,r){var a=hd(t),s=a==="transform"?Oj:l2;return this.attrTween(t,typeof r=="function"?(a.local?Wj:Vj)(a,s,x0(this,"attr."+t,r)):r==null?(a.local?Zj:Gj)(a):(a.local?Xj:Kj)(a,s,r))}function eN(t,r){return function(a){this.setAttribute(t,r.call(this,a))}}function tN(t,r){return function(a){this.setAttributeNS(t.space,t.local,r.call(this,a))}}function nN(t,r){var a,s;function o(){var u=r.apply(this,arguments);return u!==s&&(a=(s=u)&&tN(t,u)),a}return o._value=r,o}function rN(t,r){var a,s;function o(){var u=r.apply(this,arguments);return u!==s&&(a=(s=u)&&eN(t,u)),a}return o._value=r,o}function aN(t,r){var a="attr."+t;if(arguments.length<2)return(a=this.tween(a))&&a._value;if(r==null)return this.tween(a,null);if(typeof r!="function")throw new Error;var s=hd(t);return this.tween(a,(s.local?nN:rN)(s,r))}function iN(t,r){return function(){y0(this,t).delay=+r.apply(this,arguments)}}function sN(t,r){return r=+r,function(){y0(this,t).delay=r}}function lN(t){var r=this._id;return arguments.length?this.each((typeof t=="function"?iN:sN)(r,t)):_r(this.node(),r).delay}function oN(t,r){return function(){Ur(this,t).duration=+r.apply(this,arguments)}}function cN(t,r){return r=+r,function(){Ur(this,t).duration=r}}function uN(t){var r=this._id;return arguments.length?this.each((typeof t=="function"?oN:cN)(r,t)):_r(this.node(),r).duration}function dN(t,r){if(typeof r!="function")throw new Error;return function(){Ur(this,t).ease=r}}function fN(t){var r=this._id;return arguments.length?this.each(dN(r,t)):_r(this.node(),r).ease}function hN(t,r){return function(){var a=r.apply(this,arguments);if(typeof a!="function")throw new Error;Ur(this,t).ease=a}}function mN(t){if(typeof t!="function")throw new Error;return this.each(hN(this._id,t))}function pN(t){typeof t!="function"&&(t=P1(t));for(var r=this._groups,a=r.length,s=new Array(a),o=0;o<a;++o)for(var u=r[o],d=u.length,f=s[o]=[],h,p=0;p<d;++p)(h=u[p])&&t.call(h,h.__data__,p,u)&&f.push(h);return new ka(s,this._parents,this._name,this._id)}function gN(t){if(t._id!==this._id)throw new Error;for(var r=this._groups,a=t._groups,s=r.length,o=a.length,u=Math.min(s,o),d=new Array(s),f=0;f<u;++f)for(var h=r[f],p=a[f],v=h.length,y=d[f]=new Array(v),w,x=0;x<v;++x)(w=h[x]||p[x])&&(y[x]=w);for(;f<s;++f)d[f]=r[f];return new ka(d,this._parents,this._name,this._id)}function bN(t){return(t+"").trim().split(/^|\s+/).every(function(r){var a=r.indexOf(".");return a>=0&&(r=r.slice(0,a)),!r||r==="start"})}function vN(t,r,a){var s,o,u=bN(r)?y0:Ur;return function(){var d=u(this,t),f=d.on;f!==s&&(o=(s=f).copy()).on(r,a),d.on=o}}function yN(t,r){var a=this._id;return arguments.length<2?_r(this.node(),a).on.on(t):this.each(vN(a,t,r))}function xN(t){return function(){var r=this.parentNode;for(var a in this.__transition)if(+a!==t)return;r&&r.removeChild(this)}}function wN(){return this.on("end.remove",xN(this._id))}function _N(t){var r=this._name,a=this._id;typeof t!="function"&&(t=f0(t));for(var s=this._groups,o=s.length,u=new Array(o),d=0;d<o;++d)for(var f=s[d],h=f.length,p=u[d]=new Array(h),v,y,w=0;w<h;++w)(v=f[w])&&(y=t.call(v,v.__data__,w,f))&&("__data__"in v&&(y.__data__=v.__data__),p[w]=y,pd(p[w],r,a,w,p,_r(v,a)));return new ka(u,this._parents,r,a)}function SN(t){var r=this._name,a=this._id;typeof t!="function"&&(t=H1(t));for(var s=this._groups,o=s.length,u=[],d=[],f=0;f<o;++f)for(var h=s[f],p=h.length,v,y=0;y<p;++y)if(v=h[y]){for(var w=t.call(v,v.__data__,y,h),x,j=_r(v,a),_=0,z=w.length;_<z;++_)(x=w[_])&&pd(x,r,a,_,w,j);u.push(w),d.push(v)}return new ka(u,d,r,a)}var zN=Go.prototype.constructor;function kN(){return new zN(this._groups,this._parents)}function EN(t,r){var a,s,o;return function(){var u=hl(this,t),d=(this.style.removeProperty(t),hl(this,t));return u===d?null:u===a&&d===s?o:o=r(a=u,s=d)}}function o2(t){return function(){this.style.removeProperty(t)}}function jN(t,r,a){var s,o=a+"",u;return function(){var d=hl(this,t);return d===o?null:d===s?u:u=r(s=d,a)}}function NN(t,r,a){var s,o,u;return function(){var d=hl(this,t),f=a(this),h=f+"";return f==null&&(h=f=(this.style.removeProperty(t),hl(this,t))),d===h?null:d===s&&h===o?u:(o=h,u=r(s=d,f))}}function CN(t,r){var a,s,o,u="style."+r,d="end."+u,f;return function(){var h=Ur(this,t),p=h.on,v=h.value[u]==null?f||(f=o2(r)):void 0;(p!==a||o!==v)&&(s=(a=p).copy()).on(d,o=v),h.on=s}}function AN(t,r,a){var s=(t+="")=="transform"?Rj:l2;return r==null?this.styleTween(t,EN(t,s)).on("end.style."+t,o2(t)):typeof r=="function"?this.styleTween(t,NN(t,s,x0(this,"style."+t,r))).each(CN(this._id,t)):this.styleTween(t,jN(t,s,r),a).on("end.style."+t,null)}function TN(t,r,a){return function(s){this.style.setProperty(t,r.call(this,s),a)}}function MN(t,r,a){var s,o;function u(){var d=r.apply(this,arguments);return d!==o&&(s=(o=d)&&TN(t,d,a)),s}return u._value=r,u}function RN(t,r,a){var s="style."+(t+="");if(arguments.length<2)return(s=this.tween(s))&&s._value;if(r==null)return this.tween(s,null);if(typeof r!="function")throw new Error;return this.tween(s,MN(t,r,a==null?"":a))}function ON(t){return function(){this.textContent=t}}function DN(t){return function(){var r=t(this);this.textContent=r==null?"":r}}function LN(t){return this.tween("text",typeof t=="function"?DN(x0(this,"text",t)):ON(t==null?"":t+""))}function FN(t){return function(r){this.textContent=t.call(this,r)}}function UN(t){var r,a;function s(){var o=t.apply(this,arguments);return o!==a&&(r=(a=o)&&FN(o)),r}return s._value=t,s}function BN(t){var r="text";if(arguments.length<1)return(r=this.tween(r))&&r._value;if(t==null)return this.tween(r,null);if(typeof t!="function")throw new Error;return this.tween(r,UN(t))}function $N(){for(var t=this._name,r=this._id,a=c2(),s=this._groups,o=s.length,u=0;u<o;++u)for(var d=s[u],f=d.length,h,p=0;p<f;++p)if(h=d[p]){var v=_r(h,r);pd(h,t,a,p,d,{time:v.time+v.delay+v.duration,delay:0,duration:v.duration,ease:v.ease})}return new ka(s,this._parents,t,a)}function HN(){var t,r,a=this,s=a._id,o=a.size();return new Promise(function(u,d){var f={value:d},h={value:function(){--o===0&&u()}};a.each(function(){var p=Ur(this,s),v=p.on;v!==t&&(r=(t=v).copy(),r._.cancel.push(f),r._.interrupt.push(f),r._.end.push(h)),p.on=r}),o===0&&u()})}var PN=0;function ka(t,r,a,s){this._groups=t,this._parents=r,this._name=a,this._id=s}function c2(){return++PN}var ua=Go.prototype;ka.prototype={constructor:ka,select:_N,selectAll:SN,selectChild:ua.selectChild,selectChildren:ua.selectChildren,filter:pN,merge:gN,selection:kN,transition:$N,call:ua.call,nodes:ua.nodes,node:ua.node,size:ua.size,empty:ua.empty,each:ua.each,on:yN,attr:Jj,attrTween:aN,style:AN,styleTween:RN,text:LN,textTween:BN,remove:wN,tween:Qj,delay:lN,duration:uN,ease:fN,easeVarying:mN,end:HN,[Symbol.iterator]:ua[Symbol.iterator]};function qN(t){return((t*=2)<=1?t*t*t:(t-=2)*t*t+2)/2}var IN={time:null,delay:0,duration:250,ease:qN};function YN(t,r){for(var a;!(a=t.__transition)||!(a=a[r]);)if(!(t=t.parentNode))throw new Error(`transition ${r} not found`);return a}function QN(t){var r,a;t instanceof ka?(r=t._id,t=t._name):(r=c2(),(a=IN).time=b0(),t=t==null?null:t+"");for(var s=this._groups,o=s.length,u=0;u<o;++u)for(var d=s[u],f=d.length,h,p=0;p<f;++p)(h=d[p])&&pd(h,t,r,p,d,a||YN(h,r));return new ka(s,this._parents,t,r)}Go.prototype.interrupt=qj;Go.prototype.transition=QN;function GN(t){const r=+this._x.call(null,t),a=+this._y.call(null,t);return u2(this.cover(r,a),r,a,t)}function u2(t,r,a,s){if(isNaN(r)||isNaN(a))return t;var o,u=t._root,d={data:s},f=t._x0,h=t._y0,p=t._x1,v=t._y1,y,w,x,j,_,z,k,C;if(!u)return t._root=d,t;for(;u.length;)if((_=r>=(y=(f+p)/2))?f=y:p=y,(z=a>=(w=(h+v)/2))?h=w:v=w,o=u,!(u=u[k=z<<1|_]))return o[k]=d,t;if(x=+t._x.call(null,u.data),j=+t._y.call(null,u.data),r===x&&a===j)return d.next=u,o?o[k]=d:t._root=d,t;do o=o?o[k]=new Array(4):t._root=new Array(4),(_=r>=(y=(f+p)/2))?f=y:p=y,(z=a>=(w=(h+v)/2))?h=w:v=w;while((k=z<<1|_)===(C=(j>=w)<<1|x>=y));return o[C]=u,o[k]=d,t}function ZN(t){var r,a,s=t.length,o,u,d=new Array(s),f=new Array(s),h=1/0,p=1/0,v=-1/0,y=-1/0;for(a=0;a<s;++a)isNaN(o=+this._x.call(null,r=t[a]))||isNaN(u=+this._y.call(null,r))||(d[a]=o,f[a]=u,o<h&&(h=o),o>v&&(v=o),u<p&&(p=u),u>y&&(y=u));if(h>v||p>y)return this;for(this.cover(h,p).cover(v,y),a=0;a<s;++a)u2(this,d[a],f[a],t[a]);return this}function KN(t,r){if(isNaN(t=+t)||isNaN(r=+r))return this;var a=this._x0,s=this._y0,o=this._x1,u=this._y1;if(isNaN(a))o=(a=Math.floor(t))+1,u=(s=Math.floor(r))+1;else{for(var d=o-a||1,f=this._root,h,p;a>t||t>=o||s>r||r>=u;)switch(p=(r<s)<<1|t<a,h=new Array(4),h[p]=f,f=h,d*=2,p){case 0:o=a+d,u=s+d;break;case 1:a=o-d,u=s+d;break;case 2:o=a+d,s=u-d;break;case 3:a=o-d,s=u-d;break}this._root&&this._root.length&&(this._root=f)}return this._x0=a,this._y0=s,this._x1=o,this._y1=u,this}function XN(){var t=[];return this.visit(function(r){if(!r.length)do t.push(r.data);while(r=r.next)}),t}function VN(t){return arguments.length?this.cover(+t[0][0],+t[0][1]).cover(+t[1][0],+t[1][1]):isNaN(this._x0)?void 0:[[this._x0,this._y0],[this._x1,this._y1]]}function kn(t,r,a,s,o){this.node=t,this.x0=r,this.y0=a,this.x1=s,this.y1=o}function WN(t,r,a){var s,o=this._x0,u=this._y0,d,f,h,p,v=this._x1,y=this._y1,w=[],x=this._root,j,_;for(x&&w.push(new kn(x,o,u,v,y)),a==null?a=1/0:(o=t-a,u=r-a,v=t+a,y=r+a,a*=a);j=w.pop();)if(!(!(x=j.node)||(d=j.x0)>v||(f=j.y0)>y||(h=j.x1)<o||(p=j.y1)<u))if(x.length){var z=(d+h)/2,k=(f+p)/2;w.push(new kn(x[3],z,k,h,p),new kn(x[2],d,k,z,p),new kn(x[1],z,f,h,k),new kn(x[0],d,f,z,k)),(_=(r>=k)<<1|t>=z)&&(j=w[w.length-1],w[w.length-1]=w[w.length-1-_],w[w.length-1-_]=j)}else{var C=t-+this._x.call(null,x.data),M=r-+this._y.call(null,x.data),A=C*C+M*M;if(A<a){var O=Math.sqrt(a=A);o=t-O,u=r-O,v=t+O,y=r+O,s=x.data}}return s}function JN(t){if(isNaN(v=+this._x.call(null,t))||isNaN(y=+this._y.call(null,t)))return this;var r,a=this._root,s,o,u,d=this._x0,f=this._y0,h=this._x1,p=this._y1,v,y,w,x,j,_,z,k;if(!a)return this;if(a.length)for(;;){if((j=v>=(w=(d+h)/2))?d=w:h=w,(_=y>=(x=(f+p)/2))?f=x:p=x,r=a,!(a=a[z=_<<1|j]))return this;if(!a.length)break;(r[z+1&3]||r[z+2&3]||r[z+3&3])&&(s=r,k=z)}for(;a.data!==t;)if(o=a,!(a=a.next))return this;return(u=a.next)&&delete a.next,o?(u?o.next=u:delete o.next,this):r?(u?r[z]=u:delete r[z],(a=r[0]||r[1]||r[2]||r[3])&&a===(r[3]||r[2]||r[1]||r[0])&&!a.length&&(s?s[k]=a:this._root=a),this):(this._root=u,this)}function e6(t){for(var r=0,a=t.length;r<a;++r)this.remove(t[r]);return this}function t6(){return this._root}function n6(){var t=0;return this.visit(function(r){if(!r.length)do++t;while(r=r.next)}),t}function r6(t){var r=[],a,s=this._root,o,u,d,f,h;for(s&&r.push(new kn(s,this._x0,this._y0,this._x1,this._y1));a=r.pop();)if(!t(s=a.node,u=a.x0,d=a.y0,f=a.x1,h=a.y1)&&s.length){var p=(u+f)/2,v=(d+h)/2;(o=s[3])&&r.push(new kn(o,p,v,f,h)),(o=s[2])&&r.push(new kn(o,u,v,p,h)),(o=s[1])&&r.push(new kn(o,p,d,f,v)),(o=s[0])&&r.push(new kn(o,u,d,p,v))}return this}function a6(t){var r=[],a=[],s;for(this._root&&r.push(new kn(this._root,this._x0,this._y0,this._x1,this._y1));s=r.pop();){var o=s.node;if(o.length){var u,d=s.x0,f=s.y0,h=s.x1,p=s.y1,v=(d+h)/2,y=(f+p)/2;(u=o[0])&&r.push(new kn(u,d,f,v,y)),(u=o[1])&&r.push(new kn(u,v,f,h,y)),(u=o[2])&&r.push(new kn(u,d,y,v,p)),(u=o[3])&&r.push(new kn(u,v,y,h,p))}a.push(s)}for(;s=a.pop();)t(s.node,s.x0,s.y0,s.x1,s.y1);return this}function i6(t){return t[0]}function s6(t){return arguments.length?(this._x=t,this):this._x}function l6(t){return t[1]}function o6(t){return arguments.length?(this._y=t,this):this._y}function d2(t,r,a){var s=new w0(r==null?i6:r,a==null?l6:a,NaN,NaN,NaN,NaN);return t==null?s:s.addAll(t)}function w0(t,r,a,s,o,u){this._x=t,this._y=r,this._x0=a,this._y0=s,this._x1=o,this._y1=u,this._root=void 0}function Fy(t){for(var r={data:t.data},a=r;t=t.next;)a=a.next={data:t.data};return r}var En=d2.prototype=w0.prototype;En.copy=function(){var t=new w0(this._x,this._y,this._x0,this._y0,this._x1,this._y1),r=this._root,a,s;if(!r)return t;if(!r.length)return t._root=Fy(r),t;for(a=[{source:r,target:t._root=new Array(4)}];r=a.pop();)for(var o=0;o<4;++o)(s=r.source[o])&&(s.length?a.push({source:s,target:r.target[o]=new Array(4)}):r.target[o]=Fy(s));return t};En.add=GN;En.addAll=ZN;En.cover=KN;En.data=XN;En.extent=VN;En.find=WN;En.remove=JN;En.removeAll=e6;En.root=t6;En.size=n6;En.visit=r6;En.visitAfter=a6;En.x=s6;En.y=o6;function Rr(t){return function(){return t}}function Uy(t){return(t()-.5)*1e-6}function c6(t){return t.x+t.vx}function u6(t){return t.y+t.vy}function d6(t){var r,a,s,o=1,u=1;typeof t!="function"&&(t=Rr(t==null?1:+t));function d(){for(var p,v=r.length,y,w,x,j,_,z,k=0;k<u;++k)for(y=d2(r,c6,u6).visitAfter(f),p=0;p<v;++p)w=r[p],_=a[w.index],z=_*_,x=w.x+w.vx,j=w.y+w.vy,y.visit(C);function C(M,A,O,Q,B){var Z=M.data,P=M.r,D=_+P;if(Z){if(Z.index>w.index){var G=x-Z.x-Z.vx,T=j-Z.y-Z.vy,U=G*G+T*T;U<D*D&&(G===0&&(G=Uy(s),U+=G*G),T===0&&(T=Uy(s),U+=T*T),U=(D-(U=Math.sqrt(U)))/U*o,w.vx+=(G*=U)*(D=(P*=P)/(z+P)),w.vy+=(T*=U)*D,Z.vx-=G*(D=1-D),Z.vy-=T*D)}return}return A>x+D||Q<x-D||O>j+D||B<j-D}}function f(p){if(p.data)return p.r=a[p.data.index];for(var v=p.r=0;v<4;++v)p[v]&&p[v].r>p.r&&(p.r=p[v].r)}function h(){if(r){var p,v=r.length,y;for(a=new Array(v),p=0;p<v;++p)y=r[p],a[y.index]=+t(y,p,r)}}return d.initialize=function(p,v){r=p,s=v,h()},d.iterations=function(p){return arguments.length?(u=+p,d):u},d.strength=function(p){return arguments.length?(o=+p,d):o},d.radius=function(p){return arguments.length?(t=typeof p=="function"?p:Rr(+p),h(),d):t},d}const f6=1664525,h6=1013904223,By=4294967296;function m6(){let t=1;return()=>(t=(f6*t+h6)%By)/By}var p6=10,g6=Math.PI*(3-Math.sqrt(5));function b6(t){var r,a=1,s=.001,o=1-Math.pow(s,1/300),u=0,d=.6,f=new Map,h=v0(y),p=d0("tick","end"),v=m6();t==null&&(t=[]);function y(){w(),p.call("tick",r),a<s&&(h.stop(),p.call("end",r))}function w(_){var z,k=t.length,C;_===void 0&&(_=1);for(var M=0;M<_;++M)for(a+=(u-a)*o,f.forEach(function(A){A(a)}),z=0;z<k;++z)C=t[z],C.fx==null?C.x+=C.vx*=d:(C.x=C.fx,C.vx=0),C.fy==null?C.y+=C.vy*=d:(C.y=C.fy,C.vy=0);return r}function x(){for(var _=0,z=t.length,k;_<z;++_){if(k=t[_],k.index=_,k.fx!=null&&(k.x=k.fx),k.fy!=null&&(k.y=k.fy),isNaN(k.x)||isNaN(k.y)){var C=p6*Math.sqrt(.5+_),M=_*g6;k.x=C*Math.cos(M),k.y=C*Math.sin(M)}(isNaN(k.vx)||isNaN(k.vy))&&(k.vx=k.vy=0)}}function j(_){return _.initialize&&_.initialize(t,v),_}return x(),r={tick:w,restart:function(){return h.restart(y),r},stop:function(){return h.stop(),r},nodes:function(_){return arguments.length?(t=_,x(),f.forEach(j),r):t},alpha:function(_){return arguments.length?(a=+_,r):a},alphaMin:function(_){return arguments.length?(s=+_,r):s},alphaDecay:function(_){return arguments.length?(o=+_,r):+o},alphaTarget:function(_){return arguments.length?(u=+_,r):u},velocityDecay:function(_){return arguments.length?(d=1-_,r):1-d},randomSource:function(_){return arguments.length?(v=_,f.forEach(j),r):v},force:function(_,z){return arguments.length>1?(z==null?f.delete(_):f.set(_,j(z)),r):f.get(_)},find:function(_,z,k){var C=0,M=t.length,A,O,Q,B,Z;for(k==null?k=1/0:k*=k,C=0;C<M;++C)B=t[C],A=_-B.x,O=z-B.y,Q=A*A+O*O,Q<k&&(Z=B,k=Q);return Z},on:function(_,z){return arguments.length>1?(p.on(_,z),r):p.on(_)}}}function v6(t){var r=Rr(.1),a,s,o;typeof t!="function"&&(t=Rr(t==null?0:+t));function u(f){for(var h=0,p=a.length,v;h<p;++h)v=a[h],v.vx+=(o[h]-v.x)*s[h]*f}function d(){if(a){var f,h=a.length;for(s=new Array(h),o=new Array(h),f=0;f<h;++f)s[f]=isNaN(o[f]=+t(a[f],f,a))?0:+r(a[f],f,a)}}return u.initialize=function(f){a=f,d()},u.strength=function(f){return arguments.length?(r=typeof f=="function"?f:Rr(+f),d(),u):r},u.x=function(f){return arguments.length?(t=typeof f=="function"?f:Rr(+f),d(),u):t},u}function y6(t){var r=Rr(.1),a,s,o;typeof t!="function"&&(t=Rr(t==null?0:+t));function u(f){for(var h=0,p=a.length,v;h<p;++h)v=a[h],v.vy+=(o[h]-v.y)*s[h]*f}function d(){if(a){var f,h=a.length;for(s=new Array(h),o=new Array(h),f=0;f<h;++f)s[f]=isNaN(o[f]=+t(a[f],f,a))?0:+r(a[f],f,a)}}return u.initialize=function(f){a=f,d()},u.strength=function(f){return arguments.length?(r=typeof f=="function"?f:Rr(+f),d(),u):r},u.y=function(f){return arguments.length?(t=typeof f=="function"?f:Rr(+f),d(),u):t},u}function x6(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)}function Zu(t,r){if((a=(t=r?t.toExponential(r-1):t.toExponential()).indexOf("e"))<0)return null;var a,s=t.slice(0,a);return[s.length>1?s[0]+s.slice(2):s,+t.slice(a+1)]}function pl(t){return t=Zu(Math.abs(t)),t?t[1]:NaN}function w6(t,r){return function(a,s){for(var o=a.length,u=[],d=0,f=t[0],h=0;o>0&&f>0&&(h+f+1>s&&(f=Math.max(1,s-h)),u.push(a.substring(o-=f,o+f)),!((h+=f+1)>s));)f=t[d=(d+1)%t.length];return u.reverse().join(r)}}function _6(t){return function(r){return r.replace(/[0-9]/g,function(a){return t[+a]})}}var S6=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Ku(t){if(!(r=S6.exec(t)))throw new Error("invalid format: "+t);var r;return new _0({fill:r[1],align:r[2],sign:r[3],symbol:r[4],zero:r[5],width:r[6],comma:r[7],precision:r[8]&&r[8].slice(1),trim:r[9],type:r[10]})}Ku.prototype=_0.prototype;function _0(t){this.fill=t.fill===void 0?" ":t.fill+"",this.align=t.align===void 0?">":t.align+"",this.sign=t.sign===void 0?"-":t.sign+"",this.symbol=t.symbol===void 0?"":t.symbol+"",this.zero=!!t.zero,this.width=t.width===void 0?void 0:+t.width,this.comma=!!t.comma,this.precision=t.precision===void 0?void 0:+t.precision,this.trim=!!t.trim,this.type=t.type===void 0?"":t.type+""}_0.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function z6(t){e:for(var r=t.length,a=1,s=-1,o;a<r;++a)switch(t[a]){case".":s=o=a;break;case"0":s===0&&(s=a),o=a;break;default:if(!+t[a])break e;s>0&&(s=0);break}return s>0?t.slice(0,s)+t.slice(o+1):t}var f2;function k6(t,r){var a=Zu(t,r);if(!a)return t+"";var s=a[0],o=a[1],u=o-(f2=Math.max(-8,Math.min(8,Math.floor(o/3)))*3)+1,d=s.length;return u===d?s:u>d?s+new Array(u-d+1).join("0"):u>0?s.slice(0,u)+"."+s.slice(u):"0."+new Array(1-u).join("0")+Zu(t,Math.max(0,r+u-1))[0]}function $y(t,r){var a=Zu(t,r);if(!a)return t+"";var s=a[0],o=a[1];return o<0?"0."+new Array(-o).join("0")+s:s.length>o+1?s.slice(0,o+1)+"."+s.slice(o+1):s+new Array(o-s.length+2).join("0")}const Hy={"%":(t,r)=>(t*100).toFixed(r),b:t=>Math.round(t).toString(2),c:t=>t+"",d:x6,e:(t,r)=>t.toExponential(r),f:(t,r)=>t.toFixed(r),g:(t,r)=>t.toPrecision(r),o:t=>Math.round(t).toString(8),p:(t,r)=>$y(t*100,r),r:$y,s:k6,X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function Py(t){return t}var qy=Array.prototype.map,Iy=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function E6(t){var r=t.grouping===void 0||t.thousands===void 0?Py:w6(qy.call(t.grouping,Number),t.thousands+""),a=t.currency===void 0?"":t.currency[0]+"",s=t.currency===void 0?"":t.currency[1]+"",o=t.decimal===void 0?".":t.decimal+"",u=t.numerals===void 0?Py:_6(qy.call(t.numerals,String)),d=t.percent===void 0?"%":t.percent+"",f=t.minus===void 0?"":t.minus+"",h=t.nan===void 0?"NaN":t.nan+"";function p(y){y=Ku(y);var w=y.fill,x=y.align,j=y.sign,_=y.symbol,z=y.zero,k=y.width,C=y.comma,M=y.precision,A=y.trim,O=y.type;O==="n"?(C=!0,O="g"):Hy[O]||(M===void 0&&(M=12),A=!0,O="g"),(z||w==="0"&&x==="=")&&(z=!0,w="0",x="=");var Q=_==="$"?a:_==="#"&&/[boxX]/.test(O)?"0"+O.toLowerCase():"",B=_==="$"?s:/[%p]/.test(O)?d:"",Z=Hy[O],P=/[defgprs%]/.test(O);M=M===void 0?6:/[gprs]/.test(O)?Math.max(1,Math.min(21,M)):Math.max(0,Math.min(20,M));function D(G){var T=Q,U=B,S,W,K;if(O==="c")U=Z(G)+U,G="";else{G=+G;var I=G<0||1/G<0;if(G=isNaN(G)?h:Z(Math.abs(G),M),A&&(G=z6(G)),I&&+G==0&&j!=="+"&&(I=!1),T=(I?j==="("?j:f:j==="-"||j==="("?"":j)+T,U=(O==="s"?Iy[8+f2/3]:"")+U+(I&&j==="("?")":""),P){for(S=-1,W=G.length;++S<W;)if(K=G.charCodeAt(S),48>K||K>57){U=(K===46?o+G.slice(S+1):G.slice(S))+U,G=G.slice(0,S);break}}}C&&!z&&(G=r(G,1/0));var se=T.length+G.length+U.length,J=se<k?new Array(k-se+1).join(w):"";switch(C&&z&&(G=r(J+G,J.length?k-U.length:1/0),J=""),x){case"<":G=T+G+U+J;break;case"=":G=T+J+G+U;break;case"^":G=J.slice(0,se=J.length>>1)+T+G+U+J.slice(se);break;default:G=J+T+G+U;break}return u(G)}return D.toString=function(){return y+""},D}function v(y,w){var x=p((y=Ku(y),y.type="f",y)),j=Math.max(-8,Math.min(8,Math.floor(pl(w)/3)))*3,_=Math.pow(10,-j),z=Iy[8+j/3];return function(k){return x(_*k)+z}}return{format:p,formatPrefix:v}}var bu,h2,m2;j6({thousands:",",grouping:[3],currency:["$",""]});function j6(t){return bu=E6(t),h2=bu.format,m2=bu.formatPrefix,bu}function N6(t){return Math.max(0,-pl(Math.abs(t)))}function C6(t,r){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(pl(r)/3)))*3-pl(Math.abs(t)))}function A6(t,r){return t=Math.abs(t),r=Math.abs(r)-t,Math.max(0,pl(r)-pl(t))+1}function T6(t,r){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(r).domain(t);break}return this}function M6(t){return function(){return t}}function R6(t){return+t}var Yy=[0,1];function pi(t){return t}function Pm(t,r){return(r-=t=+t)?function(a){return(a-t)/r}:M6(isNaN(r)?NaN:.5)}function O6(t,r){var a;return t>r&&(a=t,t=r,r=a),function(s){return Math.max(t,Math.min(r,s))}}function D6(t,r,a){var s=t[0],o=t[1],u=r[0],d=r[1];return o<s?(s=Pm(o,s),u=a(d,u)):(s=Pm(s,o),u=a(u,d)),function(f){return u(s(f))}}function L6(t,r,a){var s=Math.min(t.length,r.length)-1,o=new Array(s),u=new Array(s),d=-1;for(t[s]<t[0]&&(t=t.slice().reverse(),r=r.slice().reverse());++d<s;)o[d]=Pm(t[d],t[d+1]),u[d]=a(r[d],r[d+1]);return function(f){var h=x4(t,f,1,s)-1;return u[h](o[h](f))}}function F6(t,r){return r.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function U6(){var t=Yy,r=Yy,a=g0,s,o,u,d=pi,f,h,p;function v(){var w=Math.min(t.length,r.length);return d!==pi&&(d=O6(t[0],t[w-1])),f=w>2?L6:D6,h=p=null,y}function y(w){return w==null||isNaN(w=+w)?u:(h||(h=f(t.map(s),r,a)))(s(d(w)))}return y.invert=function(w){return d(o((p||(p=f(r,t.map(s),gr)))(w)))},y.domain=function(w){return arguments.length?(t=Array.from(w,R6),v()):t.slice()},y.range=function(w){return arguments.length?(r=Array.from(w),v()):r.slice()},y.rangeRound=function(w){return r=Array.from(w),a=Aj,v()},y.clamp=function(w){return arguments.length?(d=w?!0:pi,v()):d!==pi},y.interpolate=function(w){return arguments.length?(a=w,v()):a},y.unknown=function(w){return arguments.length?(u=w,y):u},function(w,x){return s=w,o=x,v()}}function B6(t,r,a,s){var o=k4(t,r,a),u;switch(s=Ku(s==null?",f":s),s.type){case"s":{var d=Math.max(Math.abs(t),Math.abs(r));return s.precision==null&&!isNaN(u=C6(o,d))&&(s.precision=u),m2(s,d)}case"":case"e":case"g":case"p":case"r":{s.precision==null&&!isNaN(u=A6(o,Math.max(Math.abs(t),Math.abs(r))))&&(s.precision=u-(s.type==="e"));break}case"f":case"%":{s.precision==null&&!isNaN(u=N6(o))&&(s.precision=u-(s.type==="%")*2);break}}return h2(s)}function $6(t){var r=t.domain;return t.ticks=function(a){var s=r();return z4(s[0],s[s.length-1],a==null?10:a)},t.tickFormat=function(a,s){var o=r();return B6(o[0],o[o.length-1],a==null?10:a,s)},t.nice=function(a){a==null&&(a=10);var s=r(),o=0,u=s.length-1,d=s[o],f=s[u],h,p,v=10;for(f<d&&(p=d,d=f,f=p,p=o,o=u,u=p);v-- >0;){if(p=Om(d,f,a),p===h)return s[o]=d,s[u]=f,r(s);if(p>0)d=Math.floor(d/p)*p,f=Math.ceil(f/p)*p;else if(p<0)d=Math.ceil(d*p)/p,f=Math.floor(f*p)/p;else break;h=p}return t},t}function Qy(t){return function(r){return r<0?-Math.pow(-r,t):Math.pow(r,t)}}function H6(t){return t<0?-Math.sqrt(-t):Math.sqrt(t)}function P6(t){return t<0?-t*t:t*t}function q6(t){var r=t(pi,pi),a=1;function s(){return a===1?t(pi,pi):a===.5?t(H6,P6):t(Qy(a),Qy(1/a))}return r.exponent=function(o){return arguments.length?(a=+o,s()):a},$6(r)}function p2(){var t=q6(U6());return t.copy=function(){return F6(t,p2()).exponent(t.exponent())},T6.apply(t,arguments),t}function I6(){return p2.apply(null,arguments).exponent(.5)}function xo(t,r,a){this.k=t,this.x=r,this.y=a}xo.prototype={constructor:xo,scale:function(t){return t===1?this:new xo(this.k*t,this.x,this.y)},translate:function(t,r){return t===0&r===0?this:new xo(this.k,this.x+this.k*t,this.y+this.k*r)},apply:function(t){return[t[0]*this.k+this.x,t[1]*this.k+this.y]},applyX:function(t){return t*this.k+this.x},applyY:function(t){return t*this.k+this.y},invert:function(t){return[(t[0]-this.x)/this.k,(t[1]-this.y)/this.k]},invertX:function(t){return(t-this.x)/this.k},invertY:function(t){return(t-this.y)/this.k},rescaleX:function(t){return t.copy().domain(t.range().map(this.invertX,this).map(t.invert,t))},rescaleY:function(t){return t.copy().domain(t.range().map(this.invertY,this).map(t.invert,t))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};xo.prototype;const Xu=["raw","dng","nef","cr2","arw","orf","raf","pef","srw","3fr","x3f","mrw","mef","mos","erf","dcr","rw2","rwl","r3d","ari","bay","cap","dcs","drf","eip","k25","kdc","mdc","nrw","obm","ptx","pxn","rwz","srf","crw","fff","iiq"],Qt={"image/jpeg":["jpg","jpeg"],"image/jpg":["jpg","jpeg"],"image/png":["png"],"image/webp":["webp"],"image/gif":["gif"],"image/heic":["heic"],"image/heif":["heif"],"image/dng":["dng"],"image/tiff":["tif","tiff"],"image/tif":["tif","tiff"],"image/bmp":["bmp"],"image/raw":Xu,"image/x-raw":Xu,"video/mp4":["mp4","m4v"],"video/mov":["mov","qt"],"video/quicktime":["mov","qt"],"video/x-quicktime":["mov","qt"],"video/avi":["avi"],"video/x-msvideo":["avi"],"video/mkv":["mkv"],"video/x-matroska":["mkv"],"video/webm":["webm"],"video/mp4v":["mp4v"],"video/mpeg":["mpg","mpeg"],"audio/mpeg":["mp3"],"audio/mp3":["mp3"],"audio/wav":["wav"],"audio/flac":["flac"],"audio/aac":["aac"],"audio/ogg":["ogg"],"audio/m4a":["m4a"],audio:["mp3","wav","flac","aac","ogg","m4a"]},vu=[{value:"image/jpeg",label:"JPEG",extensions:Qt["image/jpeg"]},{value:"image/png",label:"PNG",extensions:Qt["image/png"]},{value:"image/webp",label:"WEBP",extensions:Qt["image/webp"]},{value:"image/gif",label:"GIF",extensions:Qt["image/gif"]},{value:"image/heic",label:"HEIC",extensions:Qt["image/heic"]},{value:"image/heif",label:"HEIF",extensions:Qt["image/heif"]},{value:"image/tiff",label:"TIFF",extensions:Qt["image/tiff"]},{value:"image/bmp",label:"BMP",extensions:Qt["image/bmp"]},{value:"image/raw",label:"RAW",extensions:Xu},{value:"video/mp4",label:"MP4",extensions:Qt["video/mp4"]},{value:"video/mov",label:"MOV",extensions:Qt["video/mov"]},{value:"video/avi",label:"AVI",extensions:Qt["video/avi"]},{value:"video/mkv",label:"MKV",extensions:Qt["video/mkv"]},{value:"video/webm",label:"WEBM",extensions:Qt["video/webm"]},{value:"video/mpeg",label:"MPEG",extensions:Qt["video/mpeg"]},{value:"audio/mpeg",label:"MP3",extensions:Qt["audio/mpeg"]},{value:"audio/flac",label:"FLAC",extensions:Qt["audio/flac"]},{value:"audio/wav",label:"WAV",extensions:Qt["audio/wav"]},{value:"audio/aac",label:"AAC",extensions:Qt["audio/aac"]},{value:"audio/ogg",label:"OGG",extensions:Qt["audio/ogg"]}];function S0(t){return t?t.trim().toLowerCase():""}function Y6(t){return t?t.includes("/")?t.split("/")[1].toUpperCase():t.toUpperCase():"All file types"}function g2(t){if(t===0)return"0 B";const r=1024,a=["B","KB","MB","GB","TB"],s=Math.floor(Math.log(t)/Math.log(r));return Math.round(t/Math.pow(r,s)*100)/100+" "+a[s]}function gi(t){if(t<60)return`${t.toFixed(1)}s`;if(t<3600){const s=Math.floor(t/60),o=(t%60).toFixed(1);return`${s}m ${o}s`}const r=Math.floor(t/3600),a=Math.floor(t%3600/60);return`${r}h ${a}m`}function Vu(t){if(t<60)return`${Math.round(t)}s`;if(t<3600){const s=Math.floor(t/60),o=Math.round(t%60);return`${s}m ${o}s`}const r=Math.floor(t/3600),a=Math.floor(t%3600/60);return`${r}h ${a}m`}function b2(t){return new Date(t).toLocaleTimeString([],{hour:"numeric",minute:"2-digit"})}function Q6(){var te,q,H,$,he,ke,oe,Te;const t=vl(),{data:r,error:a,isError:s}=nd(),{data:o,isLoading:u,error:d}=yn({queryKey:["fileTypes"],queryFn:()=>it.fileTypes(),enabled:t,refetchInterval:ve=>!t||ve.state.error?!1:3e4,staleTime:1e4,placeholderData:ve=>ve}),f=Ea(),{data:h,isLoading:p,error:v}=yn({queryKey:["performance"],queryFn:()=>it.performance(),enabled:t,refetchInterval:ve=>!t||ve.state.error?!1:2e3}),[y,w]=b.useState(null),x=b.useCallback((ve,we)=>{const De=S0(ve);if(!De){w(null),f("/gallery");return}if(y===De){w(null),f("/gallery");return}w(De);const Ee=new URLSearchParams;Ee.set("type",De),we&&we.length&&Ee.set("ext",we.join(",")),f(`/gallery?${Ee.toString()}`)},[f,y]),j=yi(),_=cn({mutationFn:()=>it.resetStats(),onSuccess:()=>{j.invalidateQueries({queryKey:["stats"]}),j.invalidateQueries({queryKey:["performance"]});try{localStorage.removeItem("nazr_last_scan"),localStorage.removeItem("nazr_last_processing"),M(null),O(null)}catch{}}}),[z,k]=b.useState(null),[C,M]=b.useState(null),[A,O]=b.useState(null),Q=b.useRef(null),B=b.useRef(null);b.useEffect(()=>{try{const ve=localStorage.getItem("nazr_last_scan");if(ve){const De=JSON.parse(ve);M(De),Q.current=De}const we=localStorage.getItem("nazr_last_processing");if(we){const De=JSON.parse(we);O(De),B.current=De}}catch(ve){console.warn("Failed to load persisted dashboard values:",ve)}},[]);const Z=b.useRef(!1),P=b.useRef(!1),D=b.useRef({scan:null,processing:null}),[G,T]=b.useState(null),U=b.useRef(null),S=b.useRef(null),[W,K]=b.useState(null),[I,se]=b.useState(null),[J,be]=b.useState(!1),[R,F]=b.useState(!1),ee=b.useRef(null),ie=b.useRef(null),ue=b.useRef(null),Me=b.useRef(null),re=(r==null?void 0:r.scan_running)===!0,je=(r==null?void 0:r.scan_running)===!0||(r==null?void 0:r.processing_active)===!0,de=re||J,Oe=je||R;b.useEffect(()=>{var ve,we,De,Ee,He,Ae;if(Oe){const $e=(Ae=(He=(De=(ve=r==null?void 0:r.current_processing)==null?void 0:ve.elapsed_seconds)!=null?De:(we=S.current)==null?void 0:we.base)!=null?He:(Ee=B.current)==null?void 0:Ee.elapsed)!=null?Ae:0;S.current={base:$e,startMs:Date.now()},T($e),U.current||(U.current=setInterval(()=>{if(S.current){const Ge=S.current.base+(Date.now()-S.current.startMs)/1e3;T(Ge)}},1e3))}else S.current=null,U.current&&(clearInterval(U.current),U.current=null),T(null)},[Oe,(te=r==null?void 0:r.current_processing)==null?void 0:te.elapsed_seconds]),b.useEffect(()=>{const ve=()=>{M(null),Q.current=null,Z.current=!1,O(null),B.current=null,P.current=!1,T(null),S.current=null,w(null),be(!1),F(!1),K(null),se(null),U.current&&(clearInterval(U.current),U.current=null),ee.current&&(clearTimeout(ee.current),ee.current=null),ie.current&&(clearTimeout(ie.current),ie.current=null)};return window.addEventListener("nazr:reset-dashboard-stats",ve),()=>window.removeEventListener("nazr:reset-dashboard-stats",ve)},[]);const Ue=b.useCallback((ve,we)=>{D.current[ve]&&clearTimeout(D.current[ve]),D.current[ve]=setTimeout(()=>{try{ve==="scan"?localStorage.setItem("nazr_last_scan",JSON.stringify(we)):localStorage.setItem("nazr_last_processing",JSON.stringify(we))}catch{}D.current[ve]=null},500)},[]);b.useEffect(()=>{var we,De,Ee,He,Ae,$e,Ge,Ze,Be,Je,vt,Pe,Ut,wt,qt,xt,Dt,jt;if(!r)return;const ve=(He=(Ee=(we=r.discovery)==null?void 0:we.files_discovered)!=null?Ee:(De=r.processed)==null?void 0:De.files_total)!=null?He:0;if(ue.current!==null&&ve>ue.current){const Lt={files:ve,photos:(Ae=Q.current)==null?void 0:Ae.photos,videos:($e=Q.current)==null?void 0:$e.videos,rate:(Je=(Be=(Ge=r.current_scan)==null?void 0:Ge.files_per_sec)!=null?Be:(Ze=Q.current)==null?void 0:Ze.rate)!=null?Je:0,status:(wt=(Ut=(vt=r.current_scan)==null?void 0:vt.status)!=null?Ut:(Pe=Q.current)==null?void 0:Pe.status)!=null?wt:"completed",elapsed:(jt=(Dt=(qt=r.current_scan)==null?void 0:qt.elapsed_seconds)!=null?Dt:(xt=Q.current)==null?void 0:xt.elapsed)!=null?jt:0,completedAt:Date.now()};M(Lt),Q.current=Lt,K(Date.now())}ue.current=ve},[r,(q=r==null?void 0:r.discovery)==null?void 0:q.files_discovered,(H=r==null?void 0:r.processed)==null?void 0:H.files_total,($=r==null?void 0:r.current_scan)==null?void 0:$.files_per_sec,(he=r==null?void 0:r.current_scan)==null?void 0:he.elapsed_seconds,(ke=r==null?void 0:r.current_scan)==null?void 0:ke.status]),b.useEffect(()=>{var we,De,Ee,He;if(!r)return;const ve=(He=(Ee=(we=r.processing)==null?void 0:we.files_committed)!=null?Ee:(De=r.db)==null?void 0:De.assets)!=null?He:0;Me.current!==null&&ve>Me.current&&se(Date.now()),Me.current=ve},[(oe=r==null?void 0:r.processing)==null?void 0:oe.files_committed,(Te=r==null?void 0:r.db)==null?void 0:Te.assets]),b.useEffect(()=>{W&&(be(!0),ee.current&&clearTimeout(ee.current),ee.current=setTimeout(()=>{be(!1),ee.current=null},5e3))},[W]),b.useEffect(()=>{I&&(F(!0),ie.current&&clearTimeout(ie.current),ie.current=setTimeout(()=>{F(!1),ie.current=null},5e3))},[I]),b.useEffect(()=>{var ve,we,De,Ee,He,Ae,$e,Ge,Ze,Be,Je;if(h&&r){const vt=je;if(re&&r.processed.files_per_sec>0&&k({filesPerSec:r.processed.files_per_sec,mbPerSec:r.processed.mb_per_sec||0,status:h.nazr.status}),re&&h.current_scan){const Pe={files:h.current_scan.files_processed,photos:h.current_scan.photos_processed,videos:h.current_scan.videos_processed,rate:h.current_scan.files_per_sec,status:h.current_scan.status,elapsed:h.current_scan.elapsed_seconds};M(Pe),Q.current=Pe,Z.current=!0,Ue("scan",Pe)}else if(Z.current&&!re){Z.current=!1;const Pe=Q.current?{...Q.current,completedAt:(ve=Q.current.completedAt)!=null?ve:Date.now()}:null;if(Pe){M(Pe),Q.current=Pe;try{D.current.scan&&(clearTimeout(D.current.scan),D.current.scan=null),localStorage.setItem("nazr_last_scan",JSON.stringify(Pe))}catch{}}}if(vt&&r.current_processing){const Pe={files:(Ee=(De=r.current_processing.files_committed)!=null?De:(we=B.current)==null?void 0:we.files)!=null?Ee:0,elapsed:($e=(Ae=r.current_processing.elapsed_seconds)!=null?Ae:(He=B.current)==null?void 0:He.elapsed)!=null?$e:0};O(Pe),B.current=Pe,P.current=!0,Ue("processing",Pe)}else if(P.current&&!vt){P.current=!1;const Pe=((Ge=r.current_processing)==null?void 0:Ge.elapsed_seconds)!==void 0&&((Ze=r.current_processing)==null?void 0:Ze.files_committed)!==void 0?{files:(Be=r.current_processing.files_committed)!=null?Be:0,elapsed:(Je=r.current_processing.elapsed_seconds)!=null?Je:0}:B.current;if(Pe){O(Pe),B.current=Pe;try{D.current.processing&&(clearTimeout(D.current.processing),D.current.processing=null),localStorage.setItem("nazr_last_processing",JSON.stringify(Pe))}catch{}}}}},[h,r,Ue]),b.useEffect(()=>()=>{D.current.scan&&clearTimeout(D.current.scan),D.current.processing&&clearTimeout(D.current.processing),U.current&&(clearInterval(U.current),U.current=null),ee.current&&(clearTimeout(ee.current),ee.current=null),ie.current&&(clearTimeout(ie.current),ie.current=null)},[]);const _e=Qe(ve=>ve.dashboardFontFamily),ze=Qe(ve=>ve.dashboardFontSize),E=ve=>{switch(ve){case"system":return"system-ui, -apple-system, sans-serif";case"sans-serif":return"sans-serif";case"serif":return"serif";case"monospace":return"monospace";case"cursive":return"cursive";case"fantasy":return"fantasy";default:return"system-ui, -apple-system, sans-serif"}},ae=ve=>({xs:"text-xs",sm:"text-sm",base:"text-base",lg:"text-lg",xl:"text-xl","2xl":"text-2xl","3xl":"text-3xl","4xl":"text-4xl"})[ve]||"text-base";return c.jsxs("div",{className:`container-responsive py-3 sm:py-6 space-y-3 sm:space-y-6 ${ae(ze)}`,style:{fontFamily:E(_e)},children:[s&&a&&c.jsxs("div",{className:"bg-yellow-50 dark:bg-yellow-900/20 border border-yellow-200 dark:border-yellow-800 text-yellow-700 dark:text-yellow-300 rounded-lg p-4",children:[c.jsx("div",{className:"font-medium",children:"Connection Issue"}),c.jsx("div",{className:"mt-1 text-sm opacity-90",children:a instanceof Error?a.message:String(a)}),c.jsx("div",{className:"mt-2 text-xs opacity-75",children:"The app will automatically retry. If this persists, check that the backend is running."})]}),c.jsx(p4,{}),c.jsxs("div",{className:"flex flex-col lg:flex-row gap-3 sm:gap-4",children:[c.jsx("div",{className:"lg:flex-1 hidden lg:block",children:c.jsx("section",{children:u?c.jsx("div",{className:"rounded-lg border border-zinc-200 dark:border-zinc-800 p-8 bg-white dark:bg-zinc-900 flex items-center justify-center h-64",children:c.jsx("div",{className:"text-sm text-zinc-500 dark:text-zinc-400",children:"Loading..."})}):d?c.jsx("div",{className:"rounded-lg border border-zinc-200 dark:border-zinc-800 p-8 bg-white dark:bg-zinc-900 flex items-center justify-center h-64",children:c.jsxs("div",{className:"text-sm text-red-500 dark:text-red-400",children:["Error: ",d instanceof Error?d.message:"Failed to load file types"]})}):o&&Object.keys(o).length>0?c.jsx(Gy,{data:o,onBubbleFilter:x,selectedType:y}):c.jsx("div",{className:"rounded-lg border border-zinc-200 dark:border-zinc-800 p-8 bg-white dark:bg-zinc-900 flex items-center justify-center h-64",children:c.jsx("div",{className:"text-sm text-zinc-500 dark:text-zinc-400",children:"No data available"})})})}),c.jsx("div",{className:"lg:w-80 lg:flex-shrink-0 hidden lg:block",children:h&&r?c.jsxs("div",{className:"space-y-3 sm:space-y-4",children:[c.jsx(Z6,{stats:r,isScanRunning:de,lastScan:C}),c.jsx(K6,{stats:r,lastProcessing:A,processingElapsedLive:G,isProcessingActive:Oe}),c.jsx(X6,{perf:h,stats:r})]}):c.jsxs("div",{className:"space-y-3 sm:space-y-4",children:[c.jsx(Ph,{}),c.jsx(Ph,{}),c.jsx(Ph,{})]})})]}),c.jsx("div",{className:"lg:hidden",children:c.jsx("section",{children:u?c.jsx("div",{className:"rounded-lg border border-zinc-200 dark:border-zinc-800 p-8 bg-white dark:bg-zinc-900 flex items-center justify-center h-64",children:c.jsx("div",{className:"text-sm text-zinc-500 dark:text-zinc-400",children:"Loading..."})}):d?c.jsx("div",{className:"rounded-lg border border-zinc-200 dark:border-zinc-800 p-8 bg-white dark:bg-zinc-900 flex items-center justify-center h-64",children:c.jsxs("div",{className:"text-sm text-red-500 dark:text-red-400",children:["Error: ",d instanceof Error?d.message:"Failed to load file types"]})}):o&&Object.keys(o).length>0?c.jsx(Gy,{data:o,onBubbleFilter:x,selectedType:y}):c.jsx("div",{className:"rounded-lg border border-zinc-200 dark:border-zinc-800 p-8 bg-white dark:bg-zinc-900 flex items-center justify-center h-64",children:c.jsx("div",{className:"text-sm text-zinc-500 dark:text-zinc-400",children:"No data available"})})})}),p?c.jsx("section",{children:c.jsx("div",{className:"rounded-lg border border-zinc-200 dark:border-zinc-800 p-8 bg-white dark:bg-zinc-900 flex items-center justify-center h-64",children:c.jsx("div",{className:"text-sm text-zinc-500 dark:text-zinc-400",children:"Loading performance data..."})})}):v||!h||!r?c.jsx("section",{children:c.jsxs("div",{className:"rounded-lg border border-zinc-200 dark:border-zinc-800 p-4 bg-red-50 dark:bg-red-900/20 border-red-200 dark:border-red-800 text-red-700 dark:text-red-300",children:["Error loading performance data: ",v instanceof Error?v.message:"Unknown error"]})}):c.jsx(V6,{perf:h,stats:r,lastActive:z,lastScan:C,lastProcessing:A,processingElapsedLive:G,isScanActive:de,isProcessingActive:Oe,resetStatsMutation:_})]})}const yu={"image/jpeg":"#f59e0b","image/jpg":"#f59e0b","image/png":"#3b82f6","image/webp":"#8b5cf6","image/gif":"#ec4899","image/heic":"#06b6d4","image/heif":"#06b6d4","image/raw":"#92400e","image/x-raw":"#92400e","image/dng":"#92400e","image/tiff":"#64748b","image/tif":"#64748b","image/bmp":"#475569","video/mp4":"#ef4444","video/mov":"#f97316","video/quicktime":"#f97316","video/x-quicktime":"#f97316","video/avi":"#dc2626","video/x-msvideo":"#dc2626","video/mkv":"#7c3aed","video/x-matroska":"#7c3aed","video/webm":"#10b981","video/mp4v":"#f43f5e","video/mpeg":"#be123c","audio/mpeg":"#14b8a6","audio/mp3":"#14b8a6","audio/wav":"#0ea5e9","audio/flac":"#6366f1","audio/aac":"#22c55e","audio/ogg":"#84cc16","audio/m4a":"#a855f7"};function Qh(t){if(yu[t])return yu[t];const r=t.toLowerCase();if(yu[r])return yu[r];if(t.startsWith("image/")){const a=["#f59e0b","#3b82f6","#8b5cf6","#ec4899","#06b6d4"],s=t.split("").reduce((o,u)=>o+u.charCodeAt(0),0);return a[s%a.length]}else if(t.startsWith("video/")){const a=["#ef4444","#f97316","#7c3aed","#10b981","#f43f5e"],s=t.split("").reduce((o,u)=>o+u.charCodeAt(0),0);return a[s%a.length]}else return t.startsWith("audio/")?"#14b8a6":"#6b7280"}function G6(t){return t.includes("/")?t.split("/")[1].toUpperCase():t.charAt(0).toUpperCase()+t.slice(1)}function Gy({data:t,onBubbleFilter:r,selectedType:a}){const s=t.other_extensions,o=Xu,u=Array.isArray(s)?s.filter(D=>D&&D.trim().length>0&&!o.some(G=>D.toLowerCase()===G.toLowerCase())):[],d=t.other_breakdown,f=typeof d=="object"&&d!==null&&!Array.isArray(d)?d:{},h=Object.fromEntries(Object.entries(f).filter(([D])=>!o.some(G=>D.toLowerCase()===G.toLowerCase()))),p=Object.fromEntries(Object.entries(t).filter(([D])=>D!=="other_extensions"&&D!=="other_breakdown")),v=b.useCallback(D=>{var T;const G=D.toLowerCase();if(G==="raw"||G==="image/raw"||G==="image/x-raw")return o.map(U=>U.toLowerCase());if(G==="other")return Array.from(new Set([...Object.keys(h).map(S=>S.toLowerCase()),...u.map(S=>S.toLowerCase())])).filter(Boolean);if(Qt[G])return Qt[G].map(U=>U.toLowerCase());if(G.startsWith("audio/"))return((T=Qt.audio)!=null?T:[]).map(U=>U.toLowerCase());if(G.startsWith("video/")||G.startsWith("image/")){const U=G.split("/")[1];return U?[U.toLowerCase()]:[]}return[]},[h,u,o]),y=a?a.toLowerCase():null,w=b.useMemo(()=>{const D=t.other_breakdown,G=typeof D=="object"&&D!==null&&!Array.isArray(D)?D:{};let T=0;const U=["other","image/other","video/other"];let S=0;const W=["image/raw","image/x-raw","image/dng"],K=Object.keys(p).filter(R=>W.includes(R)||R.startsWith("image/")&&o.some(F=>R.toLowerCase().includes(F)));let I=0;U.forEach(R=>{R in p&&typeof p[R]=="number"&&(T+=p[R])}),G&&Object.keys(G).length>0&&(Object.entries(G).forEach(([R,F])=>{if(o.some(ee=>R.toLowerCase()===ee.toLowerCase())){const ee=typeof F=="number"?F:0;S+=ee,I+=ee}}),"image/other"in p&&typeof p["image/other"]=="number"&&(T=Math.max(0,T-I))),K.forEach(R=>{R in p&&typeof p[R]=="number"&&(S+=p[R])});const J=Object.entries(p).filter(([R,F])=>U.includes(R)||K.includes(R)?!1:typeof F=="number"&&F>0).map(([R,F])=>({name:G6(R),value:F,originalName:R,color:Qh(R)})).concat(S>0?[{name:"RAW",value:S,originalName:"image/raw",color:Qh("image/raw")}]:[],T>0?[{name:"OTHER",value:T,originalName:"other",color:Qh("other")}]:[]),be=J.reduce((R,F)=>R+F.value,0);return J.map(R=>({...R,percentage:be>0?R.value/be*100:0}))},[p,t.other,t.other_breakdown]),x=b.useMemo(()=>w.map(D=>{const G=v(D.originalName),T=S0(D.originalName);return{...D,extensions:G,typeKey:T,isActive:!!y&&T===y}}),[w,v,y]),j="image/other"in p&&p["image/other"]>0,_="video/other"in p&&p["video/other"]>0,k=typeof t.other=="number"&&t.other>0||j||_,C=b.useRef(null),M=b.useRef(null),A=b.useRef(new Map),O=b.useRef(!1),Q=b.useRef(!1),B=!!y;if(b.useEffect(()=>{if(!C.current||!M.current||x.length===0){x.length===0&&C.current&&(Ja(C.current).selectAll("*").remove(),A.current.clear(),O.current=!1);return}const D=Ja(C.current),G=M.current,T=G.clientWidth,U=T<640;Q.current=U;const S=U?Math.min(T*.9,350):400;D.attr("width",T).attr("height",S);let W=Ja(G).select(".bubble-tooltip");W.empty()&&(W=Ja(G).append("div").attr("class","bubble-tooltip").style("position","absolute").style("pointer-events","none").style("opacity",0).style("background","rgba(0, 0, 0, 0.8)").style("color","white").style("padding","8px 12px").style("border-radius","6px").style("font-size","12px").style("z-index","1000").style("transition","opacity 0.2s"));const K=Math.max(...x.map(_e=>_e.value)),I=Math.min(...x.map(_e=>_e.value)),se=I6().domain([I,K]).range(U?[15,60]:[20,80]),J=[...x].sort((_e,ze)=>ze.value-_e.value);let be;if(U){(!O.current||Q.current===!1)&&A.current.clear(),be=J.map(ze=>{var te,q;const E=se(ze.value),ae=A.current.get(ze.originalName);return{...ze,radius:E,x:(te=ae==null?void 0:ae.x)!=null?te:T/2,y:(q=ae==null?void 0:ae.y)!=null?q:S/2}});const _e=b6(be).force("x",v6(T/2).strength(.05)).force("y",y6(S/2).strength(.05)).force("collision",d6().radius(ze=>ze.radius+3)).stop();for(let ze=0;ze<150;++ze)_e.tick();_e.stop()}else{(!O.current||Q.current)&&A.current.clear();const _e=ae=>{let te=0;for(let q=0;q<ae.length;q++){const H=ae.charCodeAt(q);te=(te<<5)-te+H,te=te&te}return Math.abs(te)};be=J.map((ae,te)=>{var we,De;const q=se(ae.value),H=A.current.get(ae.originalName);let $=0;if(te===0)$=q+20;else{for(let Ee=0;Ee<te;Ee++){const He=se(J[Ee].value);$+=He*2+20}$+=q}const he=_e(ae.originalName),ke=S*.25,oe=(he%200/200-.5)*ke,Te=S/2,ve=Math.max(q+10,Math.min(S-q-10,Te+oe));return{...ae,radius:q,x:(we=H==null?void 0:H.x)!=null?we:$,y:(De=H==null?void 0:H.y)!=null?De:ve}});const ze=be.reduce((ae,te,q)=>q===0?te.radius*2+20:ae+te.radius*2+20,0),E=ze<T?(T-ze)/2:20;if(ze<T){let ae=E;be.forEach((te,q)=>{if(q===0)ae=E+te.radius;else{const H=be[q-1].radius;ae+=H+te.radius+20}te.x=ae})}}be.forEach(_e=>{A.current.set(_e.originalName,{x:_e.x,y:_e.y,radius:_e.radius})}),O.current=!0;const R=D.selectAll("g.bubble").data(be,_e=>_e.originalName);R.exit().remove();const F=R.enter().append("g").attr("class","bubble").attr("transform",_e=>{var E,ae;const ze=A.current.get(_e.originalName);return`translate(${(E=ze==null?void 0:ze.x)!=null?E:_e.x},${(ae=ze==null?void 0:ze.y)!=null?ae:_e.y})`}),ee=F.merge(R);F.append("circle").attr("r",0).attr("fill",_e=>_e.color).attr("opacity",_e=>_e.isActive||!B?.8:.35).attr("stroke",_e=>_e.color).attr("stroke-width",_e=>_e.isActive?4:2).style("cursor","pointer").on("mouseenter",function(_e,ze){var H;const E=A.current.get(ze.originalName),ae=(H=E==null?void 0:E.radius)!=null?H:ze.radius;Ja(this).transition().duration(200).attr("opacity",1).attr("r",ae*1.1);const[te,q]=hu(_e,G);W.style("left",`${te+10}px`).style("top",`${q-10}px`).html(`${ze.name}: ${ze.percentage.toFixed(1)}%`).transition().duration(200).style("opacity",1)}).on("mousemove",function(_e,ze){const[E,ae]=hu(_e,G);W.style("left",`${E+10}px`).style("top",`${ae-10}px`)}).on("mouseleave",function(_e,ze){var te;const E=A.current.get(ze.originalName),ae=(te=E==null?void 0:E.radius)!=null?te:ze.radius;Ja(this).transition().duration(200).attr("opacity",ze.isActive||!B?.8:.35).attr("r",ae),W.transition().duration(200).style("opacity",0)}).on("click",function(_e,ze){var E;r&&r(ze.originalName,(E=ze.extensions)!=null?E:[])}).transition().duration(300).attr("r",_e=>_e.radius);const ue=R.select("circle");ue.transition().duration(300).attr("r",_e=>{var E;const ze=A.current.get(_e.originalName);return(E=ze==null?void 0:ze.radius)!=null?E:_e.radius}).attr("fill",_e=>_e.color).attr("stroke",_e=>_e.color).attr("opacity",_e=>_e.isActive||!B?.8:.35).attr("stroke-width",_e=>_e.isActive?4:2),ue.on("mouseenter",function(_e,ze){var H;const E=A.current.get(ze.originalName),ae=(H=E==null?void 0:E.radius)!=null?H:ze.radius;Ja(this).transition().duration(200).attr("opacity",1).attr("r",ae*1.1);const[te,q]=hu(_e,G);W.style("left",`${te+10}px`).style("top",`${q-10}px`).html(`${ze.name}: ${ze.percentage.toFixed(1)}%`).transition().duration(200).style("opacity",1)}).on("mousemove",function(_e,ze){const[E,ae]=hu(_e,G);W.style("left",`${E+10}px`).style("top",`${ae-10}px`)}).on("mouseleave",function(_e,ze){var te;const E=A.current.get(ze.originalName),ae=(te=E==null?void 0:E.radius)!=null?te:ze.radius;Ja(this).transition().duration(200).attr("opacity",ze.isActive||!B?.8:.35).attr("r",ae),W.transition().duration(200).style("opacity",0)}).on("click",function(_e,ze){var E;r&&r(ze.originalName,(E=ze.extensions)!=null?E:[])});const Me=ee.selectAll("text.bubble-label").data(_e=>[_e],_e=>_e.originalName);Me.exit().remove(),Me.enter().append("text").attr("class","bubble-label").attr("text-anchor","middle").attr("dy",".35em").attr("fill","#fff").attr("font-weight","600").style("font-family","system-ui, -apple-system, sans-serif").style("pointer-events","none").style("user-select","none").style("opacity",0).merge(Me).text(_e=>_e.name).transition().duration(300).attr("font-size",_e=>{var E;const ze=A.current.get(_e.originalName);return Math.min(((E=ze==null?void 0:ze.radius)!=null?E:_e.radius)/3,12)}).style("font-family","system-ui, -apple-system, sans-serif").style("opacity",1);const de=ee.selectAll("text.bubble-count").data(_e=>[_e],_e=>_e.originalName);return de.exit().remove(),de.enter().append("text").attr("class","bubble-count").attr("text-anchor","middle").attr("fill","currentColor").attr("font-size",11).style("pointer-events","none").style("user-select","none").style("opacity",0).merge(de).text(_e=>yr(_e.value)).transition().duration(300).attr("dy",_e=>{var E;const ze=A.current.get(_e.originalName);return((E=ze==null?void 0:ze.radius)!=null?E:_e.radius)+15}).style("opacity",.7),ee.transition().duration(300).attr("transform",_e=>{var E,ae;const ze=A.current.get(_e.originalName);return`translate(${(E=ze==null?void 0:ze.x)!=null?E:_e.x},${(ae=ze==null?void 0:ze.y)!=null?ae:_e.y})`}),()=>{}},[x,B,r]),x.length===0)return c.jsx("div",{className:"rounded-lg border border-zinc-200 dark:border-zinc-800 p-8 bg-white dark:bg-zinc-900 flex items-center justify-center h-64",children:c.jsx("div",{className:"text-sm text-zinc-500 dark:text-zinc-400",children:"No data available"})});const[Z,P]=b.useState(!1);if(b.useEffect(()=>{const D=()=>{P(window.innerWidth<640)};return D(),window.addEventListener("resize",D),()=>window.removeEventListener("resize",D)},[]),Z){const D=[...x].sort((T,U)=>U.value-T.value),G=!!y;return c.jsxs("div",{className:"rounded-lg border border-zinc-200 dark:border-zinc-800 p-3 sm:p-6 bg-white dark:bg-zinc-900",children:[c.jsx("div",{className:"flex flex-wrap gap-2 justify-center",children:D.map(T=>c.jsxs("div",{onClick:()=>{var U;return r==null?void 0:r(T.originalName,(U=T.extensions)!=null?U:[])},className:"px-3 py-1.5 rounded-full text-xs sm:text-sm font-medium flex items-center gap-2 cursor-pointer transition",style:{backgroundColor:`${T.color}20`,color:T.color,border:`1px solid ${T.color}40`,opacity:T.isActive||!G?1:.5},children:[c.jsx("span",{className:"font-vibur",children:T.name}),c.jsxs("span",{className:"opacity-70",children:["(",yr(T.value),")"]})]},T.originalName))}),k&&c.jsx("div",{className:"mt-4 text-sm text-zinc-600 dark:text-zinc-400",children:Object.keys(h).length>0?c.jsxs("div",{children:[c.jsx("div",{className:"font-medium mb-2",children:"Other file types:"}),c.jsx("div",{className:"flex flex-wrap gap-2 justify-center",children:Object.entries(h).sort(([,T],[,U])=>U-T).map(([T,U])=>c.jsxs("span",{className:"px-2 py-1 rounded bg-zinc-100 dark:bg-zinc-800",children:[".",T,": ",yr(U)]},T))})]}):u.length>0?c.jsxs("div",{className:"text-center",children:["(Other includes: ",u.join(", "),")"]}):c.jsx("div",{className:"text-center",children:"(Other file types)"})})]})}return c.jsxs("div",{className:"rounded-lg border border-zinc-200 dark:border-zinc-800 p-3 sm:p-6 bg-white dark:bg-zinc-900",children:[c.jsx("div",{ref:M,className:"w-full relative",style:{height:"350px",minHeight:"300px"},children:c.jsx("svg",{ref:C,className:"w-full h-full"})}),k&&c.jsx("div",{className:"mt-4 text-sm text-zinc-600 dark:text-zinc-400",children:Object.keys(h).length>0?c.jsxs("div",{children:[c.jsx("div",{className:"font-medium mb-2",children:"Other file types:"}),c.jsx("div",{className:"flex flex-wrap gap-2 justify-center",children:Object.entries(h).sort(([,D],[,G])=>G-D).map(([D,G])=>c.jsxs("span",{className:"px-2 py-1 rounded bg-zinc-100 dark:bg-zinc-800",children:[".",D,": ",yr(G)]},D))})]}):u.length>0?c.jsxs("div",{className:"text-center",children:["(Other includes: ",u.join(", "),")"]}):c.jsx("div",{className:"text-center",children:"(Other file types)"})})]})}function Z6({stats:t,isScanRunning:r,lastScan:a}){var s,o;return c.jsxs("div",{className:"rounded-lg border border-zinc-200 dark:border-zinc-800 p-2.5 sm:p-4 bg-white dark:bg-zinc-900",children:[c.jsxs("h2",{className:"text-base sm:text-lg font-semibold mb-2 sm:mb-3 border-b border-zinc-200 dark:border-zinc-800 pb-1.5 sm:pb-2 flex items-center justify-between",children:[c.jsx("span",{children:"Discovery"}),c.jsx("span",{className:`px-2 py-0.5 rounded-full text-xs font-medium ${r?"bg-green-500 text-white":"bg-gray-400 text-white"}`,children:r?"active":"idle"})]}),c.jsxs("div",{className:"space-y-1.5 sm:space-y-2 text-xs sm:text-sm",children:[c.jsxs("div",{className:"flex justify-between",children:[c.jsx("span",{className:"text-zinc-600 dark:text-zinc-400",children:"Files Discovered"}),c.jsxs("span",{className:"font-semibold",children:[yr((o=(s=t.discovery)==null?void 0:s.files_discovered)!=null?o:t.processed.files_total),(()=>{const u=(()=>{var d,f,h;return typeof((d=t.current_scan)==null?void 0:d.files_per_sec)=="number"?t.current_scan.files_per_sec:!r&&typeof(a==null?void 0:a.rate)=="number"?a.rate:(h=(f=t.processed)==null?void 0:f.files_per_sec)!=null?h:0})();if(u>0){let d;return u>=1e3?d=u.toLocaleString("en-US",{maximumFractionDigits:1}):u>=100?d=u.toFixed(1):u>=1?d=u.toFixed(2):d=u.toFixed(3),c.jsxs(c.Fragment,{children:[" @ ",c.jsx("span",{className:"tabular-nums",children:d}),c.jsx("span",{className:"text-xs sm:text-sm opacity-70 ml-1",children:"files/sec"})]})}return""})()]})]}),c.jsxs("div",{className:"flex justify-between",children:[c.jsx("span",{className:"text-zinc-600 dark:text-zinc-400",children:t.current_scan?"Current Scan":a?"Completed Scan":"Time"}),c.jsx("span",{className:"font-semibold",children:(()=>{var u,d;if(t.current_scan){const f=yr((u=t.current_scan.files_discovered)!=null?u:t.current_scan.files_processed),h=r&&t.current_scan.elapsed_seconds!==void 0?gi(t.current_scan.elapsed_seconds):(a==null?void 0:a.elapsed)!==void 0?gi(a.elapsed):"-";return c.jsxs(c.Fragment,{children:[f," files",h!=="-"&&c.jsxs(c.Fragment,{children:[" / ",h]})]})}else if(a){const f=a.completedAt?b2(a.completedAt):null,h=a.elapsed!==void 0?gi(a.elapsed):null;return!f&&!h?"-":c.jsxs(c.Fragment,{children:[f!=null?f:"-",h&&c.jsxs(c.Fragment,{children:["  ",h]})]})}else return r&&((d=t.current_scan)==null?void 0:d.elapsed_seconds)!==void 0?gi(t.current_scan.elapsed_seconds):"-"})()})]})]})]})}function K6({stats:t,lastProcessing:r,processingElapsedLive:a,isProcessingActive:s}){var d,f;const u=(t==null?void 0:t.scan_running)===!0||(t==null?void 0:t.processing_active)===!0;return c.jsxs("div",{className:"rounded-lg border border-zinc-200 dark:border-zinc-800 p-2.5 sm:p-4 bg-white dark:bg-zinc-900",children:[c.jsxs("h2",{className:"text-base sm:text-lg font-semibold mb-2 sm:mb-3 border-b border-zinc-200 dark:border-zinc-800 pb-1.5 sm:pb-2 flex items-center justify-between",children:[c.jsx("span",{children:"Indexing"}),c.jsx("span",{className:`px-2 py-0.5 rounded-full text-xs font-medium ${u?"bg-green-500 text-white":"bg-gray-400 text-white"}`,children:u?"active":"idle"})]}),c.jsxs("div",{className:"space-y-1.5 sm:space-y-2 text-xs sm:text-sm",children:[c.jsxs("div",{className:"flex justify-between",children:[c.jsx("span",{className:"text-zinc-600 dark:text-zinc-400",children:"Files Processed"}),c.jsx("span",{className:"font-semibold",children:(()=>{var w,x,j,_;const h=yr((x=(w=t.processing)==null?void 0:w.files_committed)!=null?x:t.db.assets),p=(j=t.processing)==null?void 0:j.last_completed_elapsed_seconds;let v=null;u?typeof a=="number"?v=a:((_=t.current_processing)==null?void 0:_.elapsed_seconds)!==void 0&&(v=t.current_processing.elapsed_seconds):u||(typeof p=="number"&&p>=0?v=p:(r==null?void 0:r.elapsed)!==void 0&&(v=r.elapsed));const y=typeof v=="number"?Vu(v):null;return c.jsxs(c.Fragment,{children:[h,y&&c.jsxs(c.Fragment,{children:["  ",y]})]})})()})]}),c.jsxs("div",{className:"flex justify-between",children:[c.jsx("span",{className:"text-zinc-600 dark:text-zinc-400",children:"Data Processed"}),c.jsxs("span",{className:"font-semibold",children:[g2((f=(d=t.processing)==null?void 0:d.bytes_total)!=null?f:t.processed.bytes_total),(()=>{var p,v,y;const h=(y=(v=(p=t.processing)==null?void 0:p.throughput_mb_per_sec)!=null?v:t.processed.mb_per_sec)!=null?y:0;return h>0?` @ ${h.toFixed(2)} MB/s`:""})()]})]}),(()=>{var y,w,x,j,_,z,k,C;const h=(j=(x=(y=t.discovery)==null?void 0:y.files_discovered)!=null?x:(w=t.processed)==null?void 0:w.files_total)!=null?j:0,p=(C=(k=(_=t.processing)==null?void 0:_.files_committed)!=null?k:(z=t.db)==null?void 0:z.assets)!=null?C:0,v=h>0?Math.min(p/h*100,100):0;return h>0?c.jsxs("div",{className:"pt-2",children:[c.jsx("div",{className:"w-full bg-zinc-200 dark:bg-zinc-700 rounded-full h-2",children:c.jsx("div",{className:"bg-green-600 dark:bg-green-500 h-2 rounded-full transition-all duration-300",style:{width:`${v}%`}})}),c.jsxs("div",{className:"text-xs text-zinc-600 dark:text-zinc-400 mt-1 text-center",children:[p.toLocaleString()," / ",h.toLocaleString()," (",v.toFixed(1),"%)"]})]}):null})()]})]})}function X6({perf:t,stats:r}){const a=t.gpu_usage.enabled&&!t.gpu_usage.auto_disabled,s=t.gpu_usage.auto_disabled;return c.jsxs("div",{className:"rounded-lg border border-zinc-200 dark:border-zinc-800 p-2.5 sm:p-4 bg-white dark:bg-zinc-900",children:[c.jsx("h2",{className:"text-base sm:text-lg font-semibold mb-2 sm:mb-3 border-b border-zinc-200 dark:border-zinc-800 pb-1.5 sm:pb-2",children:"System"}),c.jsxs("div",{className:"space-y-1.5 sm:space-y-2 text-xs sm:text-sm",children:[c.jsxs("div",{className:"flex justify-between",children:[c.jsx("span",{className:"text-zinc-600 dark:text-zinc-400",children:"Processor"}),c.jsx("span",{className:"font-semibold text-xs break-words text-right max-w-[60%]",children:t.system_info.cpu_brand!=="Unknown"?`${t.system_info.cpu_brand} (${t.system_info.cpu_cores} cores)`:`${t.system_info.cpu_cores} cores`})]}),c.jsxs("div",{className:"flex justify-between",children:[c.jsx("span",{className:"text-zinc-600 dark:text-zinc-400",children:"Accelerator"}),c.jsxs("span",{className:`font-semibold ${s?"text-red-600 dark:text-red-400":a?"text-green-600 dark:text-green-400":""}`,children:[t.system_info.accel,s?" (Auto-disabled)":a?" (GPU)":""]})]}),c.jsxs("div",{className:"flex justify-between",children:[c.jsx("span",{className:"text-zinc-600 dark:text-zinc-400",children:"Uptime"}),c.jsx("span",{className:"font-semibold",children:Vu(r.uptime_seconds)})]})]})]})}function V6({perf:t,stats:r,lastActive:a,lastScan:s,lastProcessing:o,processingElapsedLive:u,isScanActive:d,isProcessingActive:f,resetStatsMutation:h}){var z,k;const p=r.scan_running===!0,v=r.scan_running===!0||r.processing_active===!0,y=d,w=f,x=p,j=t.gpu_usage.enabled&&!t.gpu_usage.auto_disabled,_=t.gpu_usage.auto_disabled;return c.jsx("section",{className:"space-y-3 sm:space-y-6",children:c.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-2 sm:gap-4 lg:hidden",children:[c.jsxs("div",{className:"rounded-lg border border-zinc-200 dark:border-zinc-800 p-2.5 sm:p-4 bg-white dark:bg-zinc-900",children:[c.jsxs("h2",{className:"text-base sm:text-lg font-semibold mb-2 sm:mb-3 border-b border-zinc-200 dark:border-zinc-800 pb-1.5 sm:pb-2 flex items-center justify-between",children:[c.jsx("span",{children:"Discovery"}),c.jsx("span",{className:`px-2 py-0.5 rounded-full text-xs font-medium ${y?"bg-green-500 text-white":"bg-gray-400 text-white"}`,children:y?"active":"idle"})]}),c.jsxs("div",{className:"space-y-1.5 sm:space-y-2 text-xs sm:text-sm",children:[c.jsxs("div",{className:"flex justify-between",children:[c.jsx("span",{className:"text-zinc-600 dark:text-zinc-400",children:"Files Discovered"}),c.jsxs("span",{className:"font-semibold",children:[yr((k=(z=r.discovery)==null?void 0:z.files_discovered)!=null?k:r.processed.files_total),(()=>{var M,A,O;const C=(O=(A=(M=r.discovery)==null?void 0:M.rate_files_per_sec)!=null?A:r.processed.files_per_sec)!=null?O:0;if(C>0){let Q;return C>=1e3?Q=C.toLocaleString("en-US",{maximumFractionDigits:1}):C>=100?Q=C.toFixed(1):C>=1?Q=C.toFixed(2):Q=C.toFixed(3),c.jsxs(c.Fragment,{children:[" @ ",c.jsx("span",{className:"tabular-nums",children:Q}),c.jsx("span",{className:"text-xs sm:text-sm opacity-70 ml-1",children:"files/sec"})]})}return""})()]})]}),c.jsxs("div",{className:"flex justify-between",children:[c.jsx("span",{className:"text-zinc-600 dark:text-zinc-400",children:r.current_scan?"Current Scan":s?"Completed Scan":"Time"}),c.jsx("span",{className:"font-semibold",children:(()=>{var C,M;if(r.current_scan){const A=yr((C=r.current_scan.files_discovered)!=null?C:r.current_scan.files_processed),O=x&&r.current_scan.elapsed_seconds!==void 0?gi(r.current_scan.elapsed_seconds):(s==null?void 0:s.elapsed)!==void 0?gi(s.elapsed):"-";return c.jsxs(c.Fragment,{children:[A," files",O!=="-"&&c.jsxs(c.Fragment,{children:[" / ",O]})]})}else if(s){const A=s.completedAt?b2(s.completedAt):null,O=s.elapsed!==void 0?gi(s.elapsed):null;return!A&&!O?"-":c.jsxs(c.Fragment,{children:[A!=null?A:"-",O&&c.jsxs(c.Fragment,{children:["  ",O]})]})}else return x&&((M=r.current_scan)==null?void 0:M.elapsed_seconds)!==void 0?gi(r.current_scan.elapsed_seconds):"-"})()})]})]})]}),c.jsxs("div",{className:"rounded-lg border border-zinc-200 dark:border-zinc-800 p-2.5 sm:p-4 bg-white dark:bg-zinc-900",children:[c.jsxs("h2",{className:"text-base sm:text-lg font-semibold mb-2 sm:mb-3 border-b border-zinc-200 dark:border-zinc-800 pb-1.5 sm:pb-2 flex items-center justify-between",children:[c.jsx("span",{children:"Indexing"}),c.jsx("span",{className:`px-2 py-0.5 rounded-full text-xs font-medium ${w?"bg-green-500 text-white":"bg-gray-400 text-white"}`,children:w?"active":"idle"})]}),c.jsxs("div",{className:"space-y-1.5 sm:space-y-2 text-xs sm:text-sm",children:[c.jsxs("div",{className:"flex justify-between",children:[c.jsx("span",{className:"text-zinc-600 dark:text-zinc-400",children:"Files Processed"}),c.jsx("span",{className:"font-semibold",children:(()=>{var B,Z,P,D,G,T,U;const C=yr((Z=(B=r.processing)==null?void 0:B.files_committed)!=null?Z:r.db.assets),M=(P=r.processing)==null?void 0:P.last_completed_elapsed_seconds;let A=null;v?typeof u=="number"?A=u:((D=r.current_processing)==null?void 0:D.elapsed_seconds)!==void 0&&(A=r.current_processing.elapsed_seconds):typeof M=="number"&&M>=0?A=M:(o==null?void 0:o.elapsed)!==void 0&&(A=o.elapsed);const O=typeof A=="number"?Vu(A):null,Q=v?0:(U=(T=(G=r.processing)==null?void 0:G.throughput_mb_per_sec)!=null?T:r.processed.mb_per_sec)!=null?U:0;return c.jsxs(c.Fragment,{children:[C," files",O&&c.jsxs(c.Fragment,{children:["  ",O]}),!v&&Q>0&&c.jsxs(c.Fragment,{children:[" @ ",Q.toFixed(2)," MB/s"]})]})})()})]}),c.jsxs("div",{className:"flex justify-between",children:[c.jsx("span",{className:"text-zinc-600 dark:text-zinc-400",children:"Data Processed"}),c.jsx("span",{className:"font-semibold",children:(()=>{var B,Z,P,D,G,T,U,S;const C=(P=(Z=(B=r.processing)==null?void 0:B.bytes_total)!=null?Z:r.processed.bytes_total)!=null?P:0,M=g2(C),A=(T=(G=(D=r.processing)==null?void 0:D.throughput_mb_per_sec)!=null?G:r.processed.mb_per_sec)!=null?T:0;let O=0;v&&((U=r.current_processing)==null?void 0:U.processing_rate_files_per_sec)!==void 0?O=r.current_processing.processing_rate_files_per_sec:((S=r.processing)==null?void 0:S.rate_files_per_sec)!==void 0&&(O=r.processing.rate_files_per_sec);let Q=M;return A>0&&(Q+=` @ ${A.toFixed(2)} MB/s`),O>0&&(Q+=` @ ${O.toFixed(2)} files/sec`),Q})()})]}),(()=>{var O,Q,B,Z,P,D,G,T;const C=(Z=(B=(O=r.discovery)==null?void 0:O.files_discovered)!=null?B:(Q=r.processed)==null?void 0:Q.files_total)!=null?Z:0,M=(T=(G=(P=r.processing)==null?void 0:P.files_committed)!=null?G:(D=r.db)==null?void 0:D.assets)!=null?T:0,A=C>0?Math.min(M/C*100,100):0;return C>0?c.jsxs("div",{className:"pt-2",children:[c.jsx("div",{className:"w-full bg-zinc-200 dark:bg-zinc-700 rounded-full h-2",children:c.jsx("div",{className:"bg-green-600 dark:bg-green-500 h-2 rounded-full transition-all duration-300",style:{width:`${A}%`}})}),c.jsxs("div",{className:"text-xs text-zinc-600 dark:text-zinc-400 mt-1 text-center",children:[M.toLocaleString()," / ",C.toLocaleString()," (",A.toFixed(1),"%)"]})]}):null})()]})]}),c.jsxs("div",{className:"rounded-lg border border-zinc-200 dark:border-zinc-800 p-2.5 sm:p-4 bg-white dark:bg-zinc-900",children:[c.jsx("h2",{className:"text-base sm:text-lg font-semibold mb-2 sm:mb-3 border-b border-zinc-200 dark:border-zinc-800 pb-1.5 sm:pb-2",children:"System"}),c.jsxs("div",{className:"space-y-1.5 sm:space-y-2 text-xs sm:text-sm",children:[c.jsxs("div",{className:"flex justify-between",children:[c.jsx("span",{className:"text-zinc-600 dark:text-zinc-400",children:"Processor"}),c.jsx("span",{className:"font-semibold text-xs break-words text-right max-w-[60%]",children:t.system_info.cpu_brand!=="Unknown"?`${t.system_info.cpu_brand} (${t.system_info.cpu_cores} cores)`:`${t.system_info.cpu_cores} cores`})]}),c.jsxs("div",{className:"flex justify-between",children:[c.jsx("span",{className:"text-zinc-600 dark:text-zinc-400",children:"Accelerator"}),c.jsxs("span",{className:`font-semibold ${_?"text-red-600 dark:text-red-400":j?"text-green-600 dark:text-green-400":""}`,children:[t.system_info.accel,_?" (Auto-disabled)":j?" (GPU)":""]})]}),c.jsxs("div",{className:"flex justify-between",children:[c.jsx("span",{className:"text-zinc-600 dark:text-zinc-400",children:"Uptime"}),c.jsx("span",{className:"font-semibold",children:Vu(r.uptime_seconds)})]})]})]})]})})}function W6({title:t,titleId:r,...a},s){return b.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":r},a),t?b.createElement("title",{id:r},t):null,b.createElement("path",{fillRule:"evenodd",d:"M15 3.75a.75.75 0 0 1 .75-.75h4.5a.75.75 0 0 1 .75.75v4.5a.75.75 0 0 1-1.5 0V5.56l-3.97 3.97a.75.75 0 1 1-1.06-1.06l3.97-3.97h-2.69a.75.75 0 0 1-.75-.75Zm-12 0A.75.75 0 0 1 3.75 3h4.5a.75.75 0 0 1 0 1.5H5.56l3.97 3.97a.75.75 0 0 1-1.06 1.06L4.5 5.56v2.69a.75.75 0 0 1-1.5 0v-4.5Zm11.47 11.78a.75.75 0 1 1 1.06-1.06l3.97 3.97v-2.69a.75.75 0 0 1 1.5 0v4.5a.75.75 0 0 1-.75.75h-4.5a.75.75 0 0 1 0-1.5h2.69l-3.97-3.97Zm-4.94-1.06a.75.75 0 0 1 0 1.06L5.56 19.5h2.69a.75.75 0 0 1 0 1.5h-4.5a.75.75 0 0 1-.75-.75v-4.5a.75.75 0 0 1 1.5 0v2.69l3.97-3.97a.75.75 0 0 1 1.06 0Z",clipRule:"evenodd"}))}const J6=b.forwardRef(W6);function eC({title:t,titleId:r,...a},s){return b.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":r},a),t?b.createElement("title",{id:r},t):null,b.createElement("path",{fillRule:"evenodd",d:"M19.916 4.626a.75.75 0 0 1 .208 1.04l-9 13.5a.75.75 0 0 1-1.154.114l-6-6a.75.75 0 0 1 1.06-1.06l5.353 5.353 8.493-12.74a.75.75 0 0 1 1.04-.207Z",clipRule:"evenodd"}))}const tC=b.forwardRef(eC);function nC({title:t,titleId:r,...a},s){return b.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":r},a),t?b.createElement("title",{id:r},t):null,b.createElement("path",{fillRule:"evenodd",d:"M6.75 5.25a.75.75 0 0 1 .75-.75H9a.75.75 0 0 1 .75.75v13.5a.75.75 0 0 1-.75.75H7.5a.75.75 0 0 1-.75-.75V5.25Zm7.5 0A.75.75 0 0 1 15 4.5h1.5a.75.75 0 0 1 .75.75v13.5a.75.75 0 0 1-.75.75H15a.75.75 0 0 1-.75-.75V5.25Z",clipRule:"evenodd"}))}const rC=b.forwardRef(nC);function aC({title:t,titleId:r,...a},s){return b.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":r},a),t?b.createElement("title",{id:r},t):null,b.createElement("path",{fillRule:"evenodd",d:"M4.5 5.653c0-1.427 1.529-2.33 2.779-1.643l11.54 6.347c1.295.712 1.295 2.573 0 3.286L7.28 19.99c-1.25.687-2.779-.217-2.779-1.643V5.653Z",clipRule:"evenodd"}))}const v2=b.forwardRef(aC);function iC({title:t,titleId:r,...a},s){return b.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":r},a),t?b.createElement("title",{id:r},t):null,b.createElement("path",{d:"M13.5 4.06c0-1.336-1.616-2.005-2.56-1.06l-4.5 4.5H4.508c-1.141 0-2.318.664-2.66 1.905A9.76 9.76 0 0 0 1.5 12c0 .898.121 1.768.35 2.595.341 1.24 1.518 1.905 2.659 1.905h1.93l4.5 4.5c.945.945 2.561.276 2.561-1.06V4.06ZM18.584 5.106a.75.75 0 0 1 1.06 0c3.808 3.807 3.808 9.98 0 13.788a.75.75 0 0 1-1.06-1.06 8.25 8.25 0 0 0 0-11.668.75.75 0 0 1 0-1.06Z"}),b.createElement("path",{d:"M15.932 7.757a.75.75 0 0 1 1.061 0 6 6 0 0 1 0 8.486.75.75 0 0 1-1.06-1.061 4.5 4.5 0 0 0 0-6.364.75.75 0 0 1 0-1.06Z"}))}const sC=b.forwardRef(iC);function lC({title:t,titleId:r,...a},s){return b.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":r},a),t?b.createElement("title",{id:r},t):null,b.createElement("path",{d:"M13.5 4.06c0-1.336-1.616-2.005-2.56-1.06l-4.5 4.5H4.508c-1.141 0-2.318.664-2.66 1.905A9.76 9.76 0 0 0 1.5 12c0 .898.121 1.768.35 2.595.341 1.24 1.518 1.905 2.659 1.905h1.93l4.5 4.5c.945.945 2.561.276 2.561-1.06V4.06ZM17.78 9.22a.75.75 0 1 0-1.06 1.06L18.44 12l-1.72 1.72a.75.75 0 1 0 1.06 1.06l1.72-1.72 1.72 1.72a.75.75 0 1 0 1.06-1.06L20.56 12l1.72-1.72a.75.75 0 1 0-1.06-1.06l-1.72 1.72-1.72-1.72Z"}))}const oC=b.forwardRef(lC);function cC({x:t,y:r,onClose:a,onDownload:s,onDelete:o,onCopy:u,onAddToAlbum:d,onMoveToAlbum:f,onRemoveFromAlbum:h,onAssignToPerson:p,showAssignToPerson:v,onUnassignFromPerson:y,showUnassignFromPerson:w}){const x=b.useRef(null);b.useEffect(()=>{const z=C=>{x.current&&!x.current.contains(C.target)&&a()},k=C=>{C.target instanceof HTMLInputElement||C.target instanceof HTMLTextAreaElement||(C.key==="Escape"?a():C.key==="w"||C.key==="W"?(C.preventDefault(),s(),a()):C.key==="c"||C.key==="C"?(C.preventDefault(),u(),a()):(C.key==="d"||C.key==="D")&&(C.preventDefault(),o(),a()))};return document.addEventListener("mousedown",z),document.addEventListener("keydown",k),()=>{document.removeEventListener("mousedown",z),document.removeEventListener("keydown",k)}},[a,s,u,o]);const[j,_]=(()=>{if(!x.current)return[t,r];const z=x.current.getBoundingClientRect(),k=window.innerWidth,C=window.innerHeight;let M=t,A=r;return t+z.width>k&&(M=k-z.width-10),r+z.height>C&&(A=C-z.height-10),[M,A]})();return c.jsxs("div",{ref:x,className:"fixed z-50 bg-white dark:bg-zinc-800 border border-zinc-200 dark:border-zinc-700 rounded-lg shadow-lg py-1 min-w-[180px]",style:{left:`${j}px`,top:`${_}px`},onClick:z=>z.stopPropagation(),children:[c.jsxs("button",{onClick:z=>{z.stopPropagation(),s(),a()},className:"w-full px-4 py-2 text-left text-sm text-zinc-700 dark:text-zinc-200 hover:bg-zinc-100 dark:hover:bg-zinc-700 flex items-center justify-between gap-2",children:[c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx(r1,{className:"w-4 h-4"}),"Download"]}),c.jsx("kbd",{className:"px-1.5 py-0.5 text-xs font-semibold text-zinc-500 dark:text-zinc-400 bg-zinc-100 dark:bg-zinc-700 border border-zinc-300 dark:border-zinc-600 rounded",children:"W"})]}),c.jsxs("button",{onClick:z=>{z.stopPropagation(),u(),a()},className:"w-full px-4 py-2 text-left text-sm text-zinc-700 dark:text-zinc-200 hover:bg-zinc-100 dark:hover:bg-zinc-700 flex items-center justify-between gap-2",children:[c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx(cz,{className:"w-4 h-4"}),"Copy to Clipboard"]}),c.jsx("kbd",{className:"px-1.5 py-0.5 text-xs font-semibold text-zinc-500 dark:text-zinc-400 bg-zinc-100 dark:bg-zinc-700 border border-zinc-300 dark:border-zinc-600 rounded",children:"C"})]}),d&&c.jsxs("button",{onClick:z=>{z.stopPropagation(),d()},className:"w-full px-4 py-2 text-left text-sm text-zinc-700 dark:text-zinc-200 hover:bg-zinc-100 dark:hover:bg-zinc-700 flex items-center gap-2",children:[c.jsx(Du,{className:"w-4 h-4"}),"Add to Album"]}),f&&c.jsxs("button",{onClick:z=>{z.stopPropagation(),f()},className:"w-full px-4 py-2 text-left text-sm text-zinc-700 dark:text-zinc-200 hover:bg-zinc-100 dark:hover:bg-zinc-700 flex items-center gap-2",children:[c.jsx(a1,{className:"w-4 h-4"}),"Move to Album"]}),h&&c.jsxs("button",{onClick:z=>{z.stopPropagation(),h()},className:"w-full px-4 py-2 text-left text-sm text-zinc-700 dark:text-zinc-200 hover:bg-zinc-100 dark:hover:bg-zinc-700 flex items-center gap-2",children:[c.jsx(Du,{className:"w-4 h-4"}),"Remove from Album"]}),v&&p&&c.jsxs("button",{onClick:z=>{z.stopPropagation(),p(),a()},className:"w-full px-4 py-2 text-left text-sm text-zinc-700 dark:text-zinc-200 hover:bg-zinc-100 dark:hover:bg-zinc-700 flex items-center gap-2",children:[c.jsx(Gz,{className:"w-4 h-4"}),"Assign to Person"]}),w&&y&&c.jsx("button",{onClick:z=>{z.stopPropagation(),y(),a()},className:"w-full px-4 py-2 text-left text-sm text-zinc-700 dark:text-zinc-200 hover:bg-zinc-100 dark:hover:bg-zinc-700 flex items-center gap-2",children:"Unassign from Person"}),c.jsx("div",{className:"border-t border-zinc-200 dark:border-zinc-700 my-1"}),c.jsxs("button",{onClick:z=>{z.stopPropagation(),o(),a()},className:"w-full px-4 py-2 text-left text-sm text-red-600 dark:text-red-400 hover:bg-red-50 dark:hover:bg-red-900/20 flex items-center justify-between gap-2",children:[c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx(qo,{className:"w-4 h-4"}),"Delete"]}),c.jsx("kbd",{className:"px-1.5 py-0.5 text-xs font-semibold text-zinc-500 dark:text-zinc-400 bg-zinc-100 dark:bg-zinc-700 border border-zinc-300 dark:border-zinc-600 rounded",children:"D"})]})]})}const Cu="galleryScrollPosition",qm="galleryScrollToId";function Zy(){if("scrollRestoration"in window.history)try{window.history.scrollRestoration="manual"}catch{}}function uC(t){const r=window.scrollY||window.pageYOffset||document.documentElement.scrollTop||0;try{sessionStorage.setItem(Cu,String(r)),typeof t=="number"&&sessionStorage.setItem(qm,String(t))}catch{}}function Im(t){window.scrollTo({top:t,left:0,behavior:"auto"}),document.documentElement.scrollTop=t,document.body&&(document.body.scrollTop=t)}function dC(t){const r=t.getBoundingClientRect(),s=r.top+window.pageYOffset-window.innerHeight/2+r.height/2;Im(s)}function fC(t){const{containerRef:r,itemsReady:a,locationKey:s}=t,o=b.useRef(null);b.useLayoutEffect(()=>{if(o.current===s)return;const u=sessionStorage.getItem(Cu);if(u!=null){Zy();const d=parseInt(u,10);Number.isNaN(d)||Im(d)}},[s]),b.useEffect(()=>{if(o.current===s)return;const u=sessionStorage.getItem(Cu);if(u==null)return;Zy();const d=parseInt(u,10),f=sessionStorage.getItem(qm),h=f?parseInt(f,10):null,p=()=>{if(h){const _=document.querySelector(`[data-asset-id="${h}"]`);if(_)return dC(_),!0}return Number.isNaN(d)?!1:(Im(d),!0)},v=()=>{o.current=s;try{sessionStorage.removeItem(Cu),sessionStorage.removeItem(qm)}catch{}};if(a){let _=!1;const z=()=>{!_&&p()&&(_=!0,v())};requestAnimationFrame(()=>{requestAnimationFrame(()=>{z(),setTimeout(z,50),setTimeout(z,200),setTimeout(z,500)})});return}const y=r.current;if(!y)return;let w=!1;const x=new MutationObserver(()=>{w||p()&&(w=!0,v(),x.disconnect())});x.observe(y,{childList:!0,subtree:!0});const j=setTimeout(()=>{!w&&p()&&(w=!0,v()),x.disconnect()},1500);return()=>{x.disconnect(),clearTimeout(j)}},[a,r,s])}function Ko(t){return{id:String(t.id),name:t.name,description:t.description,assetIds:t.asset_ids,createdAt:t.created_at*1e3,updatedAt:t.updated_at*1e3}}async function va(){try{return(await xn.listAlbums()).map(Ko)}catch(t){return console.error("Failed to fetch albums:",t),[]}}async function z0(t,r){try{const a=await xn.createAlbum(t,r);return Ko(a)}catch(a){throw console.error("Failed to create album:",a),a}}async function hC(t,r){try{const a=parseInt(t,10);if(isNaN(a))return console.error("Invalid album ID:",t),null;const s=await xn.updateAlbum(a,r.name,r.description);return Ko(s)}catch(a){if(console.error("Failed to update album:",a),a instanceof Error&&a.message.includes("404"))return null;throw a}}async function mC(t){try{const r=parseInt(t,10);return isNaN(r)?(console.error("Invalid album ID:",t),!1):(await xn.deleteAlbum(r),!0)}catch(r){if(console.error("Failed to delete album:",r),r instanceof Error&&r.message.includes("404"))return!1;throw r}}async function To(t,r){try{const a=parseInt(t,10);if(isNaN(a))return console.error("Invalid album ID:",t),null;const s=await xn.addAssetsToAlbum(a,r);return Ko(s)}catch(a){if(console.error("Failed to add assets to album:",a),a instanceof Error&&a.message.includes("404"))return null;throw a}}async function Xs(t,r){try{const a=parseInt(t,10);if(isNaN(a))return console.error("Invalid album ID:",t),null;const s=await xn.removeAssetsFromAlbum(a,r);return Ko(s)}catch(a){if(console.error("Failed to remove assets from album:",a),a instanceof Error&&a.message.includes("404"))return null;throw a}}async function Pi(t){try{const r=await xn.getAlbumsForAsset(t),a=await va(),s=new Set(r.map(String));return a.filter(o=>s.has(o.id))}catch(r){return console.error("Failed to get albums for asset:",r),[]}}function pC({asset:t,index:r,sort:a,order:s,filteredAssetIds:o,isSelected:u,onSelect:d,selectionMode:f,onDelete:h,isDragging:p,isCtrlPressed:v,personId:y,selectedIds:w,isInAlbumsView:x}){var jn;const j=wn(),_=pn.thumbUrl(t.id,t.sha256),z=pn.previewUrl(t.id,t.sha256),k=ti(t.mime),M=!c4(t.mime)&&!k,[A,O]=b.useState(!1),[Q,B]=b.useState(null),[Z,P]=b.useState(null),[D,G]=b.useState(!1),[T,U]=b.useState(!1),[S,W]=b.useState(null),[K,I]=b.useState(!1),[se,J]=b.useState("add"),[be,R]=b.useState([]),[F,ee]=b.useState([]),[ie,ue]=b.useState(!1),[Me,re]=b.useState(!1),[je,de]=b.useState(""),[Oe,Ue]=b.useState(""),_e=Ea(),ze=yi(),{data:E}=yn({queryKey:["persons"],queryFn:()=>it.listPersons(),enabled:T});b.useEffect(()=>{K&&(async()=>{ue(!0);try{const[Ke,Y]=await Promise.all([va(),Pi(t.id)]);R(Ke),ee(Y)}catch(Ke){console.error("Failed to load albums:",Ke)}finally{ue(!1)}})()},[K,t.id]);const ae=Qe(xe=>xe.showAlbumTags),te=Qe(xe=>xe.albumTagFontColor),q=Qe(xe=>xe.albumTagBackgroundColor);b.useEffect(()=>{!x&&ae?(async()=>{try{const Ke=await Pi(t.id);ee(Ke)}catch(Ke){console.error("Failed to load albums for tags:",Ke)}})():(!ae||x)&&ee([])},[t.id,ae,x]),b.useEffect(()=>{if(!K)return;const xe=Ke=>{Ke.target.closest("[data-album-menu]")||I(!1)};return document.addEventListener("mousedown",xe),()=>{document.removeEventListener("mousedown",xe)}},[K]);const H=cn({mutationFn:xe=>{if(!y)throw new Error("No source person ID");return it.mergePersons(y,xe)},onSuccess:(xe,Ke)=>{var Le,Xe;ze.invalidateQueries({queryKey:["persons"]}),ze.invalidateQueries({queryKey:["personAssets"]}),ze.invalidateQueries({queryKey:["personFace"]}),ze.invalidateQueries({queryKey:["faceProgress"]}),ze.invalidateQueries({queryKey:["unassignedFaces"]}),U(!1),W(null),_e(`/gallery?person=${Ke}`);const Y=(Le=xe==null?void 0:xe.profile_refreshed)==null?void 0:Le.face_count,fe=(Xe=xe==null?void 0:xe.faces_merged)!=null?Xe:0,Re=Y?`Merged ${fe} faces. Profile now tracks ${Y}.`:`Merged ${fe} faces.`;$(Re)},onError:xe=>{alert(`Failed to assign person: ${xe instanceof Error?xe.message:"Unknown error"}`)}}),$=(xe,Ke="success")=>{const Y=document.createElement("div");Y.textContent=xe,Y.className=`fixed top-4 right-4 ${Ke==="success"?"bg-green-500":"bg-red-500"} text-white px-4 py-2 rounded shadow-lg z-50`,document.body.appendChild(Y),setTimeout(()=>{document.body.removeChild(Y)},2500)},he=xe=>{ze.getQueriesData({queryKey:["assets"]}).forEach(([Y,fe])=>{if(!Array.isArray(Y)||Y[0]!=="assets")return;const Re=Y[1];if(!fe||(Re==null?void 0:Re.person_id)!==xe)return;let Le=!1;const Xe=fe.pages.map(st=>{const yt=st.items.filter(ot=>ot.id!==t.id);return yt.length!==st.items.length?(Le=!0,{...st,items:yt}):st});Le&&ze.setQueryData(Y,{...fe,pages:Xe})})},ke=xe=>{if(p){xe.preventDefault(),xe.stopPropagation();return}},oe=xe=>{f&&(!y||!w||w.size===0)||(xe.preventDefault(),xe.stopPropagation(),B({x:xe.clientX,y:xe.clientY}))},Te=()=>{O(!0)},ve=async()=>{try{await xn.download(t.id)}catch(xe){console.error("Download failed:",xe),alert(`Download failed: ${xe instanceof Error?xe.message:"Unknown error"}`)}},we=async()=>{try{const Ke=await(await fetch(pn.previewUrl(t.id,t.sha256))).blob();await navigator.clipboard.write([new ClipboardItem({[Ke.type]:Ke})]),$("Copied to clipboard!")}catch(xe){console.error("Copy failed:",xe),alert(`Copy to clipboard failed: ${xe instanceof Error?xe.message:"Unknown error"}`)}},De=Qe(xe=>xe.showDeleteConfirmation),Ee=Qe(xe=>xe.deleteOriginalFiles),He=()=>{B(null),De?G(!0):qt()},Ae=()=>{B(null),U(!0)},$e=()=>{Q&&P({x:Q.x,y:Q.y}),B(null),J("add"),I(!0)},Ge=()=>{Q&&P({x:Q.x,y:Q.y}),B(null),J("add"),I(!0)},Ze=async xe=>{B(null),Q&&P({x:Q.x,y:Q.y}),J("remove"),I(!0)},Be=async xe=>{try{if(x&&F.length>0)for(const Y of F)await Xs(Y.id,[t.id]);await To(xe,[t.id]),$(x&&F.length>0?"Moved to album!":"Added to album!");const Ke=await Pi(t.id);ee(Ke),I(!1),J("add")}catch(Ke){console.error("Failed to add asset to album:",Ke),alert("Failed to add asset to album. Please try again.")}},Je=async xe=>{try{await Xs(xe,[t.id]),$("Removed from album!");const Ke=await Pi(t.id);ee(Ke),I(!1),J("add")}catch(Ke){console.error("Failed to remove asset from album:",Ke),alert("Failed to remove asset from album. Please try again.")}},vt=async()=>{if(je.trim())try{const xe=await z0(je.trim(),Oe.trim()||void 0);if(x&&F.length>0)for(const fe of F)await Xs(fe.id,[t.id]);await To(xe.id,[t.id]);const[Ke,Y]=await Promise.all([va(),Pi(t.id)]);R(Ke),ee(Y),re(!1),de(""),Ue(""),I(!1),$(x&&F.length>0?"Created album and moved photo!":"Created album and added photo!")}catch(xe){console.error("Failed to create album:",xe),alert("Failed to create album. Please try again.")}},Pe=w&&w.size>0?w.size:1,Ut=async()=>{if(!y)return;B(null);const xe=w&&w.size>0?Array.from(w):[t.id];try{let Ke=0,Y=0,fe=0;for(const Xe of xe)try{const yt=(await it.getAssetFaces(Xe)).filter(ot=>ot.person_id===y);yt.length>0&&(await Promise.all(yt.map(ot=>it.assignFaceToPerson(ot.id,null))),Ke+=yt.length,Y++)}catch(st){console.error(`Failed to unassign faces from asset ${Xe}:`,st),fe++}if(Ke===0&&Y===0){$("No faces to unassign on selected assets","error");return}ze.invalidateQueries({queryKey:["persons"]}),ze.invalidateQueries({queryKey:["personAssets",y]}),ze.invalidateQueries({queryKey:["personFace",y]}),ze.invalidateQueries({queryKey:["faceProgress"]}),ze.invalidateQueries({queryKey:["unassignedFaces"]}),he(y),ze.invalidateQueries({queryKey:["assets"]});const Re=xe.length;let Le=`Removed ${Ke} ${Ke===1?"face":"faces"} from ${Re===1?"this asset":`${Y} ${Y===1?"asset":"assets"}`}`;fe>0&&(Le+=` (${fe} ${fe===1?"asset":"assets"} failed)`),$(Le,fe>0?"error":"success")}catch(Ke){console.error("Unassign failed:",Ke),alert(`Failed to unassign faces: ${Ke instanceof Error?Ke.message:"Unknown error"}`)}},wt=()=>{S&&y&&H.mutate(S)},qt=async()=>{try{const xe=await xn.delete(t.id,{permanent:Ee});if(Ee){const Ke=xe;if(!Ke.success){if(Ke.read_only){alert(`Unable to delete "${t.filename}" from disk because the file is read-only${Ke.path?` (${Ke.path})`:""}. Update the file permissions and try again.`);return}throw new Error(Ke.error||"Failed to delete asset.")}}else{const Ke=xe;if(!Ke.success)throw new Error(Ke.error||"Failed to remove asset from index.")}h?h(t.id):window.location.reload()}catch(xe){console.error("Delete failed:",xe),alert(`Delete failed: ${xe instanceof Error?xe.message:"Unknown error"}`)}},xt=t.ext||t.filename.includes(".")&&((jn=t.filename.split(".").pop())==null?void 0:jn.toUpperCase())||"",Dt=c.jsxs("div",{className:`block group rounded-md overflow-hidden bg-zinc-100 dark:bg-zinc-800 border transition-transform ${u?"border-blue-500 ring-2 ring-blue-500":"border-zinc-200/60 dark:border-zinc-800"} ${f?"cursor-pointer":""} ${f?"":"hover:scale-[1.02]"}`,onClick:ke,onContextMenu:oe,children:[c.jsxs("div",{className:"relative aspect-[4/3] bg-zinc-200 dark:bg-zinc-700",children:[v&&c.jsx("div",{className:`absolute top-2 left-2 z-10 w-6 h-6 rounded-full border-2 flex items-center justify-center transition-colors ${u?"bg-blue-600 border-blue-600":"bg-white/80 dark:bg-zinc-800/80 border-zinc-300 dark:border-zinc-600"}`,children:u&&c.jsx(tC,{className:"w-4 h-4 text-white"})}),!x&&ae&&F.length>0&&c.jsxs("div",{className:"absolute top-2 right-2 z-10 flex flex-col gap-1 max-w-[40%]",children:[F.slice(0,3).map(xe=>c.jsx("div",{className:"px-2 py-0.5 rounded text-[10px] font-medium backdrop-blur-sm truncate",style:{color:te,backgroundColor:q},title:xe.name,children:xe.name},xe.id)),F.length>3&&c.jsxs("div",{className:"px-2 py-0.5 rounded text-[10px] font-medium backdrop-blur-sm",style:{color:te,backgroundColor:q},title:F.slice(3).map(xe=>xe.name).join(", "),children:["+",F.length-3," more"]})]}),(M||A)&&xt&&c.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:c.jsxs("div",{className:"text-4xl sm:text-5xl font-bold text-zinc-400 dark:text-zinc-500 select-none",children:[".",xt]})}),!M&&!A&&c.jsxs(c.Fragment,{children:[c.jsx("img",{src:_,alt:t.filename,loading:"lazy",className:"absolute inset-0 w-full h-full object-cover blur-[1px] scale-[1.01]",onError:Te}),c.jsx("img",{src:z,alt:"",loading:"lazy",className:"absolute inset-0 w-full h-full object-cover opacity-0 group-hover:opacity-100 transition-opacity duration-300",onLoad:xe=>xe.currentTarget.style.opacity="1",onError:Te})]}),k&&!A&&c.jsxs("div",{className:"absolute bottom-1 right-1 bg-black/60 text-white rounded px-1.5 py-0.5 text-[11px] flex items-center gap-1",children:[c.jsx(v2,{className:"size-3"}),"video"]})]}),c.jsx("div",{className:"p-2 text-[11px] truncate opacity-80",children:t.filename})]}),jt=xe=>{if(p){xe.preventDefault();return}const Ke=()=>uC(t.id);if((v||xe.ctrlKey||xe.metaKey)&&d){xe.preventDefault(),xe.stopPropagation(),d(t.id,!u,!0);return}Ke()},Lt=c.jsx(on,{to:`/asset/${t.id}`,state:{asset:t,index:r,sort:a,order:s,filteredAssetIds:o,from:{pathname:j.pathname,search:j.search,hash:j.hash}},onClick:jt,"data-asset-id":t.id,children:Dt});return c.jsxs(c.Fragment,{children:[Lt,Q&&c.jsx(cC,{x:Q.x,y:Q.y,onClose:()=>{B(null),I(!1),P(null),J("add")},onDownload:ve,onDelete:He,onCopy:we,onAddToAlbum:x?void 0:$e,onMoveToAlbum:x&&F.length>0?Ge:void 0,onRemoveFromAlbum:x&&F.length>0?()=>Ze():void 0,onAssignToPerson:Ae,showAssignToPerson:!!y,onUnassignFromPerson:y?Ut:void 0,showUnassignFromPerson:!!y}),K&&Z&&c.jsx("div",{"data-album-menu":!0,className:"fixed z-[60] bg-white dark:bg-zinc-900 border border-zinc-200 dark:border-zinc-800 rounded-lg shadow-lg overflow-hidden",style:{left:`${Z.x}px`,top:`${Math.max(10,Z.y-250)}px`,width:"256px",maxHeight:"400px"},onClick:xe=>xe.stopPropagation(),children:Me?c.jsxs("div",{className:"p-3 space-y-2",children:[c.jsx("input",{type:"text",value:je,onChange:xe=>de(xe.target.value),placeholder:"Album name",className:"w-full px-2 py-1.5 rounded border border-zinc-300 dark:border-zinc-700 bg-transparent text-sm",autoFocus:!0,onKeyDown:xe=>{xe.key==="Enter"?vt():xe.key==="Escape"&&(re(!1),de(""),Ue(""),I(!1))}}),c.jsx("textarea",{value:Oe,onChange:xe=>Ue(xe.target.value),placeholder:"Description (optional)",rows:2,className:"w-full px-2 py-1.5 rounded border border-zinc-300 dark:border-zinc-700 bg-transparent text-sm resize-none",onKeyDown:xe=>{xe.key==="Escape"&&(re(!1),de(""),Ue(""),I(!1))}}),c.jsxs("div",{className:"flex gap-2",children:[c.jsx("button",{onClick:vt,className:"flex-1 px-3 py-1.5 rounded-md bg-blue-600 hover:bg-blue-700 text-white text-sm transition-colors",children:"Save"}),c.jsx("button",{onClick:()=>{re(!1),de(""),Ue(""),I(!1)},className:"px-3 py-1.5 rounded-md border border-zinc-300 dark:border-zinc-700 hover:bg-zinc-50 dark:hover:bg-zinc-800 text-sm transition-colors",children:"Cancel"})]})]}):c.jsx(c.Fragment,{children:se==="remove"&&F.length>0?c.jsxs(c.Fragment,{children:[c.jsx("div",{className:"px-3 py-2 text-xs font-semibold text-zinc-500 dark:text-zinc-400 border-b border-zinc-200 dark:border-zinc-800",children:"Remove from:"}),c.jsx("div",{className:"max-h-64 overflow-y-auto",children:F.map(xe=>c.jsxs("button",{onClick:()=>Je(xe.id),className:"w-full text-left px-3 py-2 hover:bg-zinc-50 dark:hover:bg-zinc-800 transition-colors text-sm",children:[c.jsx("div",{className:"font-medium",children:xe.name}),xe.description&&c.jsx("div",{className:"text-xs text-zinc-500 truncate",children:xe.description})]},xe.id))})]}):c.jsxs(c.Fragment,{children:[c.jsx("button",{onClick:()=>re(!0),className:"w-full text-left px-3 py-2 hover:bg-zinc-50 dark:hover:bg-zinc-800 transition-colors text-sm border-b border-zinc-200 dark:border-zinc-800",children:c.jsx("div",{className:"font-medium text-blue-600 dark:text-blue-400",children:"+ Create new album"})}),be.length>0?c.jsx("div",{className:"max-h-64 overflow-y-auto",children:be.map(xe=>c.jsxs("button",{onClick:()=>Be(xe.id),className:"w-full text-left px-3 py-2 hover:bg-zinc-50 dark:hover:bg-zinc-800 transition-colors text-sm",children:[c.jsx("div",{className:"font-medium",children:xe.name}),xe.description&&c.jsx("div",{className:"text-xs text-zinc-500 truncate",children:xe.description})]},xe.id))}):null]})})}),T&&c.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4",children:[c.jsx("div",{className:"fixed inset-0 bg-black/30 dark:bg-black/50",onClick:()=>U(!1)}),c.jsxs("div",{className:"relative z-10 w-full max-w-md bg-white dark:bg-zinc-800 rounded-lg shadow-xl border border-zinc-200 dark:border-zinc-700 p-6",onClick:xe=>xe.stopPropagation(),onMouseDown:xe=>xe.stopPropagation(),children:[c.jsx("h2",{className:"text-lg font-semibold mb-4",children:"Assign to Person"}),c.jsxs("div",{className:"mb-4",children:[c.jsx("label",{className:"block text-sm font-medium text-zinc-700 dark:text-zinc-300 mb-2",children:"Select Person"}),c.jsxs("select",{value:S||"",onChange:xe=>W(xe.target.value?parseInt(xe.target.value,10):null),className:"w-full p-2 rounded-md border border-zinc-200 dark:border-zinc-700 bg-white dark:bg-zinc-900 text-sm text-zinc-900 dark:text-zinc-100 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",style:{zIndex:9999},onMouseDown:xe=>xe.stopPropagation(),onClick:xe=>xe.stopPropagation(),children:[c.jsx("option",{value:"",children:"-- Select a person --"}),E&&E.length>0?E.filter(xe=>xe.id!==y).sort((xe,Ke)=>{const Y=(xe.name||`Person ${xe.id}`).toLowerCase(),fe=(Ke.name||`Person ${Ke.id}`).toLowerCase();return Y.localeCompare(fe)}).map(xe=>c.jsx("option",{value:xe.id,children:xe.name||`Person ${xe.id}`},xe.id)):c.jsx("option",{value:"",disabled:!0,children:"Loading persons..."})]})]}),c.jsx("div",{className:"text-sm text-zinc-600 dark:text-zinc-400 mb-6",children:Pe>1?`All faces from Person ${y} (across ${Pe} selected ${Pe===1?"asset":"assets"}) will be assigned to the selected person. Person ${y} will be deleted.`:`All faces from Person ${y} will be assigned to the selected person. Person ${y} will be deleted.`}),c.jsxs("div",{className:"flex justify-end gap-2",children:[c.jsx("button",{onClick:()=>{U(!1),W(null)},className:"px-4 py-2 bg-zinc-200 dark:bg-zinc-700 text-zinc-700 dark:text-zinc-200 rounded-md hover:bg-zinc-300 dark:hover:bg-zinc-600 text-sm font-medium",disabled:H.isPending,children:"Cancel"}),c.jsx("button",{onClick:wt,disabled:!S||H.isPending,className:"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed text-sm font-medium",children:H.isPending?"Assigning...":"OK"})]})]})]}),c.jsx(ls,{isOpen:D,onClose:()=>G(!1),onConfirm:qt,title:Ee?"Delete From Disk":"Remove From Nazr",message:Ee?`Deleting "${t.filename}" will remove it from Nazr and delete the original file from disk. This cannot be undone.`:`Remove "${t.filename}" from the Nazr index? The original file will remain on disk.`,confirmText:"Delete",cancelText:"Cancel",variant:"danger"})]})}function gC({selectedIds:t,selectedAssetIds:r,onClearSelection:a,onAddToAlbum:s,onDelete:o,showRemoveFromAlbum:u=!1}){const[d,f]=b.useState(!1),[h,p]=b.useState(!1),[v,y]=b.useState([]),[w,x]=b.useState(new Map),[j,_]=b.useState(!1),[z,k]=b.useState(""),[C,M]=b.useState(""),A=t.size,O=r||Array.from(t),Q=Array.from(w.values()).some(D=>D.length>0);b.useEffect(()=>{(async()=>{try{const G=await va();y(G);const T=new Map;for(const U of O)try{const S=await Pi(U);S.length>0&&T.set(U,S)}catch(S){console.error(`Failed to get albums for asset ${U}:`,S)}x(T)}catch(G){console.error("Failed to load albums:",G)}})()},[O.join(",")]);const B=async D=>{const G=Array.from(t);if(u&&Q)for(const T of G){const U=w.get(T)||[];for(const S of U)try{await Xs(S.id,[T])}catch(W){console.error(`Failed to remove asset ${T} from album ${S.id}:`,W)}}if(s)s(D,G);else try{await To(D,G)}catch(T){console.error("Failed to add assets to album:",T),alert("Failed to add assets to album. Please try again.");return}f(!1),a()},Z=async D=>{const G=Array.from(t);try{await Xs(D,G);const T=new Map;for(const U of O)try{const S=await Pi(U);S.length>0&&T.set(U,S)}catch(S){console.error(`Failed to get albums for asset ${U}:`,S)}x(T),p(!1)}catch(T){console.error("Failed to remove assets from album:",T),alert("Failed to remove assets from album. Please try again.")}},P=async()=>{if(z.trim())try{const D=Array.from(t);if(u&&Q)for(const U of D){const S=w.get(U)||[];for(const W of S)try{await Xs(W.id,[U])}catch(K){console.error(`Failed to remove asset ${U} from album ${W.id}:`,K)}}const G=await z0(z.trim(),C.trim()||void 0);s?s(G.id,D):await To(G.id,D);const T=await va();y(T),_(!1),k(""),M(""),f(!1),a()}catch(D){console.error("Failed to create album:",D),alert("Failed to create album. Please try again.")}};return A===0?null:c.jsx("div",{className:"fixed bottom-2 sm:bottom-4 left-1/2 -translate-x-1/2 z-50 max-w-[calc(100vw-1rem)]",children:c.jsxs("div",{className:"bg-white dark:bg-zinc-900 border border-zinc-200 dark:border-zinc-800 rounded-lg shadow-lg p-2 sm:p-3 flex flex-wrap items-center gap-1.5 sm:gap-3",children:[c.jsxs("span",{className:"text-xs sm:text-sm font-medium whitespace-nowrap",children:[A," ",A===1?"item":"items"]}),c.jsxs("div",{className:"relative",children:[c.jsx("button",{onClick:()=>{f(!d),p(!1)},className:"px-2 sm:px-3 py-1 sm:py-1.5 rounded-md border border-zinc-300 dark:border-zinc-700 hover:bg-zinc-50 dark:hover:bg-zinc-800 text-xs sm:text-sm transition-colors flex items-center gap-1.5 sm:gap-2",children:u&&Q?c.jsxs(c.Fragment,{children:[c.jsx(a1,{className:"w-3.5 sm:w-4 h-3.5 sm:h-4"}),c.jsx("span",{className:"hidden sm:inline",children:"Move to Album"}),c.jsx("span",{className:"sm:hidden",children:"Move"})]}):c.jsxs(c.Fragment,{children:[c.jsx(Du,{className:"w-3.5 sm:w-4 h-3.5 sm:h-4"}),c.jsx("span",{className:"hidden sm:inline",children:"Add to Album"}),c.jsx("span",{className:"sm:hidden",children:"Album"})]})}),d&&c.jsx("div",{className:"absolute bottom-full left-0 mb-2 w-64 bg-white dark:bg-zinc-900 border border-zinc-200 dark:border-zinc-800 rounded-lg shadow-lg overflow-hidden",children:j?c.jsxs("div",{className:"p-3 space-y-2",children:[c.jsx("input",{type:"text",value:z,onChange:D=>k(D.target.value),placeholder:"Album name",className:"w-full px-2 py-1.5 rounded border border-zinc-300 dark:border-zinc-700 bg-transparent text-sm",autoFocus:!0,onKeyDown:D=>{D.key==="Enter"?P():D.key==="Escape"&&(_(!1),k(""),M(""))}}),c.jsx("textarea",{value:C,onChange:D=>M(D.target.value),placeholder:"Description (optional)",rows:2,className:"w-full px-2 py-1.5 rounded border border-zinc-300 dark:border-zinc-700 bg-transparent text-sm resize-none",onKeyDown:D=>{D.key==="Escape"&&(_(!1),k(""),M(""))}}),c.jsxs("div",{className:"flex gap-2",children:[c.jsx("button",{onClick:P,className:"flex-1 px-3 py-1.5 rounded-md bg-blue-600 hover:bg-blue-700 text-white text-sm transition-colors",children:"Save"}),c.jsx("button",{onClick:()=>{_(!1),k(""),M("")},className:"px-3 py-1.5 rounded-md border border-zinc-300 dark:border-zinc-700 hover:bg-zinc-50 dark:hover:bg-zinc-800 text-sm transition-colors",children:"Cancel"})]})]}):c.jsxs(c.Fragment,{children:[c.jsx("button",{onClick:()=>_(!0),className:"w-full text-left px-3 py-2 hover:bg-zinc-50 dark:hover:bg-zinc-800 transition-colors text-sm border-b border-zinc-200 dark:border-zinc-800",children:c.jsx("div",{className:"font-medium text-blue-600 dark:text-blue-400",children:"+ Create new album"})}),v.length>0?c.jsx("div",{className:"max-h-64 overflow-y-auto",children:v.map(D=>c.jsxs("button",{onClick:()=>B(D.id),className:"w-full text-left px-3 py-2 hover:bg-zinc-50 dark:hover:bg-zinc-800 transition-colors text-sm",children:[c.jsx("div",{className:"font-medium",children:D.name}),D.description&&c.jsx("div",{className:"text-xs text-zinc-500 truncate",children:D.description})]},D.id))}):null]})})]}),Q&&u&&c.jsxs("div",{className:"relative",children:[c.jsxs("button",{onClick:()=>{p(!h),f(!1)},className:"px-2 sm:px-3 py-1 sm:py-1.5 rounded-md border border-zinc-300 dark:border-zinc-700 hover:bg-zinc-50 dark:hover:bg-zinc-800 text-xs sm:text-sm transition-colors flex items-center gap-1.5 sm:gap-2",children:[c.jsx(Du,{className:"w-3.5 sm:w-4 h-3.5 sm:h-4"}),c.jsx("span",{className:"hidden sm:inline",children:"Remove from Album"}),c.jsx("span",{className:"sm:hidden",children:"Remove"})]}),h&&c.jsx("div",{className:"absolute bottom-full left-0 mb-2 w-64 bg-white dark:bg-zinc-900 border border-zinc-200 dark:border-zinc-800 rounded-lg shadow-lg overflow-hidden",children:c.jsx("div",{className:"max-h-64 overflow-y-auto",children:v.filter(D=>Array.from(w.entries()).some(([G,T])=>t.has(G)&&T.some(U=>U.id===D.id))).map(D=>c.jsxs("button",{onClick:()=>Z(D.id),className:"w-full text-left px-3 py-2 hover:bg-zinc-50 dark:hover:bg-zinc-800 transition-colors text-sm",children:[c.jsx("div",{className:"font-medium",children:D.name}),D.description&&c.jsx("div",{className:"text-xs text-zinc-500 truncate",children:D.description})]},D.id))})})]}),o&&c.jsxs("button",{onClick:o,className:"px-2 sm:px-3 py-1 sm:py-1.5 rounded-md border border-red-300 dark:border-red-700 bg-red-50 dark:bg-red-900/20 text-red-600 dark:text-red-400 hover:bg-red-100 dark:hover:bg-red-900/30 text-xs sm:text-sm transition-colors flex items-center gap-1.5 sm:gap-2",children:[c.jsx(qo,{className:"w-3.5 sm:w-4 h-3.5 sm:h-4"}),c.jsx("span",{className:"hidden sm:inline",children:"Delete"}),c.jsx("span",{className:"sm:hidden",children:"Del"})]}),c.jsxs("button",{onClick:a,className:"px-2 sm:px-3 py-1 sm:py-1.5 rounded-md border border-zinc-300 dark:border-zinc-700 hover:bg-zinc-50 dark:hover:bg-zinc-800 text-xs sm:text-sm transition-colors flex items-center gap-1.5 sm:gap-2",children:[c.jsx(xa,{className:"w-3.5 sm:w-4 h-3.5 sm:h-4"}),"Clear"]})]})})}function qi({assets:t,onLoadMore:r,hasMore:a,onLoadPrevious:s,hasPrevious:o,sort:u,order:d,isLoading:f,isFetchingNextPage:h,onAssetDeleted:p,mobileColumns:v,personId:y,filteredAssetIdsOverride:w,showRemoveFromAlbum:x}){const j=b.useMemo(()=>{const Ae=new Set;return t.filter($e=>Ae.has($e.id)?!1:(Ae.add($e.id),!0))},[t]),[_,z]=b.useState(new Set),[k,C]=b.useState(!1),[M,A]=b.useState(!1),[O,Q]=b.useState(!1),[B,Z]=b.useState(null),[P,D]=b.useState(null),[G,T]=b.useState(!1),[U,S]=b.useState(!1),W=b.useRef(null),K=b.useRef(null),I=b.useRef(null),se=b.useRef(new Map),J=b.useRef(null),be=b.useRef(new Set),R=b.useRef(null);b.useEffect(()=>{if(!r||!a)return;const Ae=W.current;if(!Ae)return;const $e=new IntersectionObserver(Ge=>{for(const Ze of Ge)Ze.isIntersecting&&r()},{rootMargin:"800px"});return $e.observe(Ae),()=>$e.disconnect()},[r,a]);const F=Qe(Ae=>Ae.gridSize),ee=Qe(Ae=>Ae.deleteOriginalFiles),ie=Qe(Ae=>Ae.showDeleteConfirmation),ue=8,Me=72,[re,je]=b.useState(0),[de,Oe]=b.useState(()=>typeof window<"u"?window.innerWidth:0),[Ue,_e]=b.useState({start:0,end:40});b.useEffect(()=>{if(typeof window>"u")return;const Ae=()=>Oe(window.innerWidth);return window.addEventListener("resize",Ae),()=>window.removeEventListener("resize",Ae)},[]),b.useLayoutEffect(()=>{if(!I.current||typeof window>"u")return;const Ae=new ResizeObserver($e=>{for(const Ge of $e)je(Ge.contentRect.width)});return Ae.observe(I.current),()=>Ae.disconnect()},[]);const ze=de<640&&v!==void 0,{columnCount:E,columnWidth:ae}=b.useMemo(()=>{if(!re)return{columnCount:0,columnWidth:F};if(ze&&v){const Ge=(re-ue*(v-1))/v;return{columnCount:v,columnWidth:Ge}}const Ae=Math.max(1,Math.floor((re+ue)/(F+ue))),$e=Ae>0?(re-ue*(Ae-1))/Ae:re;return{columnCount:Ae||1,columnWidth:$e}},[re,F,ze,v]),q=b.useMemo(()=>ae?ae*.75+Me:0,[ae])+ue;E&&Math.ceil(j.length/E);const H=!1;b.useEffect(()=>{{_e({start:0,end:j.length});return}},[H,E,q,j.length]),b.useEffect(()=>{},[H,j.length,E]);const $=b.useMemo(()=>w||j.map(Ae=>Ae.id),[j,w]),he=b.useMemo(()=>j,[j,H,Ue]);b.useEffect(()=>{},[H,he]),b.useEffect(()=>{const Ae=Ze=>{Ze.target instanceof HTMLInputElement||Ze.target instanceof HTMLTextAreaElement||((Ze.key==="Control"||Ze.key==="Meta")&&S(!0),Ze.key==="Escape"&&k?(C(!1),z(new Set)):(Ze.key==="Delete"||Ze.key==="Backspace")&&k&&_.size>0&&(Ze.preventDefault(),A(!0)))},$e=Ze=>{(Ze.key==="Control"||Ze.key==="Meta")&&S(!1)},Ge=()=>{S(!1)};return window.addEventListener("keydown",Ae),window.addEventListener("keyup",$e),window.addEventListener("blur",Ge),()=>{window.removeEventListener("keydown",Ae),window.removeEventListener("keyup",$e),window.removeEventListener("blur",Ge)}},[k,_.size]);const ke=b.useCallback((Ae,$e,Ge=!1)=>{z(Ze=>{const Be=new Set(Ze);return $e?Be.add(Ae):Be.delete(Ae),Be})},[]),oe=()=>{var Je;if(!B||!P)return null;const Ae=(Je=K.current)==null?void 0:Je.getBoundingClientRect();if(!Ae)return null;const $e=Math.min(B.x,P.x)-Ae.left,Ge=Math.min(B.y,P.y)-Ae.top,Ze=Math.abs(P.x-B.x),Be=Math.abs(P.y-B.y);return{left:$e,top:Ge,width:Ze,height:Be}},Te=b.useCallback(Ae=>{Ae.button!==0||Ae.target.closest("button")||(T(!1),Q(!0),Z({x:Ae.clientX,y:Ae.clientY}),D({x:Ae.clientX,y:Ae.clientY}),be.current=new Set,k||C(!0),Ae.preventDefault(),Ae.stopPropagation())},[k]);b.useEffect(()=>{const Ae=(Be,Je)=>{const vt=Math.min(Be.x,Je.x),Pe=Math.max(Be.x,Je.x),Ut=Math.min(Be.y,Je.y),wt=Math.max(Be.y,Je.y),qt=new Set;se.current.forEach((xt,Dt)=>{if(!xt)return;const jt=xt.getBoundingClientRect();!(jt.right<vt||jt.left>Pe||jt.bottom<Ut||jt.top>wt)&&(qt.add(Dt),be.current.add(Dt))}),z(U?xt=>{const Dt=new Set(xt);return qt.forEach(jt=>Dt.add(jt)),Dt}:be.current)},$e=Be=>{if(!O||!B)return;J.current!==null&&cancelAnimationFrame(J.current);const Je={x:Be.clientX,y:Be.clientY};D(Je);const vt=Math.abs(Be.clientX-B.x),Pe=Math.abs(Be.clientY-B.y);(vt>5||Pe>5)&&(T(!0),J.current=requestAnimationFrame(()=>{J.current=null,Ae(B,Je)}))},Ge=()=>{!O||!B||!P||(J.current!==null&&cancelAnimationFrame(J.current),J.current=requestAnimationFrame(()=>{J.current=null,Ae(B,P)}))},Ze=Be=>{O&&(Q(!1),Z(null),D(null),setTimeout(()=>T(!1),100))};return O&&(document.addEventListener("mousemove",$e),document.addEventListener("mouseup",Ze),window.addEventListener("scroll",Ge,{passive:!0}),window.addEventListener("wheel",Ge,{passive:!0}),document.body.style.userSelect="none"),()=>{J.current!==null&&(cancelAnimationFrame(J.current),J.current=null),document.removeEventListener("mousemove",$e),document.removeEventListener("mouseup",Ze),window.removeEventListener("scroll",Ge),window.removeEventListener("wheel",Ge),document.body.style.userSelect=""}},[O,B,P,j,U]);const ve=(Ae,$e)=>{$e?se.current.set(Ae,$e):se.current.delete(Ae)},we=()=>{z(new Set),C(!1)},De=async(Ae,$e)=>{try{await To(Ae,$e)}catch(Ge){console.error("Failed to add assets to album:",Ge),alert("Failed to add assets to album. Please try again.")}},Ee=Ae=>{p?p(Ae):window.location.reload()},He=async()=>{const Ae=Array.from(_);if(Ae.length!==0)try{if(ee){const $e=await xn.deletePermanentBulk(Ae),Ge=$e.results.filter(Be=>Be.deleted).map(Be=>Be.id),Ze=$e.results.filter(Be=>!Be.deleted);if(Ge.length&&p&&p(Ge),Ze.length){const Be=Ze.map(Pe=>Pe.id),Je=Ze.filter(Pe=>Pe.read_only),vt=Pe=>Pe.map(Ut=>Ut.path||`Asset ${Ut.id}`).join(`
`);Je.length?alert(`Unable to delete the following files because they are read-only:
${vt(Je)}`):alert(`Failed to delete the following files:
${vt(Ze)}`),z(new Set(Be)),C(!0);return}z(new Set),C(!1);return}await Promise.all(Ae.map($e=>xn.delete($e))),p&&p(Ae),z(new Set),C(!1)}catch($e){console.error("Bulk delete failed:",$e),alert(`Failed to delete some items: ${$e instanceof Error?$e.message:"Unknown error"}`)}};return b.useEffect(()=>{if(!R.current)return;if(v===void 0){R.current.style.gridTemplateColumns=`repeat(auto-fill, minmax(min(${F}px, 100%), 1fr))`;return}const Ae=window.matchMedia("(min-width: 640px)"),$e=()=>{if(R.current)try{Ae.matches?R.current.style.gridTemplateColumns=`repeat(auto-fill, minmax(min(${F}px, 100%), 1fr))`:R.current.style.gridTemplateColumns=`repeat(${v}, minmax(0, 1fr))`}catch(Ge){console.error("Error updating grid columns:",Ge),R.current.style.gridTemplateColumns=`repeat(auto-fill, minmax(min(${F}px, 100%), 1fr))`}};return $e(),Ae.addEventListener("change",$e),()=>Ae.removeEventListener("change",$e)},[v,F]),c.jsxs("div",{children:[c.jsxs("div",{ref:K,className:"relative select-none",onMouseDown:Te,children:[c.jsxs("div",{ref:I,children:[H,c.jsx("div",{ref:R,className:"grid gap-2",style:{gridTemplateColumns:v!==void 0&&ze?`repeat(${v}, minmax(0, 1fr))`:`repeat(auto-fill, minmax(min(${F}px, 100%), 1fr))`},children:he.map((Ae,$e)=>{const Ge=$.indexOf(Ae.id);return c.jsx("div",{ref:Ze=>ve(Ae.id,Ze),"data-asset-card":!0,"data-asset-id":Ae.id,onMouseDown:Te,children:c.jsx(pC,{asset:Ae,index:Ge,sort:u,order:d,filteredAssetIds:$,isSelected:_.has(Ae.id),onSelect:(Ze,Be,Je)=>ke(Ze,Be,Je),selectionMode:k,onDelete:Ee,isDragging:O&&G,isCtrlPressed:U,personId:y,selectedIds:_,isInAlbumsView:x})},Ae.id)})}),H]}),O&&(()=>{const Ae=oe();return Ae?c.jsx("div",{className:"absolute border-2 border-blue-500 bg-blue-500/10 pointer-events-none z-10",style:{left:`${Ae.left}px`,top:`${Ae.top}px`,width:`${Ae.width}px`,height:`${Ae.height}px`}}):null})()]}),a&&c.jsx("div",{ref:W,className:"h-10"}),k&&c.jsx(gC,{selectedIds:_,selectedAssetIds:Array.from(_),onClearSelection:we,onAddToAlbum:De,onDelete:()=>{ie?A(!0):He()},showRemoveFromAlbum:x}),c.jsx(ls,{isOpen:M,onClose:()=>A(!1),onConfirm:He,title:ee?"Delete Files From Disk":"Remove From Nazr",message:ee?`Permanently delete ${_.size} ${_.size===1?"file":"files"} from Nazr and from disk? This cannot be undone.`:`Remove ${_.size} ${_.size===1?"item":"items"} from the Nazr index? The original files will remain on disk.`,confirmText:"Delete",cancelText:"Cancel",variant:"danger"})]})}function Ky({items:t,onItemClick:r,itemRefsMap:a,formatLabel:s}){const[o,u]=b.useState(null),[d,f]=b.useState(!1);if(b.useEffect(()=>{const p=()=>{const v=window.scrollY,y=v+window.innerHeight,w=v+window.innerHeight/2;f(v>200);let x=null,j=1/0;t.forEach(_=>{const z=a.get(_);if(z){const k=z.getBoundingClientRect(),C=k.top+window.scrollY,M=C+k.height,A=C+k.height/2;if(C<=y&&M>=v){const O=Math.abs(A-w);O<j&&(j=O,x=_)}}}),u(x)};return window.addEventListener("scroll",p,{passive:!0}),p(),()=>{window.removeEventListener("scroll",p)}},[t,a]),!o)return null;const h=s?s(o):o;return c.jsx("div",{className:`fixed right-4 top-1/2 -translate-y-1/2 z-30 hidden lg:block transition-opacity duration-300 ${d?"opacity-100":"opacity-0 pointer-events-none"}`,children:c.jsx("button",{onClick:()=>r(o),className:`px-4 py-2 text-sm font-medium rounded-md transition-all\r
          border border-zinc-400 dark:border-zinc-600\r
          text-zinc-700 dark:text-zinc-300 bg-white dark:bg-zinc-900\r
          hover:text-zinc-900 dark:hover:text-zinc-100 hover:bg-zinc-50 dark:hover:bg-zinc-800\r
          shadow-lg font-mrs-sheppards`,title:`Currently viewing ${h}. Click to scroll to top.`,children:h})})}function k0(t){if(!t)return null;const a=t.replace(/\\/g,"/").split("/").filter(o=>o.length>0);if(a.length<2)return null;const s={january:1,jan:1,february:2,feb:2,march:3,mar:3,april:4,apr:4,may:5,june:6,jun:6,july:7,jul:7,august:8,aug:8,september:9,sep:9,sept:9,october:10,oct:10,november:11,nov:11,december:12,dec:12};for(let o=0;o<a.length-1;o++){const u=a[o],d=a[o+1],f=u.match(/^(\d{4})$/);if(!f)continue;const h=parseInt(f[1],10);if(h<1900||h>2100)continue;let p=null;const v=d.match(/^0?([1-9]|1[0-2])$/);if(v)p=parseInt(v[1],10);else{const y=d.toLowerCase();s[y]&&(p=s[y])}if(p!==null&&p>=1&&p<=12)return{year:h,month:p}}for(let o=0;o<a.length-1;o++){const d=a[o].match(/^(\d{4})$/);if(d){const f=parseInt(d[1],10);if(f>=1900&&f<=2100)return{year:f,month:1}}}return null}function E0(t){if(!t)return null;const r=t.replace(/\.[^.]*$/,"");let a=r.match(/(\d{4})-(\d{1,2})-(\d{1,2})/);if(a){const s=parseInt(a[1],10),o=parseInt(a[2],10);if(s>=1900&&s<=2100&&o>=1&&o<=12)return{year:s,month:o}}if(a=r.match(/(\d{4})(\d{2})(\d{2})/),a){const s=parseInt(a[1],10),o=parseInt(a[2],10),u=parseInt(a[3],10);if(s>=1900&&s<=2100&&o>=1&&o<=12&&u>=1&&u<=31)return{year:s,month:o}}if(a=r.match(/(\d{4})_(\d{1,2})_(\d{1,2})/),a){const s=parseInt(a[1],10),o=parseInt(a[2],10);if(s>=1900&&s<=2100&&o>=1&&o<=12)return{year:s,month:o}}if(a=r.match(/(\d{4})-(\d{1,2})(?![-\d])/),a){const s=parseInt(a[1],10),o=parseInt(a[2],10);if(s>=1900&&s<=2100&&o>=1&&o<=12)return{year:s,month:o}}if(a=r.match(/(\d{4})(\d{2})(?![0-9])/),a){const s=parseInt(a[1],10),o=parseInt(a[2],10);if(s>=1900&&s<=2100&&o>=1&&o<=12)return{year:s,month:o}}if(a=r.match(/(\d{1,2})-(\d{1,2})-(\d{4})/),a){const s=parseInt(a[1],10),o=parseInt(a[2],10),u=parseInt(a[3],10);if(s>12&&u>=1900&&u<=2100&&o>=1&&o<=12)return{year:u,month:o};if(u>=1900&&u<=2100&&o>=1&&o<=12&&s>=1&&s<=31)return{year:u,month:o}}if(a=r.match(/(\d{1,2})-(\d{1,2})-(\d{4})/),a){const s=parseInt(a[1],10),o=parseInt(a[2],10),u=parseInt(a[3],10);if(s<=12&&o>12&&u>=1900&&u<=2100&&s>=1&&o>=1&&o<=31)return{year:u,month:s}}return null}function bC(t,r,a,s="none"){if(r){const f=E0(t.filename);if(f){const h=new Date(f.year,f.month-1,1);if(!isNaN(h.getTime()))return h.getTime()}}if(a){const f=k0(t.path);if(f){const h=new Date(f.year,f.month-1,1);if(!isNaN(h.getTime()))return h.getTime()}}const o=[],u=()=>{t.taken_at&&t.taken_at>0&&o.push(t.taken_at*1e3)},d=()=>{t.mtime_ns&&t.mtime_ns>0&&o.push(t.mtime_ns/1e6)};s==="mtime"?(d(),u()):(u(),d());for(const f of o)if(f>=0&&f<=41024448e5)return f;return null}function Ym(t,r,a,s="none",o="desc"){if(!t.length)return t;const d=(s==="none"||s==="mtime"||s==="taken_at")&&(r||a);if(s==="none"&&!d)return t;if(!d&&(s==="filename"||s==="size_bytes")){const w=[...t];return w.sort((x,j)=>{var z,k;let _=0;if(s==="filename"){const C=x.filename.toLocaleLowerCase(),M=j.filename.toLocaleLowerCase();C<M?_=-1:C>M?_=1:_=0}else if(s==="size_bytes"){const C=(z=x.size_bytes)!=null?z:0,M=(k=j.size_bytes)!=null?k:0;_=C-M}return o==="asc"?_:-_}),w}const f=t.map(w=>({asset:w,date:bC(w,a,r,s)})),h=f.filter(w=>w.date!==null),p=f.filter(w=>w.date===null),v=h.sort((w,x)=>{if(w.date===null||x.date===null)return 0;const j=w.date-x.date;return o==="asc"?j:-j}),y=p.map(w=>w.asset);return v.map(w=>w.asset).concat(y)}const Gh="nazr.gallery.sort",Zh="nazr.gallery.order",Kh="nazr.gallery.groupBy",Xh="nazr.gallery.showFolders",Vh="nazr.gallery.showFolderMonths",uo="nazr.gallery.type",fo="nazr.gallery.ext",ho="nazr.gallery.expandedYears";function vC(){var Ke;const t=wn(),r=Ea(),[a,s]=aS(),{pageSize:o}=rd(),u=a.get("sort"),d=a.get("order"),f=a.get("groupBy"),h=(()=>{if(u)return u;if(typeof window<"u")try{const Y=localStorage.getItem(Gh);if(Y==="mtime"||Y==="taken_at"||Y==="filename"||Y==="size_bytes"||Y==="none")return Y}catch{}return"none"})(),p=(()=>{if(d==="asc"||d==="desc")return d;if(typeof window<"u")try{const Y=localStorage.getItem(Zh);if(Y==="asc"||Y==="desc")return Y}catch{}return"desc"})(),v=(()=>{if(f==="none"||f==="years"||f==="months")return f;if(typeof window<"u")try{const Y=localStorage.getItem(Kh);if(Y==="none"||Y==="years"||Y==="months")return Y}catch{}return"years"})(),y=a.get("person"),w=y?parseInt(y,10):null;let x=a.get("type"),j=a.get("ext");if(!x&&typeof window<"u")try{const Y=localStorage.getItem(uo);Y&&(x=Y)}catch{}if(!j&&typeof window<"u")try{const Y=localStorage.getItem(fo);Y&&(j=Y)}catch{}const _=S0(x),z=b.useMemo(()=>{var Y;return(Y=vu.find(fe=>fe.value===_))!=null?Y:null},[_]),k=b.useMemo(()=>j?j.split(",").map(Y=>Y.trim().toLowerCase()).filter(Y=>Y.length>0):[],[j]),C=b.useMemo(()=>z&&z.extensions.length>0?z.extensions:k,[z,k]),M=z&&z.extensions.length>0||k.length>0,A=z?z.value:_;z?z.label:k.length>0&&`${k.map(Y=>`.${Y}`).join(", ")}`;const[O,Q]=b.useState(h),[B,Z]=b.useState(p),[P,D]=b.useState(v),[G,T]=b.useState(2),[U,S]=b.useState(()=>{if(typeof window>"u")return!1;try{return localStorage.getItem(Xh)==="true"}catch{return!1}}),[W,K]=b.useState(()=>{if(typeof window>"u")return!1;try{return localStorage.getItem(Vh)==="true"}catch{return!1}}),I=Qe(Y=>Y.yearsMonthsFontFamily),se=Qe(Y=>Y.yearsMonthsFontSize),J=Y=>{switch(Y){case"system":return"system-ui, -apple-system, sans-serif";case"sans-serif":return"sans-serif";case"serif":return"serif";case"monospace":return"monospace";case"cursive":return"cursive";case"fantasy":return"fantasy";case"yellowtail":return"'Yellowtail', cursive";default:return"system-ui, -apple-system, sans-serif"}},be=Y=>({xs:"text-xs",sm:"text-sm",base:"text-base",lg:"text-lg",xl:"text-xl","2xl":"text-2xl","3xl":"text-3xl","4xl":"text-4xl"})[Y]||"text-base",[R,F]=b.useState(()=>{if(typeof window<"u")try{const Y=sessionStorage.getItem(ho);if(Y){const fe=JSON.parse(Y);return new Set(fe)}}catch{}return new Set});b.useEffect(()=>{if(typeof window<"u")try{const Y=Array.from(R);Y.length>0?sessionStorage.setItem(ho,JSON.stringify(Y)):sessionStorage.removeItem(ho)}catch{}},[R]);const ee=Qe(Y=>Y.prioritizeFolderStructure),ie=Qe(Y=>Y.prioritizeFilenameDate),ue=b.useMemo(()=>O==="none"&&(ee||ie)?"mtime":O,[O,ee,ie]);b.useCallback(()=>{const Y=new URLSearchParams(a);if(Y.delete("type"),Y.delete("ext"),s(Y,{replace:!0}),typeof window<"u")try{localStorage.removeItem(uo),localStorage.removeItem(fo)}catch{}},[a,s]);const Me=b.useCallback(Y=>{const fe=new URLSearchParams(a);if(Y){fe.set("type",Y);const Re=vu.find(Le=>Le.value===Y);if(Re&&Re.extensions.length>0){if(fe.set("ext",Re.extensions.join(",")),typeof window<"u")try{localStorage.setItem(uo,Y),localStorage.setItem(fo,Re.extensions.join(","))}catch{}}else if(fe.delete("ext"),typeof window<"u")try{localStorage.setItem(uo,Y),localStorage.removeItem(fo)}catch{}}else if(fe.delete("type"),fe.delete("ext"),typeof window<"u")try{localStorage.removeItem(uo),localStorage.removeItem(fo)}catch{}s(fe,{replace:!0})},[a,s]);b.useEffect(()=>{if(h!==O&&Q(h),p!==B&&Z(p),v!==P&&D(v),typeof window<"u")try{localStorage.setItem(Gh,h),localStorage.setItem(Zh,p),localStorage.setItem(Kh,v)}catch{}},[h,p,v]);const{data:re,fetchNextPage:je,hasNextPage:de,isFetchingNextPage:Oe,fetchPreviousPage:Ue,hasPreviousPage:_e,isFetchingPreviousPage:ze,refetch:E}=r0({sort:ue,order:B,person_id:w||void 0,pageSize:o}),ae=Qe(Y=>Y.setIsFetching),te=Oe||ze;b.useEffect(()=>(ae(te),()=>{ae(!1)}),[te,ae]);const{data:q}=nd(),H=b.useRef(null),$=b.useRef(null);b.useEffect(()=>{var Re;if(!((Re=q==null?void 0:q.db)!=null&&Re.assets))return;const Y=q.db.assets,fe=H.current;return fe!==null&&Y!==fe&&($.current&&clearTimeout($.current),$.current=setTimeout(()=>{E(),$.current=null},1e3)),H.current=Y,()=>{$.current&&clearTimeout($.current)}},[(Ke=q==null?void 0:q.db)==null?void 0:Ke.assets,E]);const[he,ke]=b.useState(new Set),oe=b.useRef(null),Te=b.useRef(new Map),ve=b.useRef(new Map),we=b.useRef(null),De=b.useCallback(()=>Oe?Promise.resolve():je(),[Oe,je]);b.useCallback(()=>{ze||Ue()},[ze,Ue]);const Ee=b.useCallback(Y=>{ke(fe=>{const Re=new Set(fe);return(Array.isArray(Y)?Y:[Y]).forEach(Xe=>Re.add(Xe)),Re}),setTimeout(()=>E(),500)},[E]),He=b.useCallback(Y=>{if(K(Y),typeof window<"u")try{Y?localStorage.setItem(Vh,String(Y)):localStorage.removeItem(Vh)}catch{}},[]),Ae=b.useCallback(Y=>{if(!Y){if(F(new Set),typeof window<"u")try{sessionStorage.removeItem(ho)}catch{}He(!1)}if(S(Y),typeof window<"u")try{localStorage.setItem(Xh,String(Y))}catch{}if(!Y){const fe=oe.current;if(fe){const Le=fe.getBoundingClientRect().top+window.pageYOffset,Xe=Math.max(Le-16,0);window.scrollTo({top:Xe,behavior:"smooth"})}else window.scrollTo({top:0,behavior:"smooth"})}},[He]),$e=b.useMemo(()=>{var Re;const Y=((Re=re==null?void 0:re.pages.flatMap(Le=>Le.items))!=null?Re:[]).filter(Le=>!he.has(Le.id)),fe=new Set;return Y.filter(Le=>fe.has(Le.id)?!1:(fe.add(Le.id),!0))},[re,he]),Ge=b.useMemo(()=>Ym($e,ee,ie,O,B),[$e,ee,ie,O,B]),Ze=b.useMemo(()=>{if(!M||C.length===0)return Ge;const Y=new Set(C.map(fe=>fe.toLowerCase()));return Ge.filter(fe=>fe.ext&&Y.has(fe.ext.toLowerCase()))},[Ge,C,M]);fC({containerRef:oe,itemsReady:!!re&&Ze.length>0,locationKey:t.key});const Be=b.useMemo(()=>{if(P==="none")return null;const Y=new Map;Ze.forEach(Le=>{let Xe=null,st=null;if(ie){const ot=E0(Le.filename);ot&&(Xe=ot.year,st=ot.month)}if((Xe===null||st===null)&&ee){const ot=k0(Le.path);ot&&(Xe=ot.year,st=ot.month)}if(Xe===null||st===null){let ot;if(Le.taken_at&&Le.taken_at>0)ot=Le.taken_at*1e3;else if(Le.mtime_ns&&Le.mtime_ns>0)ot=Le.mtime_ns/1e6;else return;if(ot<0||ot>41024448e5)return;const Vt=new Date(ot);if(isNaN(Vt.getTime()))return;Xe=Vt.getFullYear(),st=Vt.getMonth()+1}if(Xe===null||st===null||isNaN(Xe)||Xe<1900||Xe>2100||isNaN(st)||st<1||st>12)return;let yt;if(P==="years")yt=Xe.toString();else if(P==="months")yt=`${Xe}-${String(st).padStart(2,"0")}`;else return;Y.has(yt)||Y.set(yt,[]),Y.get(yt).push(Le)}),Y.forEach((Le,Xe)=>{const st=Ym(Le,ee,ie,O,B);Y.set(Xe,st)});const fe=Le=>{const Xe=Le.split("-"),st=parseInt(Xe[0],10),yt=Xe.length===2?parseInt(Xe[1],10):null;return{year:isNaN(st)?null:st,month:isNaN(yt)?null:yt}};return Array.from(Y.entries()).sort((Le,Xe)=>{const st=Le[0],yt=Xe[0],ot=fe(st),Vt=fe(yt);if(ot.year!==null&&Vt.year!==null){if(ot.year!==Vt.year){const zr=ot.year-Vt.year;return B==="asc"?zr:-zr}if(ot.month!==null&&Vt.month!==null){const zr=ot.month-Vt.month;return B==="asc"?zr:-zr}return 0}const Sr=st.localeCompare(yt);return B==="asc"?Sr:-Sr})},[Ze,P,ee,ie,O,B]),Je=Y=>{Q(Y);const fe=new URLSearchParams(a);if(fe.set("sort",Y),s(fe,{replace:!0}),typeof window<"u")try{localStorage.setItem(Gh,Y)}catch{}},vt=Y=>{Z(Y);const fe=new URLSearchParams(a);if(fe.set("order",Y),s(fe,{replace:!0}),typeof window<"u")try{localStorage.setItem(Zh,Y)}catch{}},Pe=Y=>{if(Y!=="years"&&P==="years"&&(F(new Set),typeof window<"u"))try{sessionStorage.removeItem(ho)}catch{}D(Y);const fe=new URLSearchParams(a);if(Y==="none"){if(fe.delete("groupBy"),S(!1),typeof window<"u")try{localStorage.setItem(Xh,"false")}catch{}}else fe.set("groupBy",Y);if(s(fe,{replace:!0}),typeof window<"u")try{localStorage.setItem(Kh,Y)}catch{}},Ut=b.useCallback((Y,fe)=>{fe&&(fe.preventDefault(),fe.stopPropagation()),F(Re=>{const Le=new Set(Re);return Le.has(Y)?Le.delete(Y):Le.add(Y),Le})},[]),wt=Y=>{if(P==="years")return Y;if(P==="months"){const[fe,Re]=Y.split("-");return new Date(parseInt(fe),parseInt(Re)-1).toLocaleDateString("en-US",{year:"numeric",month:"long"})}return Y},qt=b.useMemo(()=>P!=="years"||!Be?[]:Be.map(([Y])=>Y),[P,Be]),xt=b.useMemo(()=>P!=="months"||!Be?[]:Be.map(([Y])=>Y),[P,Be]),Dt=Y=>{const fe=Te.current.get(Y);if(fe)if(P==="years"&&U){const Le=fe.getBoundingClientRect().top+window.pageYOffset,Xe=Math.max(Le-80,0);window.scrollTo({top:Xe,behavior:"smooth"})}else fe.scrollIntoView({behavior:"smooth",block:"start"})},jt=Y=>{const fe=ve.current.get(Y);fe&&fe.scrollIntoView({behavior:"smooth",block:"start"})},Lt=Y=>fe=>{fe?Te.current.set(Y,fe):Te.current.delete(Y)},jn=Y=>fe=>{fe?ve.current.set(Y,fe):ve.current.delete(Y)};b.useEffect(()=>{if(!w)return;const Y=fe=>{fe.key==="Escape"&&r("/people")};return window.addEventListener("keydown",Y),()=>window.removeEventListener("keydown",Y)},[w,r]);const xe=Y=>{try{const fe=Y.split("-");if(fe.length!==2)return Y;const[Re,Le]=fe,Xe=parseInt(Re,10),st=parseInt(Le,10);if(isNaN(Xe)||isNaN(st)||st<1||st>12)return Y;const yt=new Date(Xe,st-1);return isNaN(yt.getTime())?Y:yt.toLocaleDateString("en-US",{year:"numeric",month:"long"})}catch(fe){return console.error("Error formatting month label:",fe,Y),Y}};return b.useEffect(()=>{if(P==="none"||!de)return;const Y=we.current;if(!Y)return;const fe=new IntersectionObserver(Re=>{for(const Le of Re)Le.isIntersecting&&!Oe&&je()},{rootMargin:"800px"});return fe.observe(Y),()=>fe.disconnect()},[P,de,Oe,je]),c.jsxs("div",{ref:oe,className:"container-responsive py-3 sm:py-6 space-y-3 sm:space-y-4",children:[c.jsx("div",{className:"flex flex-col sm:flex-row items-stretch sm:items-center gap-2 sm:gap-2",children:c.jsxs("div",{className:"flex flex-wrap items-center gap-1.5 sm:gap-2 text-xs sm:text-sm sm:ml-auto",children:[c.jsxs("label",{className:"flex items-center gap-1 whitespace-nowrap",children:[c.jsx("span",{className:"hidden sm:inline",children:"Group by"}),c.jsx("span",{className:"sm:hidden",children:"Group"}),c.jsxs("select",{value:P,onChange:Y=>Pe(Y.target.value),className:"px-1.5 sm:px-2 py-1 rounded border border-zinc-300 dark:border-zinc-700 bg-white dark:bg-zinc-900 text-zinc-900 dark:text-zinc-100 text-xs sm:text-sm",children:[c.jsx("option",{value:"none",children:"None"}),c.jsx("option",{value:"years",children:"Years"}),c.jsx("option",{value:"months",children:"Months"})]})]}),P==="years"&&c.jsxs("label",{className:"flex items-center gap-1.5 whitespace-nowrap",children:[c.jsx("span",{className:"text-xs sm:text-sm text-zinc-700 dark:text-zinc-300",children:"Folders:"}),c.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[c.jsx("input",{type:"checkbox",checked:U,onChange:Y=>Ae(Y.target.checked),className:"sr-only peer"}),c.jsx("div",{className:"w-10 h-5 bg-zinc-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-300 dark:peer-focus:ring-blue-800 rounded-full peer dark:bg-zinc-700 peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-zinc-300 after:border after:rounded-full after:h-4 after:w-4 after:transition-all dark:border-zinc-600 peer-checked:bg-blue-600"})]})]}),P==="years"&&U&&c.jsxs("label",{className:"flex items-center gap-1.5 whitespace-nowrap",children:[c.jsx("span",{className:"text-xs sm:text-sm text-zinc-700 dark:text-zinc-300",children:"Show Months:"}),c.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[c.jsx("input",{type:"checkbox",checked:W,onChange:Y=>He(Y.target.checked),className:"sr-only peer"}),c.jsx("div",{className:"w-10 h-5 bg-zinc-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-300 dark:peer-focus:ring-blue-800 rounded-full peer dark:bg-zinc-700 peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-zinc-300 after:border after:rounded-full after:h-4 after:w-4 after:transition-all dark:border-zinc-600 peer-checked:bg-blue-600"})]})]}),c.jsxs("label",{className:"flex items-center gap-1 whitespace-nowrap",children:["Sort",c.jsxs("select",{value:O,onChange:Y=>Je(Y.target.value),className:"px-1.5 sm:px-2 py-1 rounded border border-zinc-300 dark:border-zinc-700 bg-white dark:bg-zinc-900 text-zinc-900 dark:text-zinc-100 text-xs sm:text-sm",children:[c.jsx("option",{value:"none",children:"None"}),c.jsx("option",{value:"mtime",children:"Modified"}),c.jsx("option",{value:"taken_at",children:"Date Taken"}),c.jsx("option",{value:"filename",children:"Filename"}),c.jsx("option",{value:"size_bytes",children:"Size"})]})]}),c.jsxs("select",{value:B,onChange:Y=>vt(Y.target.value),className:"px-1.5 sm:px-2 py-1 rounded border border-zinc-300 dark:border-zinc-700 bg-white dark:bg-zinc-900 text-zinc-900 dark:text-zinc-100 text-xs sm:text-sm",children:[c.jsx("option",{value:"desc",children:"Desc"}),c.jsx("option",{value:"asc",children:"Asc"})]}),c.jsxs("label",{className:"flex items-center gap-1 whitespace-nowrap",children:["File type",c.jsxs("select",{value:A||"",onChange:Y=>Me(Y.target.value),className:"px-1.5 sm:px-2 py-1 rounded border border-zinc-300 dark:border-zinc-700 bg-white dark:bg-zinc-900 text-zinc-900 dark:text-zinc-100 text-xs sm:text-sm",children:[c.jsx("option",{value:"",children:"All types"}),vu.map(Y=>c.jsx("option",{value:Y.value,children:Y.label},Y.value)),A&&A.length>0&&!vu.some(Y=>Y.value===A)&&c.jsx("option",{value:A,children:Y6(A)})]})]})]})}),M&&Ze.length===0&&c.jsx("div",{className:"text-xs sm:text-sm text-zinc-500 dark:text-zinc-400",children:"No items match the selected file type filter."}),c.jsxs("div",{className:"sm:hidden flex items-center gap-2.5 py-2 px-1 bg-zinc-50 dark:bg-zinc-900/50 rounded-lg border border-zinc-200 dark:border-zinc-800",children:[c.jsx(Pz,{className:"w-4 h-4 text-zinc-500 dark:text-zinc-400 flex-shrink-0"}),c.jsx("input",{type:"range",min:"1",max:"4",step:"1",value:G,onChange:Y=>T(Number(Y.target.value)),className:"flex-1 h-1.5 bg-zinc-200 dark:bg-zinc-700 rounded-lg appearance-none cursor-pointer accent-blue-600",style:{background:`linear-gradient(to right, rgb(37 99 235) 0%, rgb(37 99 235) ${(G-1)/3*100}%, rgb(161 161 170) ${(G-1)/3*100}%, rgb(161 161 170) 100%)`}}),c.jsx("div",{className:"text-xs font-medium text-zinc-700 dark:text-zinc-300 min-w-[3.5rem] text-right",children:G===1?"Single":`${G} cols`})]}),P==="none"?c.jsx(qi,{mobileColumns:G,assets:Ze,onLoadMore:De,hasMore:!!de,isFetchingNextPage:Oe,sort:O,order:B,isLoading:!re&&!Ze.length,onAssetDeleted:Ee,personId:w}):Be?c.jsxs(c.Fragment,{children:[P==="years"&&qt.length>0&&c.jsx(Ky,{items:qt,onItemClick:Dt,itemRefsMap:Te.current}),P==="months"&&xt.length>0&&c.jsx(Ky,{items:xt,onItemClick:jt,itemRefsMap:ve.current,formatLabel:xe}),c.jsx("div",{className:"space-y-8",children:P==="years"&&U?(()=>{const Y=Be.length,fe=Math.min(Math.max(3,Math.ceil(Y/2)),6),Re=`folder-grid-${fe}`;return c.jsxs(c.Fragment,{children:[c.jsx("style",{dangerouslySetInnerHTML:{__html:`
                      @media (min-width: 640px) {
                        .${Re} {
                          grid-template-columns: repeat(${fe}, minmax(0, 1fr)) !important;
                        }
                      }
                    `}}),c.jsx("div",{className:`grid gap-3 sm:gap-4 ${Re}`,style:{gridTemplateColumns:"repeat(2, minmax(0, 1fr))"},children:Be.map(([Le,Xe])=>{const st=R.has(Le),yt=W?Xy(Xe,Le,ee,ie,B):null;return c.jsxs(b.Fragment,{children:[c.jsx("div",{ref:Lt(Le),className:"space-y-2",children:c.jsxs("div",{onClick:ot=>Ut(Le,ot),className:"flex flex-col gap-2 cursor-pointer hover:bg-zinc-100 dark:hover:bg-zinc-800 rounded-lg p-3 border border-zinc-200 dark:border-zinc-700 transition-colors",children:[c.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[st?c.jsx(jo,{className:"w-4 h-4 sm:w-5 sm:h-5 text-zinc-600 dark:text-zinc-400 flex-shrink-0"}):c.jsx(fl,{className:"w-4 h-4 sm:w-5 sm:h-5 text-zinc-600 dark:text-zinc-400 flex-shrink-0"}),c.jsx(Lu,{className:"w-5 h-5 sm:w-6 sm:h-6 text-blue-500 dark:text-blue-400 flex-shrink-0"}),c.jsx("h2",{className:`${be(se)} font-semibold text-zinc-900 dark:text-zinc-100 flex-1 min-w-0`,style:{fontFamily:J(I)},children:wt(Le)})]}),c.jsxs("span",{className:"text-xs sm:text-sm text-zinc-500 dark:text-zinc-400",children:[Xe.length," ",Xe.length===1?"photo":"photos"]})]})}),st&&c.jsx("div",{className:"col-span-full mt-2",style:{gridColumn:"1 / -1",scrollMarginTop:"0",scrollMarginBottom:"0"},tabIndex:-1,children:W&&yt?c.jsx("div",{className:"space-y-4",children:yt.map(([ot,Vt])=>c.jsxs("div",{className:"space-y-2",children:[c.jsx("h3",{className:"text-base font-semibold text-zinc-900 dark:text-zinc-100",children:xe(ot)}),c.jsx(qi,{assets:Vt,onLoadMore:void 0,hasMore:!1,sort:O,order:B,isLoading:!1,mobileColumns:G,onAssetDeleted:Ee,personId:w,filteredAssetIdsOverride:Vt.map(Sr=>Sr.id)})]},`${Le}-${ot}`))}):c.jsx(qi,{assets:Xe,onLoadMore:void 0,hasMore:!1,sort:O,order:B,isLoading:!1,mobileColumns:G,onAssetDeleted:Ee,personId:w,filteredAssetIdsOverride:Xe.map(ot=>ot.id)})})]},Le)})})]})})():Be.map(([Y,fe])=>{const Re=R.has(Y),Xe=P==="years"&&U,st=W&&Xe?Xy(fe,Y,ee,ie,B):null;return c.jsxs("div",{ref:P==="years"?Lt(Y):P==="months"?jn(Y):void 0,className:"space-y-4",children:[Xe?c.jsxs("div",{onClick:()=>Ut(Y),className:"flex items-center gap-2 cursor-pointer hover:bg-zinc-100 dark:hover:bg-zinc-800 rounded-lg p-2 -ml-2 transition-colors",children:[Re?c.jsx(jo,{className:"w-5 h-5 text-zinc-600 dark:text-zinc-400 flex-shrink-0"}):c.jsx(fl,{className:"w-5 h-5 text-zinc-600 dark:text-zinc-400 flex-shrink-0"}),c.jsx(Lu,{className:"w-6 h-6 text-blue-500 dark:text-blue-400 flex-shrink-0"}),c.jsx("h2",{className:`${be(se)} font-semibold text-zinc-900 dark:text-zinc-100`,style:{fontFamily:J(I)},children:wt(Y)}),c.jsxs("span",{className:"text-xs sm:text-sm text-zinc-500 dark:text-zinc-400 ml-auto",children:[fe.length," ",fe.length===1?"photo":"photos"]})]}):c.jsx("h2",{className:`${be(se)} font-semibold text-zinc-900 dark:text-zinc-100 border-b border-zinc-200 dark:border-zinc-800 pb-1.5 sm:pb-2`,style:{fontFamily:J(I)},children:wt(Y)}),(!Xe||Re)&&(W&&st?c.jsx("div",{className:"space-y-4",children:st.map(([yt,ot])=>c.jsxs("div",{className:"space-y-2",children:[c.jsx("h3",{className:"text-lg font-semibold text-zinc-900 dark:text-zinc-100",children:xe(yt)}),c.jsx(qi,{assets:ot,onLoadMore:void 0,hasMore:!1,sort:O,order:B,isLoading:!1,mobileColumns:G,onAssetDeleted:Ee,personId:w,filteredAssetIdsOverride:Xe?ot.map(Vt=>Vt.id):void 0})]},`${Y}-${yt}`))}):c.jsx(qi,{assets:fe,onLoadMore:void 0,hasMore:!1,sort:O,order:B,isLoading:!1,mobileColumns:G,onAssetDeleted:Ee,personId:w,filteredAssetIdsOverride:Xe?fe.map(yt=>yt.id):void 0}))]},Y)})}),de&&c.jsx("div",{ref:we,className:"h-10"})]}):null]})}function yC(t,r,a){let s=null,o=null;if(a){const d=E0(t.filename);d&&(s=d.year,o=d.month)}if((s===null||o===null)&&r){const d=k0(t.path);d&&(s===null&&(s=d.year),o===null&&(o=d.month))}const u=(d,f)=>{if(!d)return;const h=f==="seconds"?new Date(d*1e3):new Date(d/1e6);Number.isNaN(h.getTime())||(s===null&&(s=h.getFullYear()),o===null&&(o=h.getMonth()+1))};return(s===null||o===null)&&u(t.taken_at,"seconds"),(s===null||o===null)&&u(t.mtime_ns,"nanoseconds"),o!==null&&(o=Math.min(12,Math.max(1,o))),{year:s,month:o}}function Xy(t,r,a,s,o){const u=Number.isFinite(parseInt(r,10))?parseInt(r,10):null,d=new Map;t.forEach(h=>{var j,_;const p=yC(h,a,s),v=(j=p.year)!=null?j:u,y=(_=p.month)!=null?_:1,x=`${v!=null?v:"unknown"}-${y}`;d.has(x)||d.set(x,[]),d.get(x).push(h)});const f=h=>{const[p,v]=h.split("-"),y=parseInt(p,10),w=parseInt(v,10);return Number.isNaN(y)||Number.isNaN(w)?Number.MIN_SAFE_INTEGER:y*100+w};return Array.from(d.entries()).sort((h,p)=>{const v=f(h[0])-f(p[0]);return o==="desc"?-v:v})}const xC=[{value:"image/jpeg",label:"JPEG"},{value:"image/png",label:"PNG"},{value:"image/gif",label:"GIF"},{value:"image/webp",label:"WebP"},{value:"image/tiff",label:"TIFF"},{value:"video/mp4",label:"MP4"},{value:"video/quicktime",label:"MOV"},{value:"video/x-msvideo",label:"AVI"}],Vy=[{value:1,label:"B"},{value:1024,label:"KB"},{value:1024*1024,label:"MB"},{value:1024*1024*1024,label:"GB"}],wC=[{value:"whatsapp",label:"WhatsApp"},{value:"pxl",label:"Google Pixel"}];function _C({value:t,onChange:r,onClear:a,availableCameras:s=[],availableModels:o=[]}){const[u,d]=b.useState(!1),[f,h]=b.useState(t),[p,v]=b.useState(1024*1024),[y,w]=b.useState(1024*1024*1024);b.useEffect(()=>{h(t)},[t]);const x=!!(f.from||f.to||f.camera_make||f.camera_model||f.minSize||f.maxSize||f.fileTypes&&f.fileTypes.length>0||f.platformType),j=()=>{r(f),d(!1)},_=()=>{const A={from:void 0,to:void 0,camera_make:void 0,camera_model:void 0,minSize:void 0,maxSize:void 0,fileTypes:void 0,platformType:void 0};h(A),r(A),a()},z=A=>{const O=f.fileTypes||[],Q=O.includes(A)?O.filter(B=>B!==A):[...O,A];h({...f,fileTypes:Q})},k=A=>{h({...f,platformType:f.platformType===A?void 0:A})},C=(A,O)=>(A/O).toFixed(1),M=(A,O)=>{const Q=parseFloat(A);return isNaN(Q)?void 0:Math.round(Q*O)};return c.jsxs("div",{className:"border border-zinc-200 dark:border-zinc-700 rounded-lg bg-white dark:bg-zinc-900",children:[c.jsxs("button",{onClick:()=>d(!u),className:"w-full flex items-center justify-between p-3 hover:bg-zinc-50 dark:hover:bg-zinc-800 transition-colors",children:[c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx(zz,{className:"w-5 h-5"}),c.jsx("span",{className:"font-medium",children:"Advanced Filters"}),x&&c.jsx("span",{className:"px-2 py-0.5 rounded-full bg-blue-100 dark:bg-blue-900 text-blue-700 dark:text-blue-300 text-xs",children:"Active"})]}),u?c.jsx(s1,{className:"w-5 h-5 text-zinc-500"}):c.jsx(jo,{className:"w-5 h-5 text-zinc-500"})]}),u&&c.jsxs("div",{className:"p-4 space-y-4 border-t border-zinc-200 dark:border-zinc-700",children:[c.jsxs("div",{className:"space-y-2",children:[c.jsx("label",{className:"text-sm font-medium",children:"Date Range"}),c.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-2",children:[c.jsxs("div",{children:[c.jsx("label",{className:"text-xs text-zinc-500 mb-1 block",children:"From"}),c.jsx("input",{type:"date",value:f.from||"",onChange:A=>h({...f,from:A.target.value||void 0}),className:"w-full px-2 py-1.5 rounded border border-zinc-300 dark:border-zinc-700 bg-transparent text-sm"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"text-xs text-zinc-500 mb-1 block",children:"To"}),c.jsx("input",{type:"date",value:f.to||"",onChange:A=>h({...f,to:A.target.value||void 0}),className:"w-full px-2 py-1.5 rounded border border-zinc-300 dark:border-zinc-700 bg-transparent text-sm"})]})]})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx("label",{className:"text-sm font-medium",children:"Camera"}),c.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-2",children:[c.jsxs("div",{children:[c.jsx("label",{className:"text-xs text-zinc-500 mb-1 block",children:"Make"}),s.length>0?c.jsxs("select",{value:f.camera_make||"",onChange:A=>h({...f,camera_make:A.target.value||void 0}),className:"w-full px-2 py-1.5 rounded border border-zinc-300 dark:border-zinc-700 bg-transparent text-sm",children:[c.jsx("option",{value:"",children:"All"}),s.map(A=>c.jsx("option",{value:A,children:A},A))]}):c.jsx("input",{type:"text",value:f.camera_make||"",onChange:A=>h({...f,camera_make:A.target.value||void 0}),placeholder:"Camera make",className:"w-full px-2 py-1.5 rounded border border-zinc-300 dark:border-zinc-700 bg-transparent text-sm"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"text-xs text-zinc-500 mb-1 block",children:"Model"}),o.length>0?c.jsxs("select",{value:f.camera_model||"",onChange:A=>h({...f,camera_model:A.target.value||void 0}),className:"w-full px-2 py-1.5 rounded border border-zinc-300 dark:border-zinc-700 bg-transparent text-sm",children:[c.jsx("option",{value:"",children:"All"}),o.map(A=>c.jsx("option",{value:A,children:A},A))]}):c.jsx("input",{type:"text",value:f.camera_model||"",onChange:A=>h({...f,camera_model:A.target.value||void 0}),placeholder:"Camera model",className:"w-full px-2 py-1.5 rounded border border-zinc-300 dark:border-zinc-700 bg-transparent text-sm"})]})]})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx("label",{className:"text-sm font-medium",children:"File Size"}),c.jsxs("div",{className:"space-y-3",children:[c.jsxs("div",{children:[c.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[c.jsx("label",{className:"text-xs text-zinc-500",children:"Min"}),c.jsx("select",{value:p,onChange:A=>v(Number(A.target.value)),className:"ml-auto px-2 py-1 rounded border border-zinc-300 dark:border-zinc-700 bg-transparent text-xs",children:Vy.map(A=>c.jsx("option",{value:A.value,children:A.label},A.value))})]}),c.jsx("input",{type:"number",step:"0.1",value:f.minSize?C(f.minSize,p):"",onChange:A=>h({...f,minSize:M(A.target.value,p)}),placeholder:"0",className:"w-full px-2 py-1.5 rounded border border-zinc-300 dark:border-zinc-700 bg-transparent text-sm"})]}),c.jsxs("div",{children:[c.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[c.jsx("label",{className:"text-xs text-zinc-500",children:"Max"}),c.jsx("select",{value:y,onChange:A=>w(Number(A.target.value)),className:"ml-auto px-2 py-1 rounded border border-zinc-300 dark:border-zinc-700 bg-transparent text-xs",children:Vy.map(A=>c.jsx("option",{value:A.value,children:A.label},A.value))})]}),c.jsx("input",{type:"number",step:"0.1",value:f.maxSize?C(f.maxSize,y):"",onChange:A=>h({...f,maxSize:M(A.target.value,y)}),placeholder:"No limit",className:"w-full px-2 py-1.5 rounded border border-zinc-300 dark:border-zinc-700 bg-transparent text-sm"})]})]})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx("label",{className:"text-sm font-medium",children:"File Types"}),c.jsx("div",{className:"flex flex-wrap gap-2",children:xC.map(A=>{var O;return c.jsx("button",{onClick:()=>z(A.value),className:`px-3 py-1.5 rounded-md text-sm border transition-colors ${(O=f.fileTypes)!=null&&O.includes(A.value)?"bg-blue-600 text-white border-blue-600":"border-zinc-300 dark:border-zinc-700 hover:bg-zinc-50 dark:hover:bg-zinc-800"}`,children:A.label},A.value)})})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx("label",{className:"text-sm font-medium",children:"Platform Types"}),c.jsx("div",{className:"flex flex-wrap gap-2",children:wC.map(A=>c.jsx("button",{onClick:()=>k(A.value),className:`px-3 py-1.5 rounded-md text-sm border transition-colors ${f.platformType===A.value?"bg-blue-600 text-white border-blue-600":"border-zinc-300 dark:border-zinc-700 hover:bg-zinc-50 dark:hover:bg-zinc-800"}`,children:A.label},A.value))})]}),c.jsxs("div",{className:"flex items-center gap-2 pt-2 border-t border-zinc-200 dark:border-zinc-700",children:[c.jsx("button",{onClick:j,className:"flex-1 px-4 py-2 rounded-md bg-blue-600 hover:bg-blue-700 text-white text-sm transition-colors",children:"Apply Filters"}),x&&c.jsxs("button",{onClick:_,className:"px-4 py-2 rounded-md border border-zinc-300 dark:border-zinc-700 hover:bg-zinc-50 dark:hover:bg-zinc-800 text-sm transition-colors flex items-center gap-2",children:[c.jsx(xa,{className:"w-4 h-4"}),"Clear"]})]})]})]})}function SC(){var B,Z,P,D,G;const{search:t}=wn(),r=Ea(),{pageSize:a}=rd(),s=b.useMemo(()=>new URLSearchParams(t),[t]),o=b.useRef(null),u=b.useRef(null),d=b.useRef(null),[f,h]=b.useState({from:s.get("from")||void 0,to:s.get("to")||void 0,camera_make:s.get("camera_make")||void 0,camera_model:s.get("camera_model")||void 0,minSize:s.get("minSize")?Number(s.get("minSize")):void 0,maxSize:s.get("maxSize")?Number(s.get("maxSize")):void 0,fileTypes:((B=s.get("fileTypes"))==null?void 0:B.split(","))||void 0,platformType:s.get("platformType")||void 0});b.useEffect(()=>{var T;h({from:s.get("from")||void 0,to:s.get("to")||void 0,camera_make:s.get("camera_make")||void 0,camera_model:s.get("camera_model")||void 0,minSize:s.get("minSize")?Number(s.get("minSize")):void 0,maxSize:s.get("maxSize")?Number(s.get("maxSize")):void 0,fileTypes:((T=s.get("fileTypes"))==null?void 0:T.split(","))||void 0,platformType:s.get("platformType")||void 0})},[t,s]);const p={q:s.get("q")||"",from:s.get("from")||void 0,to:s.get("to")||void 0,camera_make:s.get("camera_make")||void 0,camera_model:s.get("camera_model")||void 0,platformType:s.get("platformType")||void 0,pageSize:a},v=t1(p),[y,w]=b.useState(new Set),x=((P=(Z=v.data)==null?void 0:Z.pages.flatMap(T=>T.items))!=null?P:[]).filter(T=>!y.has(T.id)),j=(G=(D=v.data)==null?void 0:D.pages[0])==null?void 0:G.match_counts,_=b.useCallback((T,U)=>{if(!U)return"path";const S=U.toLowerCase();return T.filename.toLowerCase().includes(S)?"filename":T.dirname.toLowerCase().includes(S)?"dirname":(T.path.toLowerCase().includes(S),"path")},[]),z=b.useMemo(()=>x.filter(T=>!(f.minSize&&T.size_bytes<f.minSize||f.maxSize&&T.size_bytes>f.maxSize||f.fileTypes&&f.fileTypes.length>0&&!f.fileTypes.some(S=>S.includes("/")?T.mime.startsWith(S):T.mime.includes(S)))),[x,f.minSize,f.maxSize,f.fileTypes]),k=b.useMemo(()=>{if(!p.q)return[{type:"path",items:z}];const T=p.q.trim(),U=T.includes("*")||T.includes("?");let S=!1,W=T;if(U){const J=T.split(/\s+/).filter(be=>!be.includes("*")&&!be.includes("?"));S=J.length>0,W=J.join(" ")}if(U&&!S)return[{type:"filename",items:z}];const K=[{type:"filename",items:[]},{type:"dirname",items:[]},{type:"path",items:[]}],I=U&&S?W:T;return z.forEach(se=>{const J=_(se,I);if(J==="path"){const be=I.toLowerCase();if(se.path.toLowerCase().includes(be)){const R=K.find(F=>F.type==="path");R&&R.items.push(se)}}else{const be=K.find(R=>R.type===J);be&&be.items.push(se)}}),K.filter(se=>se.items.length>0)},[z,p.q,_]),C=b.useMemo(()=>{const T=new Set;return x.forEach(U=>{U.camera_make&&T.add(U.camera_make)}),Array.from(T).sort()},[x]),M=b.useMemo(()=>{const T=new Set;return x.forEach(U=>{U.camera_model&&(!f.camera_make||U.camera_make===f.camera_make)&&T.add(U.camera_model)}),Array.from(T).sort()},[x,f.camera_make]),A=b.useCallback(T=>{h(T);const U=new URLSearchParams,S=s.get("q");S&&U.set("q",S),T.from&&U.set("from",T.from),T.to&&U.set("to",T.to),T.camera_make&&U.set("camera_make",T.camera_make),T.camera_model&&U.set("camera_model",T.camera_model),T.minSize&&U.set("minSize",String(T.minSize)),T.maxSize&&U.set("maxSize",String(T.maxSize)),T.fileTypes&&T.fileTypes.length>0&&U.set("fileTypes",T.fileTypes.join(",")),T.platformType&&U.set("platformType",T.platformType),r(`/search?${U.toString()}`)},[s,r]),O=b.useCallback(()=>{const T=new URLSearchParams,U=s.get("q");U&&T.set("q",U),r(`/search?${T.toString()}`)},[s,r]),Q=b.useCallback(T=>{const U=T==="filename"?o:T==="dirname"?u:d;U.current&&U.current.scrollIntoView({behavior:"smooth",block:"start"})},[]);return c.jsxs("div",{className:"container-responsive py-6 space-y-4",children:[c.jsx(_C,{value:f,onChange:A,onClear:O,availableCameras:C,availableModels:M}),z.length!==x.length&&c.jsxs("div",{className:"text-sm text-zinc-500",children:["Showing ",z.length," of ",x.length," results"]}),p.q&&k.length>0&&c.jsx("div",{className:"flex justify-end",children:c.jsx("div",{className:"text-xs sm:text-sm text-zinc-600 dark:text-zinc-400 space-x-3",children:k.map(T=>{const U=j?T.type==="filename"?j.filename:T.type==="dirname"?j.dirname:j.path:null,S=U!==null?U:T.items.length;return c.jsxs("button",{onClick:()=>Q(T.type),className:"hover:text-blue-600 dark:hover:text-blue-400 hover:underline cursor-pointer transition-colors",children:[T.type==="filename"&&`In Filename (${S})`,T.type==="dirname"&&`In Directory (${S})`,T.type==="path"&&`In Path (${S})`]},T.type)})})}),k.map((T,U)=>c.jsxs("div",{className:"space-y-4",children:[p.q&&c.jsx("h2",{ref:T.type==="filename"?o:T.type==="dirname"?u:d,className:"text-xl font-semibold text-zinc-900 dark:text-zinc-100 border-b border-zinc-200 dark:border-zinc-800 pb-2",children:(()=>{const S=j?T.type==="filename"?j.filename:T.type==="dirname"?j.dirname:j.path:null,W=S!==null?S:T.items.length;return c.jsxs(c.Fragment,{children:[T.type==="filename"&&`In Filename (${W})`,T.type==="dirname"&&`In Directory (${W})`,T.type==="path"&&`In Path (${W})`]})})()}),c.jsx(qi,{assets:T.items,onLoadMore:U===k.length-1?()=>v.hasNextPage&&v.fetchNextPage():void 0,hasMore:U===k.length-1?!!v.hasNextPage:!1,isLoading:!v.data&&!z.length,onAssetDeleted:S=>{w(W=>{const K=new Set(W);return(Array.isArray(S)?S:[S]).forEach(se=>K.add(se)),K}),setTimeout(()=>v.refetch(),500)}})]},T.type))]})}const Wh="nazr.albums.expanded";function zC(){var K;const[t,r]=b.useState([]),[a,s]=b.useState(!1),[o,u]=b.useState(!1),[d,f]=b.useState(null),[h,p]=b.useState(""),[v,y]=b.useState(""),[w,x]=b.useState(!0),{pageSize:j}=rd(),_=Qe(I=>I.albumHeadingFontFamily),z=Qe(I=>I.albumHeadingFontSize),k=I=>{switch(I){case"system":return"system-ui, -apple-system, sans-serif";case"sans-serif":return"sans-serif";case"serif":return"serif";case"monospace":return"monospace";case"cursive":return"cursive";case"fantasy":return"fantasy";case"yellowtail":return"'Yellowtail', cursive";default:return"system-ui, -apple-system, sans-serif"}},C=I=>({xs:"text-xs",sm:"text-sm",base:"text-base",lg:"text-lg",xl:"text-xl","2xl":"text-2xl","3xl":"text-3xl","4xl":"text-4xl"})[I]||"text-base",[M,A]=b.useState(()=>{if(typeof window<"u")try{const I=sessionStorage.getItem(Wh);if(I){const se=JSON.parse(I);return new Set(se)}}catch{}return new Set});b.useEffect(()=>{if(typeof window<"u")try{const I=Array.from(M);I.length>0?sessionStorage.setItem(Wh,JSON.stringify(I)):sessionStorage.removeItem(Wh)}catch{}},[M]),b.useEffect(()=>{(async()=>{try{x(!0);const se=await va();r(se)}catch(se){console.error("Failed to load albums:",se)}finally{x(!1)}})()},[]);const{data:O,fetchNextPage:Q,hasNextPage:B,isFetchingNextPage:Z}=r0({sort:"mtime",order:"desc",pageSize:j}),P=(K=O==null?void 0:O.pages.flatMap(I=>I.items))!=null?K:[],D=b.useMemo(()=>{const I=new Map;return P.forEach(se=>I.set(se.id,se)),I},[P]);b.useEffect(()=>{if(M.size===0||!B||Z)return;const I=new Set(P.map(J=>J.id)),se=new Set;t.forEach(J=>{M.has(J.id)&&J.assetIds.forEach(be=>{I.has(be)||se.add(be)})}),se.size>0&&Q()},[M,t,P,B,Z,Q]);const G=()=>{s(!0),f(null),p(""),y("")},T=I=>{f(I.id),u(!0),s(!1),p(I.name),y(I.description||"")},U=async()=>{if(a){if(h.trim())try{const I=await z0(h.trim(),v.trim()||void 0),se=await va();r(se),s(!1),p(""),y("")}catch(I){console.error("Failed to create album:",I),alert("Failed to create album. Please try again.")}}else if(o&&d&&h.trim())try{await hC(d,{name:h.trim(),description:v.trim()||void 0});const I=await va();r(I),u(!1),f(null),p(""),y("")}catch(I){console.error("Failed to update album:",I),alert("Failed to update album. Please try again.")}},S=async I=>{if(confirm("Are you sure you want to delete this album?"))try{await mC(I);const se=await va();r(se),A(J=>{const be=new Set(J);return be.delete(I),be})}catch(se){console.error("Failed to delete album:",se),alert("Failed to delete album. Please try again.")}},W=(I,se)=>{se&&(se.preventDefault(),se.stopPropagation()),A(J=>{const be=new Set(J);return be.has(I)?be.delete(I):be.add(I),be})};return c.jsxs("div",{className:"container-responsive py-6 space-y-4",children:[c.jsx("div",{className:"flex items-center justify-end",children:c.jsxs("button",{onClick:G,className:"px-4 py-2 rounded-md bg-blue-600 hover:bg-blue-700 text-white text-sm transition-colors flex items-center gap-2",children:[c.jsx(c1,{className:"w-4 h-4"}),"New Album"]})}),(a||o)&&c.jsxs("div",{className:"p-3 rounded-md border border-zinc-200 dark:border-zinc-800 bg-white dark:bg-zinc-900 space-y-2",children:[c.jsx("input",{type:"text",value:h,onChange:I=>p(I.target.value),placeholder:"Album name",className:"w-full px-2 py-1.5 rounded border border-zinc-300 dark:border-zinc-700 bg-transparent text-sm",autoFocus:!0}),c.jsx("textarea",{value:v,onChange:I=>y(I.target.value),placeholder:"Description (optional)",rows:2,className:"w-full px-2 py-1.5 rounded border border-zinc-300 dark:border-zinc-700 bg-transparent text-sm resize-none"}),c.jsxs("div",{className:"flex gap-2",children:[c.jsx("button",{onClick:U,className:"flex-1 px-3 py-1.5 rounded-md bg-blue-600 hover:bg-blue-700 text-white text-sm transition-colors",children:"Save"}),c.jsx("button",{onClick:()=>{s(!1),u(!1),f(null),p(""),y("")},className:"px-3 py-1.5 rounded-md border border-zinc-300 dark:border-zinc-700 hover:bg-zinc-50 dark:hover:bg-zinc-800 text-sm transition-colors",children:"Cancel"})]})]}),w?c.jsx("div",{className:"text-center py-8 text-sm text-zinc-500",children:"Loading albums..."}):t.length===0&&!a?c.jsx("div",{className:"text-center py-8 text-sm text-zinc-500",children:"No albums yet. Create one to get started."}):(()=>{t.length;const I=5,se=`albums-grid-${I}`;return c.jsxs(c.Fragment,{children:[c.jsx("style",{dangerouslySetInnerHTML:{__html:`
                @media (min-width: 640px) {
                  .${se} {
                    grid-template-columns: repeat(${I}, minmax(0, 1fr)) !important;
                  }
                }
              `}}),c.jsx("div",{className:`grid gap-3 sm:gap-4 ${se}`,style:{gridTemplateColumns:"repeat(2, minmax(0, 1fr))"},children:t.map(J=>{const be=M.has(J.id),R=J.assetIds.map(F=>D.get(F)).filter(Boolean);return c.jsxs(b.Fragment,{children:[c.jsx("div",{className:"space-y-2",children:c.jsxs("div",{onClick:F=>W(J.id,F),className:"flex flex-col gap-2 cursor-pointer hover:bg-zinc-100 dark:hover:bg-zinc-800 rounded-lg p-3 border border-zinc-200 dark:border-zinc-700 transition-colors",children:[c.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[be?c.jsx(jo,{className:"w-4 h-4 sm:w-5 sm:h-5 text-zinc-600 dark:text-zinc-400 flex-shrink-0"}):c.jsx(fl,{className:"w-4 h-4 sm:w-5 sm:h-5 text-zinc-600 dark:text-zinc-400 flex-shrink-0"}),c.jsx(Lu,{className:"w-5 h-5 sm:w-6 sm:h-6 text-blue-500 dark:text-blue-400 flex-shrink-0"}),c.jsx("h2",{className:`${C(z)} font-semibold text-zinc-900 dark:text-zinc-100 flex-1 min-w-0 truncate`,style:{fontFamily:k(_)},children:J.name})]}),J.description&&c.jsx("p",{className:"text-xs sm:text-sm text-zinc-500 dark:text-zinc-400 line-clamp-2",children:J.description}),c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("span",{className:"text-xs sm:text-sm text-zinc-500 dark:text-zinc-400",children:[J.assetIds.length," ",J.assetIds.length===1?"item":"items"]}),c.jsxs("div",{className:"flex gap-1",onClick:F=>F.stopPropagation(),children:[c.jsx("button",{onClick:()=>T(J),className:"p-1 rounded hover:bg-zinc-200 dark:hover:bg-zinc-700 transition-colors",title:"Edit",children:c.jsx(o1,{className:"w-4 h-4"})}),c.jsx("button",{onClick:()=>S(J.id),className:"p-1 rounded hover:bg-red-100 dark:hover:bg-red-900/30 transition-colors text-red-600 dark:text-red-400",title:"Delete",children:c.jsx(qo,{className:"w-4 h-4"})})]})]})]})}),be&&c.jsx("div",{className:"col-span-full mt-2",style:{gridColumn:"1 / -1",scrollMarginTop:"0",scrollMarginBottom:"0"},tabIndex:-1,children:R.length>0?c.jsx(qi,{assets:R,hasMore:!1,mobileColumns:2,sort:"mtime",order:"desc",filteredAssetIdsOverride:J.assetIds,showRemoveFromAlbum:!0}):c.jsx("div",{className:"text-center py-12 text-sm text-zinc-500",children:"This album is empty. Add assets from the gallery or search."})})]},J.id)})})]})})()]})}function kC({label:t="Loading..."}){return c.jsx("div",{className:"py-10 text-center text-sm opacity-70",children:c.jsx("div",{className:"animate-pulse",children:t})})}function EC({error:t,onRetry:r}){const a=t instanceof Error?t.message:String(t);return c.jsxs("div",{className:"bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 text-red-700 dark:text-red-300 rounded p-3 text-sm",children:[c.jsx("div",{className:"font-medium",children:"Something went wrong"}),c.jsx("div",{className:"mt-1 opacity-90 whitespace-pre-wrap break-words",children:a}),r&&c.jsx("button",{onClick:r,className:"mt-2 text-xs underline hover:opacity-80",children:"Retry"})]})}const jC=/^person\s+\d+$/i,Wy="nazr.people.sortBy",Jy=t=>{var a;const r=(a=t.name)==null?void 0:a.trim();return!r||jC.test(r)},ex=t=>{var a;const r=(a=t.name)==null?void 0:a.match(/person\s+(\d+)/i);return r?parseInt(r[1],10):t.id};function Jh(t){switch(t){case 1:return{name:"Most Relaxed",description:"Only merges persons with extremely similar faces. Very conservative approach that minimizes false merges.",threshold:"0.40"};case 2:return{name:"Relaxed",description:"Merges only very similar persons. Conservative approach that reduces the chance of incorrect merges.",threshold:"0.45"};case 3:return{name:"Default",description:"Balanced merging that combines similar persons while avoiding false positives. Recommended for most use cases.",threshold:"0.50"};case 4:return{name:"Aggressive",description:"Merges similar persons more liberally. Useful when you have many duplicate persons that should be combined.",threshold:"0.55"};case 5:return{name:"Most Aggressive",description:"Very liberal merging that combines persons with similar but not identical faces. May merge some false positives.",threshold:"0.60"};default:return{name:"Default",description:"Balanced merging that combines similar persons while avoiding false positives.",threshold:"0.50"}}}const tx=(t,r)=>{const a=Jy(t),s=Jy(r);if(a!==s)return a?1:-1;if(a&&s)return ex(t)-ex(r);const o=(t.name||`Person ${t.id}`).toLowerCase(),u=(r.name||`Person ${r.id}`).toLowerCase();return o.localeCompare(u)};function NC(){var fs,Hr,Pr,Na,qr;const[t,r]=b.useState(null),[a,s]=b.useState(""),[o,u]=b.useState(!1),[d,f]=b.useState(null),[h,p]=b.useState(!1),[v,y]=b.useState(!1),[w,x]=b.useState("detection"),[j,_]=b.useState(null),[z,k]=b.useState(!0),[C,M]=b.useState(new Set),[A,O]=b.useState(null),[Q,B]=b.useState(null),[Z,P]=b.useState(!1),[D,G]=b.useState(null),[T,U]=b.useState(null),[S,W]=b.useState(0),[K,I]=b.useState(0),[se,J]=b.useState(null),[be,R]=b.useState(null),[F,ee]=b.useState(()=>{if(typeof window<"u")try{const ce=localStorage.getItem(Wy);if(ce==="name"||ce==="photos")return ce}catch{}return"name"}),[ie,ue]=b.useState(null),[Me,re]=b.useState(null),[je,de]=b.useState(null),[Oe,Ue]=b.useState(null),_e=Qe(ce=>ce.smartMergeLevel),ze=Qe(ce=>ce.setSmartMergeLevel),E=yi(),ae=vl();b.useEffect(()=>{const ce=Ve=>{Ve.key==="Escape"&&v&&y(!1)};if(v)return document.addEventListener("keydown",ce),document.body.style.overflow="hidden",()=>{document.removeEventListener("keydown",ce),document.body.style.overflow="unset"}},[v]),b.useEffect(()=>{if(!ie)return;const ce=()=>ue(null);return window.addEventListener("click",ce),window.addEventListener("contextmenu",ce),()=>{window.removeEventListener("click",ce),window.removeEventListener("contextmenu",ce)}},[ie]),b.useEffect(()=>{if(!Oe)return;const ce=setTimeout(()=>Ue(null),6e3);return()=>clearTimeout(ce)},[Oe]);const{data:te,isLoading:q,error:H}=yn({queryKey:["persons"],queryFn:()=>it.listPersons(),enabled:ae,refetchInterval:ce=>!ae||ce.state.error?!1:3e4,retry:!1}),$=$S({queries:te&&F==="photos"?te.map(ce=>({queryKey:["personAssets",ce.id],queryFn:()=>it.getPersonAssets(ce.id),staleTime:3e4})):[]}),he=b.useMemo(()=>{if(!te||F!=="photos")return new Map;const ce=new Map;return te.forEach((Ve,ht)=>{var _t;const ut=(_t=$[ht])==null?void 0:_t.data;ce.set(Ve.id,(ut==null?void 0:ut.length)||0)}),ce},[te,$,F]),ke=b.useMemo(()=>{if(!te)return[];const ce=[...te];return F==="name"?ce.sort(tx):F==="photos"&&ce.sort((Ve,ht)=>{const ut=he.get(Ve.id)||0;return(he.get(ht.id)||0)-ut}),ce},[te,F,he]),oe=b.useMemo(()=>te?[...te].sort(tx):[],[te]),{data:Te,error:ve}=yn({queryKey:["faceDetectionStatus"],queryFn:()=>it.faceDetectionStatus(),refetchInterval:ce=>!ae||ce.state.error?!1:2e3,enabled:ae,retry:!1}),{data:we}=yn({queryKey:["faceProgress"],queryFn:()=>it.faceProgress(),refetchInterval:ce=>!ae||ce.state.error?!1:1e4,enabled:ae,retry:!1}),{data:De}=yn({queryKey:["unassignedFaces"],queryFn:()=>it.unassignedFaces(0,60),refetchInterval:ce=>!ae||ce.state.error?!1:15e3,enabled:ae,retry:!1}),{data:Ee}=yn({queryKey:["faceSettings"],queryFn:()=>it.getFaceSettings(),enabled:ae,retry:!1}),He=cn({mutationFn:()=>it.detectFaces(),onSuccess:()=>{E.invalidateQueries({queryKey:["faceDetectionStatus"]}),E.invalidateQueries({queryKey:["faceProgress"]})}}),Ae=cn({mutationFn:()=>it.stopFaceDetection(),onSuccess:()=>{E.invalidateQueries({queryKey:["faceDetectionStatus"]}),E.invalidateQueries({queryKey:["faceProgress"]})}}),$e=cn({mutationFn:()=>it.clearFacialData(),onSuccess:()=>{E.setQueryData(["persons"],[]),E.invalidateQueries({queryKey:["persons"]}),E.invalidateQueries({queryKey:["faceProgress"]}),E.invalidateQueries({queryKey:["unassignedFaces"]}),E.removeQueries({queryKey:["personAssets"]}),E.removeQueries({queryKey:["personFace"]}),p(!1)}}),Ge=cn({mutationFn:({id:ce,name:Ve})=>it.updatePerson(ce,Ve),onSuccess:()=>{E.invalidateQueries({queryKey:["persons"]}),r(null),s("")}}),Ze=cn({mutationFn:ce=>it.deletePerson(ce),onSuccess:()=>{E.invalidateQueries({queryKey:["persons"]}),u(!1),f(null)}}),Be=cn({mutationFn:({sourceId:ce,targetId:Ve})=>it.mergePersons(ce,Ve),onSuccess:(ce,Ve)=>{var hs,Yr;const ht=(D==null?void 0:D.name)||(D?`Person ${D.id}`:`Person ${Ve.sourceId}`),ut=(te==null?void 0:te.find(ms=>ms.id===Ve.targetId))||T||{id:Ve.targetId,name:null},_t=ut.name||`Person ${ut.id}`,ur=(hs=ce==null?void 0:ce.faces_merged)!=null?hs:0,Ir=(Yr=ce==null?void 0:ce.profile_refreshed)==null?void 0:Yr.face_count,Ca=Ir?`Merged ${ht} into ${_t} (${ur} faces). Profile now tracks ${Ir} faces.`:`Merged ${ht} into ${_t} (${ur} faces).`;Ue(Ca),E.invalidateQueries({queryKey:["persons"]}),E.invalidateQueries({queryKey:["personAssets",Ve.targetId]}),E.invalidateQueries({queryKey:["personFace",Ve.targetId]}),E.invalidateQueries({queryKey:["faceProgress"]}),E.invalidateQueries({queryKey:["unassignedFaces"]}),P(!1),G(null),U(null),J(null),R(null),O(null),B(null)}}),Je=cn({mutationFn:({faceId:ce,personId:Ve})=>it.assignFaceToPerson(ce,Ve),onSuccess:()=>{E.invalidateQueries({queryKey:["unassignedFaces"]}),E.invalidateQueries({queryKey:["persons"]}),E.invalidateQueries({queryKey:["faceProgress"]}),re(null),de(null)},onError:ce=>{alert(`Failed to assign face: ${ce instanceof Error?ce.message:"Unknown error"}`)}}),vt=()=>{switch(_e){case 1:return .4;case 2:return .45;case 3:return .5;case 4:return .55;case 5:return .6;default:return .5}},Pe=cn({mutationFn:()=>it.smartMergePersons(vt()),onSuccess:ce=>{E.invalidateQueries({queryKey:["persons"]}),E.invalidateQueries({queryKey:["faceProgress"]}),E.invalidateQueries({queryKey:["unassignedFaces"]});const Ve=`Smart merge completed: ${ce.persons_merged} ${ce.persons_merged===1?"person":"persons"} merged, ${ce.faces_merged} ${ce.faces_merged===1?"face":"faces"} combined. ${ce.remaining_persons} ${ce.remaining_persons===1?"person":"persons"} remaining.`;console.log(Ve);const ht=document.createElement("div");ht.textContent=Ve,ht.className="fixed top-4 right-4 bg-green-500 text-white px-4 py-2 rounded shadow-lg z-50",document.body.appendChild(ht),setTimeout(()=>{document.body.removeChild(ht)},5e3)},onError:ce=>{const Ve=`Smart merge failed: ${ce instanceof Error?ce.message:"Unknown error"}`;console.error(Ve);const ht=document.createElement("div");ht.textContent=Ve,ht.className="fixed top-4 right-4 bg-red-500 text-white px-4 py-2 rounded shadow-lg z-50",document.body.appendChild(ht),setTimeout(()=>{document.body.removeChild(ht)},5e3)}}),Ut=cn({mutationFn:ce=>it.updateFaceSettings(ce),onSuccess:()=>{E.invalidateQueries({queryKey:["faceSettings"]})}}),[wt,qt]=b.useState({confidence_threshold:.2,nms_iou_threshold:.4,cluster_epsilon:.55,min_cluster_size:3,min_samples:2}),xt={preset1:{name:"High Precision",description:"Very strict detection and clustering. Only high-confidence faces are detected and grouped. Best for minimizing false positives.",settings:{confidence_threshold:.35,nms_iou_threshold:.5,cluster_epsilon:.45,min_cluster_size:4,min_samples:3}},preset2:{name:"Default",description:"Default settings optimized for most use cases. Good balance between detection accuracy and clustering quality.",settings:{confidence_threshold:.2,nms_iou_threshold:.4,cluster_epsilon:.55,min_cluster_size:3,min_samples:2}},preset3:{name:"Liberal",description:"More relaxed detection and clustering. Detects more faces and groups them more liberally. Best for ensuring no faces are missed.",settings:{confidence_threshold:.15,nms_iou_threshold:.35,cluster_epsilon:.65,min_cluster_size:2,min_samples:1}},preset4:{name:"Maximum Detection",description:"Most aggressive settings. Detects as many faces as possible and groups them very loosely. May include false positives.",settings:{confidence_threshold:.1,nms_iou_threshold:.3,cluster_epsilon:.75,min_cluster_size:2,min_samples:1}},preset5:{name:"Conservative",description:"Medium-high confidence with moderate clustering. Cautious approach that reduces false positives while still detecting most faces.",settings:{confidence_threshold:.25,nms_iou_threshold:.45,cluster_epsilon:.5,min_cluster_size:3,min_samples:2}}},Dt=ce=>{for(const[Ve,ht]of Object.entries(xt)){const ut=ht.settings;if(Math.abs(ce.confidence_threshold-ut.confidence_threshold)<.01&&Math.abs(ce.nms_iou_threshold-ut.nms_iou_threshold)<.01&&Math.abs(ce.cluster_epsilon-ut.cluster_epsilon)<.01&&ce.min_cluster_size===ut.min_cluster_size&&ce.min_samples===ut.min_samples)return Ve}return"custom"};b.useEffect(()=>{var ce,Ve,ht,ut,_t;if(Ee){const ur={confidence_threshold:(ce=Ee.confidence_threshold)!=null?ce:.2,nms_iou_threshold:(Ve=Ee.nms_iou_threshold)!=null?Ve:.4,cluster_epsilon:(ht=Ee.cluster_epsilon)!=null?ht:.55,min_cluster_size:(ut=Ee.min_cluster_size)!=null?ut:3,min_samples:(_t=Ee.min_samples)!=null?_t:2};if(qt(ur),Ee.excluded_extensions)M(new Set(Ee.excluded_extensions));else{const Ir=["jpg","jpeg","png","gif","bmp","webp","tiff","tif","heic","heif","raw","cr2","nef","orf","sr2","arw","dng","rw2","raf","pef","srw","3fr","x3f","mrw","mef","mos","erf","dcr","kdc","fff","iiq","rwl","r3d","ari","bay","cap","data","dcs","drf","eip","k25","mdc","nrw","obm","ptx","pxn","rwz","srf","crw"],Ca=["jpg","jpeg","png","webp","heic","heif","tiff","tif"],hs=Ir.filter(Yr=>!Ca.includes(Yr));M(new Set(hs))}k(!0),setTimeout(()=>k(!1),100)}},[Ee]),b.useEffect(()=>{const ce=Dt(wt);_(ce)},[wt]),b.useEffect(()=>{if(z)return;const ce=setTimeout(()=>{Ut.mutate({...wt,excluded_extensions:Array.from(C)})},500);return()=>clearTimeout(ce)},[wt,C,z]);const jt=ce=>{r(ce.id),s(ce.name||"")},Lt=()=>{t!==null&&Ge.mutate({id:t,name:a.trim()||null})},jn=()=>{r(null),s("")},xe=Qe(ce=>ce.showDeleteConfirmation),Ke=ce=>{xe?(f(ce),u(!0)):Ze.mutate(ce)},Y=()=>{d!==null&&Ze.mutate(d)},fe=()=>{$r||p(!0)},Re=()=>{$e.mutate()},Le=ce=>{O(ce)},Xe=()=>{O(null),B(null)},st=(ce,Ve)=>{ce.preventDefault(),A!==null&&A!==Ve&&B(Ve);const ht=100,ut=10,_t=window.innerHeight,ur=ce.clientY;ur<ht?window.scrollBy({top:-ut,behavior:"auto"}):ur>_t-ht&&window.scrollBy({top:ut,behavior:"auto"})},yt=()=>{B(null)},ot=async(ce,Ve)=>{if(ce.preventDefault(),ce.stopPropagation(),A===null||A===Ve){O(null),B(null);return}const ht=te==null?void 0:te.find(_t=>_t.id===A),ut=te==null?void 0:te.find(_t=>_t.id===Ve);if(!ht||!ut){O(null),B(null);return}try{const[_t,ur,Ir,Ca]=await Promise.all([it.getPersonAssets(ht.id),it.getPersonAssets(ut.id),it.getPersonFace(ht.id),it.getPersonFace(ut.id)]);W(_t.length),I(ur.length),J(Ir),R(Ca),G(ht),U(ut),P(!0)}catch(_t){console.error("Error fetching person data:",_t)}O(null),B(null)},Vt=()=>{D&&T&&Be.mutate({sourceId:D.id,targetId:T.id})},Sr=()=>{re(null),de(null)},zr=()=>{Me!==null&&je!==null&&Je.mutate({faceId:Me,personId:je})},Ft=ve||H,rn=!!Ft&&(((fs=Ft==null?void 0:Ft.message)==null?void 0:fs.includes("404"))||((Hr=Ft==null?void 0:Ft.message)==null?void 0:Hr.includes("Not Found"))||((Pr=Ft==null?void 0:Ft.message)==null?void 0:Pr.includes("501"))||((Na=Ft==null?void 0:Ft.message)==null?void 0:Na.includes("HTTP 404"))||((qr=Ft==null?void 0:Ft.message)==null?void 0:qr.includes("HTTP 501")));if(q)return c.jsx(kC,{});if(rn)return c.jsx("div",{className:"container-responsive py-6",children:c.jsxs("div",{className:"text-center py-12",children:[c.jsx("h1",{className:"text-2xl font-semibold mb-4",children:"Facial Recognition Not Available"}),c.jsx("p",{className:"text-zinc-600 dark:text-zinc-400 mb-2",children:"The facial recognition feature is not enabled on the backend."}),c.jsxs("p",{className:"text-sm text-zinc-500 dark:text-zinc-500 mb-2",children:["To enable it, rebuild the backend with the ",c.jsx("code",{className:"bg-zinc-100 dark:bg-zinc-800 px-1 rounded",children:"--features facial-recognition"})," flag."]}),c.jsxs("div",{className:"mt-4 space-y-2",children:[c.jsx("p",{className:"text-xs text-zinc-500 dark:text-zinc-500 font-mono bg-zinc-100 dark:bg-zinc-800 px-3 py-2 rounded block",children:'docker compose build --build-arg CARGO_BUILD_FLAGS="--features facial-recognition"'}),c.jsx("p",{className:"text-xs text-zinc-400 dark:text-zinc-600 italic",children:"Then restart: docker compose up -d"})]})]})});if(H&&!Ft)return c.jsx(EC,{error:H});const un=(we==null?void 0:we.enabled)||!1,Br=(Te==null?void 0:Te.queue_depth)||0,$r=Br>0,xi=(ce,Ve)=>{qt(ht=>{const ut={...ht,[ce]:Ve},_t=Dt(ut);return _(_t),ut})},wi=ce=>{const Ve=xt[ce];qt(Ve.settings),_(ce)},Xo=()=>{_("custom")},_i=()=>j&&j!=="custom"&&j in xt?xt[j].description:j==="custom"?"Custom settings active. Adjust sliders to create your own configuration.":"Select a preset or adjust sliders to configure face detection settings.";return c.jsxs("div",{className:"container-responsive py-6 space-y-6",children:[c.jsxs("div",{className:`flex flex-col sm:flex-row items-stretch sm:items-center gap-3 ${te&&te.length>0?"justify-between":"justify-end"}`,children:[te&&te.length>0&&c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx(rz,{className:"size-4 text-zinc-600 dark:text-zinc-400"}),c.jsxs("select",{value:F,onChange:ce=>{const Ve=ce.target.value;if(ee(Ve),typeof window<"u")try{localStorage.setItem(Wy,Ve)}catch{}},className:"px-2 sm:px-3 py-1.5 sm:py-2 rounded-md border border-zinc-200 dark:border-zinc-700 bg-white dark:bg-zinc-800 text-xs sm:text-sm text-zinc-900 dark:text-zinc-100 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[c.jsx("option",{value:"name",children:"Sort by Name"}),c.jsx("option",{value:"photos",children:"Sort by # of Photos"})]})]}),c.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[$r&&c.jsxs("div",{className:"text-xs sm:text-sm text-zinc-600 dark:text-zinc-400 whitespace-nowrap",children:["Detecting... (",Br,")"]}),c.jsxs("button",{onClick:()=>y(!0),className:"px-3 sm:px-4 py-1.5 sm:py-2 bg-zinc-200 dark:bg-zinc-700 text-zinc-700 dark:text-zinc-200 rounded-md hover:bg-zinc-300 dark:hover:bg-zinc-600 flex items-center gap-1.5 sm:gap-2 text-sm whitespace-nowrap",title:"Configure Face Detection Settings",children:[c.jsx(l1,{className:"size-3.5 sm:size-4"}),c.jsx("span",{className:"hidden sm:inline",children:"Configure"}),c.jsx("span",{className:"sm:hidden",children:"Config"})]}),c.jsxs("div",{className:"flex items-center gap-2 px-3 sm:px-4 py-1.5 sm:py-2 bg-zinc-200 dark:bg-zinc-700 rounded-md",children:[c.jsx("span",{className:"text-xs sm:text-sm text-zinc-700 dark:text-zinc-200 whitespace-nowrap",children:"Face Detection:"}),c.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[c.jsx("input",{type:"checkbox",checked:un,onChange:ce=>{ce.target.checked?He.mutate():Ae.mutate()},disabled:He.isPending||Ae.isPending,className:"sr-only peer"}),c.jsx("div",{className:"w-11 h-6 bg-zinc-300 dark:bg-zinc-600 peer-focus:outline-none peer-focus:ring-2 peer-focus:ring-blue-500 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-zinc-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-blue-600 disabled:opacity-50 disabled:cursor-not-allowed"}),c.jsx("span",{className:"ml-2 text-xs sm:text-sm text-zinc-700 dark:text-zinc-200 whitespace-nowrap",children:un?"Enabled":"Disabled"})]})]}),te&&te.length>=2&&c.jsxs("button",{onClick:()=>Pe.mutate(),disabled:Pe.isPending||$r,className:"px-3 sm:px-4 py-1.5 sm:py-2 bg-purple-600 text-white rounded-md hover:bg-purple-700 disabled:opacity-50 disabled:cursor-not-allowed flex items-center gap-1.5 sm:gap-2 text-sm whitespace-nowrap",title:$r?"Cannot merge while face detection is processing files":"Automatically merge similar persons",children:[c.jsx($z,{className:"size-3.5 sm:size-4"}),c.jsx("span",{className:"hidden sm:inline",children:Pe.isPending?"Merging...":"Smart Merge"}),c.jsx("span",{className:"sm:hidden",children:Pe.isPending?"...":"Merge"})]}),c.jsxs("button",{onClick:fe,disabled:$r||$e.isPending,className:"px-3 sm:px-4 py-1.5 sm:py-2 bg-red-600 text-white rounded-md hover:bg-red-700 disabled:opacity-50 disabled:cursor-not-allowed flex items-center gap-1.5 sm:gap-2 text-sm whitespace-nowrap",children:[c.jsx(xa,{className:"size-3.5 sm:size-4"}),c.jsx("span",{className:"hidden sm:inline",children:"Clear Data"}),c.jsx("span",{className:"sm:hidden",children:"Clear"})]})]})]}),Oe&&c.jsx("div",{className:"rounded-md border border-blue-200 dark:border-blue-700 bg-blue-50 dark:bg-blue-900/20 text-blue-800 dark:text-blue-100 px-3 py-2 text-sm",children:Oe}),we&&c.jsx("div",{className:"rounded-md border border-zinc-200 dark:border-zinc-800 p-2.5 sm:p-4 bg-zinc-50 dark:bg-zinc-900",children:c.jsxs("div",{className:"flex flex-wrap items-center gap-x-3 sm:gap-x-6 gap-y-1.5 sm:gap-y-2 text-xs sm:text-sm",children:[c.jsxs("div",{className:"flex items-center",children:[c.jsx("span",{className:`inline-block w-1.5 sm:w-2 h-1.5 sm:h-2 rounded-full mr-1.5 sm:mr-2 ${we.models_loaded.scrfd&&we.models_loaded.arcface?"bg-green-500":"bg-yellow-500"}`}),c.jsx("span",{className:"hidden sm:inline",children:"Models: SCRFD & ArcFace"}),c.jsx("span",{className:"sm:hidden",children:"Models: SCRFD & ArcFace"})]}),c.jsxs("div",{className:"whitespace-nowrap",children:["Faces: ",c.jsx("span",{className:"font-medium",children:we.counts.faces_total})]}),c.jsxs("div",{className:"whitespace-nowrap",children:["People: ",c.jsx("span",{className:"font-medium",children:we.counts.persons_total})]}),c.jsxs("div",{className:"hidden sm:inline whitespace-nowrap",children:["Batch: ",c.jsx("span",{className:"font-medium",children:we.thresholds.cluster_batch_size})]}),c.jsxs("div",{className:"hidden md:inline whitespace-nowrap",children:["Remaining: ",c.jsx("span",{className:"font-medium",children:we.thresholds.remaining_to_next_cluster})]}),we.status&&c.jsx("div",{className:`text-zinc-600 dark:text-zinc-400 text-xs sm:text-sm truncate flex-1 min-w-0 ${we.status==="Collecting more faces before next clustering"?"animate-pulse-slow":""}`,children:we.status})]})}),ke&&ke.length>0?c.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-3 sm:gap-4",children:ke.map(ce=>c.jsx(CC,{person:ce,isEditing:t===ce.id,editingName:a,onEditingNameChange:s,onStartEdit:()=>jt(ce),onSave:Lt,onCancel:jn,onDelete:()=>Ke(ce.id),isDragTarget:Q===ce.id,onDragStart:()=>Le(ce.id),onDragEnd:Xe,onDragOver:Ve=>st(Ve,ce.id),onDragLeave:yt,onDrop:Ve=>ot(Ve,ce.id)},ce.id))}):c.jsxs("div",{className:"text-center py-12 text-zinc-500 dark:text-zinc-400",children:[c.jsx("p",{className:"text-lg mb-2",children:"No people detected yet"}),c.jsx("p",{className:"text-sm",children:'Click "Start Face Detection" to scan your photos for faces and automatically group them by person.'})]}),(De==null?void 0:De.faces)&&De.faces.length>0&&c.jsxs("div",{className:"space-y-3",children:[c.jsx("h2",{className:"text-lg font-semibold",children:"Unassigned Faces"}),c.jsx("div",{className:"grid grid-cols-4 sm:grid-cols-5 md:grid-cols-6 lg:grid-cols-8 xl:grid-cols-10 gap-1.5 sm:gap-2",children:De.faces.map(ce=>c.jsx("img",{src:pn.faceThumbUrl(ce.id,160),alt:`Face ${ce.id}`,className:"w-full h-auto rounded border border-zinc-200 dark:border-zinc-800 bg-zinc-100 dark:bg-zinc-900 cursor-context-menu",onContextMenu:Ve=>{Ve.preventDefault(),Ve.stopPropagation(),ue({faceId:ce.id,x:Ve.clientX,y:Ve.clientY})},loading:"lazy"},ce.id))})]}),ie&&c.jsx("div",{className:"fixed z-50 bg-white dark:bg-zinc-800 border border-zinc-200 dark:border-zinc-700 rounded-md shadow-xl py-1 min-w-[180px]",style:{left:ie.x,top:ie.y},onClick:ce=>ce.stopPropagation(),children:c.jsx("button",{onClick:ce=>{ce.stopPropagation(),re(ie.faceId),de(null),ue(null)},className:"w-full px-4 py-2 text-left text-sm text-zinc-700 dark:text-zinc-200 hover:bg-zinc-100 dark:hover:bg-zinc-700 flex items-center gap-2",children:"Assign to Person"})}),Me!==null&&c.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4",children:[c.jsx("div",{className:"absolute inset-0 bg-black/40 dark:bg-black/60",onClick:Sr}),c.jsxs("div",{className:"relative z-10 w-full max-w-md bg-white dark:bg-zinc-800 rounded-lg shadow-xl border border-zinc-200 dark:border-zinc-700 p-6 space-y-4",onClick:ce=>ce.stopPropagation(),children:[c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx("h2",{className:"text-lg font-semibold flex-1",children:"Assign Face to Person"}),c.jsx("img",{src:pn.faceThumbUrl(Me,96),alt:`Face ${Me}`,className:"w-16 h-16 rounded-full border border-zinc-200 dark:border-zinc-700 object-cover"})]}),c.jsx("p",{className:"text-sm text-zinc-600 dark:text-zinc-400",children:"Choose an existing person to link this face. The face will no longer appear in the Unassigned list."}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-zinc-700 dark:text-zinc-200 mb-2",children:"Select Person"}),c.jsxs("select",{value:je!=null?je:"",onChange:ce=>de(ce.target.value?parseInt(ce.target.value,10):null),className:"w-full p-2 rounded-md border border-zinc-200 dark:border-zinc-700 bg-white dark:bg-zinc-900 text-sm text-zinc-900 dark:text-zinc-100 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[c.jsx("option",{value:"",children:"-- Select a person --"}),oe.length>0?oe.map(ce=>c.jsx("option",{value:ce.id,children:ce.name||`Person ${ce.id}`},ce.id)):c.jsx("option",{value:"",disabled:!0,children:"No persons available"})]})]}),c.jsxs("div",{className:"flex justify-end gap-2",children:[c.jsx("button",{onClick:Sr,className:"px-4 py-2 bg-zinc-200 dark:bg-zinc-700 text-zinc-800 dark:text-zinc-100 rounded-md hover:bg-zinc-300 dark:hover:bg-zinc-600 text-sm font-medium",disabled:Je.isPending,children:"Cancel"}),c.jsx("button",{onClick:zr,disabled:!je||Je.isPending,className:"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed text-sm font-medium",children:Je.isPending?"Assigning...":"Assign"})]})]})]}),c.jsx(ls,{isOpen:o,onClose:()=>u(!1),onConfirm:Y,title:"Delete Person",message:"Are you sure you want to delete this person? This will unlink all associated faces but won't delete the face data.",confirmText:"Delete",variant:"danger"}),c.jsx(ls,{isOpen:h,onClose:()=>p(!1),onConfirm:Re,title:"Clear Facial Data",message:"This will permanently delete all face embeddings and persons from the database. This action cannot be undone. Are you sure?",confirmText:$e.isPending?"Clearing...":"Clear All Data",variant:"danger"}),Z&&D&&T&&c.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4",children:[c.jsx("div",{className:"absolute inset-0 bg-black/50 backdrop-blur-sm",onClick:()=>P(!1)}),c.jsxs("div",{className:"relative w-full max-w-md bg-white dark:bg-zinc-800 rounded-lg shadow-xl border border-zinc-200 dark:border-zinc-700 p-6",onClick:ce=>ce.stopPropagation(),children:[c.jsx("h2",{className:"text-lg font-semibold mb-4",children:"Merge Persons"}),c.jsxs("div",{className:"space-y-3 mb-6",children:[c.jsx("div",{className:"p-3 bg-zinc-50 dark:bg-zinc-900 rounded-md",children:c.jsxs("div",{className:"flex items-center gap-3",children:[se&&c.jsx("img",{src:pn.faceThumbUrl(se,64),alt:D.name||`Person ${D.id}`,className:"w-16 h-16 rounded-full object-cover border-2 border-zinc-200 dark:border-zinc-700 flex-shrink-0",onError:ce=>{ce.target.style.display="none"}}),c.jsxs("div",{className:"flex-1 min-w-0",children:[c.jsx("div",{className:"font-medium text-sm text-zinc-700 dark:text-zinc-300 mb-1",children:D.name||`Person ${D.id}`}),c.jsxs("div",{className:"text-xs text-zinc-600 dark:text-zinc-400",children:[S," ",S===1?"photo":"photos"]})]})]})}),c.jsx("div",{className:"text-center text-zinc-500 dark:text-zinc-400 text-sm",children:" will be merged into "}),c.jsx("div",{className:"p-3 bg-blue-50 dark:bg-blue-900/20 rounded-md border border-blue-200 dark:border-blue-800",children:c.jsxs("div",{className:"flex items-center gap-3",children:[be&&c.jsx("img",{src:pn.faceThumbUrl(be,64),alt:T.name||`Person ${T.id}`,className:"w-16 h-16 rounded-full object-cover border-2 border-blue-200 dark:border-blue-800 flex-shrink-0",onError:ce=>{ce.target.style.display="none"}}),c.jsxs("div",{className:"flex-1 min-w-0",children:[c.jsx("div",{className:"font-medium text-sm text-blue-700 dark:text-blue-300 mb-1",children:T.name||`Person ${T.id}`}),c.jsxs("div",{className:"text-xs text-blue-600 dark:text-blue-400",children:[K," ",K===1?"photo":"photos"]})]})]})})]}),c.jsx("div",{className:"text-sm text-zinc-600 dark:text-zinc-400 mb-6",children:"All faces from the source person will be assigned to the target person. The source person will be deleted."}),c.jsxs("div",{className:"flex justify-end gap-2",children:[c.jsx("button",{onClick:()=>P(!1),className:"px-4 py-2 bg-zinc-200 dark:bg-zinc-700 text-zinc-700 dark:text-zinc-200 rounded-md hover:bg-zinc-300 dark:hover:bg-zinc-600 text-sm font-medium",disabled:Be.isPending,children:"Cancel"}),c.jsx("button",{onClick:Vt,className:"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed text-sm font-medium",disabled:Be.isPending,children:Be.isPending?"Merging...":"Merge"})]})]})]}),v&&c.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4",children:[c.jsx("div",{className:"absolute inset-0 bg-black/50 backdrop-blur-sm",onClick:()=>y(!1)}),c.jsxs("div",{className:"relative w-full max-w-sm bg-white dark:bg-zinc-800 rounded-lg shadow-xl border border-zinc-200 dark:border-zinc-700 max-h-[90vh] overflow-y-auto",onClick:ce=>ce.stopPropagation(),children:[c.jsx("div",{className:"absolute top-2 right-2 z-10",children:c.jsx("button",{onClick:()=>y(!1),className:"p-1 text-zinc-500 dark:text-zinc-400 hover:text-zinc-700 dark:hover:text-zinc-200 rounded-md hover:bg-zinc-100 dark:hover:bg-zinc-700 transition-colors",title:"Close (ESC)",children:c.jsx(xa,{className:"size-4"})})}),c.jsxs("div",{className:"p-2.5 space-y-2.5",children:[c.jsxs("div",{className:"flex border-b border-zinc-200 dark:border-zinc-700 mb-2.5",children:[c.jsx("button",{onClick:()=>x("detection"),className:`px-3 py-1.5 text-xs font-medium transition-colors ${w==="detection"?"text-blue-600 dark:text-blue-400 border-b-2 border-blue-600 dark:border-blue-400":"text-zinc-600 dark:text-zinc-400 hover:text-zinc-900 dark:hover:text-zinc-200"}`,children:"Detection Settings"}),c.jsx("button",{onClick:()=>x("smartMerge"),className:`px-3 py-1.5 text-xs font-medium transition-colors ${w==="smartMerge"?"text-blue-600 dark:text-blue-400 border-b-2 border-blue-600 dark:border-blue-400":"text-zinc-600 dark:text-zinc-400 hover:text-zinc-900 dark:hover:text-zinc-200"}`,children:"Smart Merge"}),c.jsx("button",{onClick:()=>x("exclusions"),className:`px-3 py-1.5 text-xs font-medium transition-colors ${w==="exclusions"?"text-blue-600 dark:text-blue-400 border-b-2 border-blue-600 dark:border-blue-400":"text-zinc-600 dark:text-zinc-400 hover:text-zinc-900 dark:hover:text-zinc-200"}`,children:"File Types"})]}),w==="detection"&&c.jsxs(c.Fragment,{children:[c.jsxs("div",{className:"grid grid-cols-6 gap-1.5 pb-2 border-b border-zinc-200 dark:border-zinc-700",children:[c.jsx("button",{onClick:()=>wi("preset1"),className:`px-2 py-1.5 text-[10px] font-medium rounded transition-colors ${j==="preset1"?"bg-blue-600 text-white hover:bg-blue-700":"bg-zinc-100 dark:bg-zinc-700 text-zinc-700 dark:text-zinc-300 hover:bg-zinc-200 dark:hover:bg-zinc-600"}`,title:xt.preset1.description,children:"Preset 1"}),c.jsx("button",{onClick:()=>wi("preset2"),className:`px-2 py-1.5 text-[10px] font-medium rounded transition-colors ${j==="preset2"?"bg-blue-600 text-white hover:bg-blue-700":"bg-zinc-100 dark:bg-zinc-700 text-zinc-700 dark:text-zinc-300 hover:bg-zinc-200 dark:hover:bg-zinc-600"}`,title:xt.preset2.description,children:"Default"}),c.jsx("button",{onClick:()=>wi("preset3"),className:`px-2 py-1.5 text-[10px] font-medium rounded transition-colors ${j==="preset3"?"bg-blue-600 text-white hover:bg-blue-700":"bg-zinc-100 dark:bg-zinc-700 text-zinc-700 dark:text-zinc-300 hover:bg-zinc-200 dark:hover:bg-zinc-600"}`,title:xt.preset3.description,children:"Preset 3"}),c.jsx("button",{onClick:()=>wi("preset4"),className:`px-2 py-1.5 text-[10px] font-medium rounded transition-colors ${j==="preset4"?"bg-blue-600 text-white hover:bg-blue-700":"bg-zinc-100 dark:bg-zinc-700 text-zinc-700 dark:text-zinc-300 hover:bg-zinc-200 dark:hover:bg-zinc-600"}`,title:xt.preset4.description,children:"Preset 4"}),c.jsx("button",{onClick:()=>wi("preset5"),className:`px-2 py-1.5 text-[10px] font-medium rounded transition-colors ${j==="preset5"?"bg-blue-600 text-white hover:bg-blue-700":"bg-zinc-100 dark:bg-zinc-700 text-zinc-700 dark:text-zinc-300 hover:bg-zinc-200 dark:hover:bg-zinc-600"}`,title:xt.preset5.description,children:"Preset 5"}),c.jsx("button",{onClick:Xo,className:`px-2 py-1.5 text-[10px] font-medium rounded transition-colors ${j==="custom"?"bg-blue-600 text-white hover:bg-blue-700":"bg-zinc-100 dark:bg-zinc-700 text-zinc-700 dark:text-zinc-300 hover:bg-zinc-200 dark:hover:bg-zinc-600"}`,title:"Custom settings - manually adjust sliders to create your own configuration",children:"Custom"})]}),c.jsxs("div",{children:[c.jsxs("label",{className:"block text-xs text-zinc-600 dark:text-zinc-400 mb-0.5",children:["Confidence Threshold: ",wt.confidence_threshold.toFixed(2)]}),c.jsx("input",{type:"range",min:"0.05",max:"0.5",step:"0.05",value:wt.confidence_threshold,onChange:ce=>xi("confidence_threshold",parseFloat(ce.target.value)),className:"w-full h-1.5"}),c.jsx("div",{className:"text-[10px] text-zinc-500 dark:text-zinc-500 mt-0.5",children:"Lower = more faces detected"})]}),c.jsxs("div",{children:[c.jsxs("label",{className:"block text-xs text-zinc-600 dark:text-zinc-400 mb-0.5",children:["NMS IOU Threshold: ",wt.nms_iou_threshold.toFixed(2)]}),c.jsx("input",{type:"range",min:"0.1",max:"0.8",step:"0.05",value:wt.nms_iou_threshold,onChange:ce=>xi("nms_iou_threshold",parseFloat(ce.target.value)),className:"w-full h-1.5"}),c.jsx("div",{className:"text-[10px] text-zinc-500 dark:text-zinc-500 mt-0.5",children:"Overlap threshold for duplicate removal"})]}),c.jsxs("div",{children:[c.jsxs("label",{className:"block text-xs text-zinc-600 dark:text-zinc-400 mb-0.5",children:["Cluster Epsilon: ",wt.cluster_epsilon.toFixed(2)]}),c.jsx("input",{type:"range",min:"0.3",max:"0.8",step:"0.05",value:wt.cluster_epsilon,onChange:ce=>xi("cluster_epsilon",parseFloat(ce.target.value)),className:"w-full h-1.5"}),c.jsx("div",{className:"text-[10px] text-zinc-500 dark:text-zinc-500 mt-0.5",children:"Distance threshold for clustering (lower = stricter)"})]}),c.jsxs("div",{children:[c.jsxs("label",{className:"block text-xs text-zinc-600 dark:text-zinc-400 mb-0.5",children:["Min Cluster Size: ",wt.min_cluster_size]}),c.jsx("input",{type:"range",min:"2",max:"10",step:"1",value:wt.min_cluster_size,onChange:ce=>xi("min_cluster_size",parseInt(ce.target.value)),className:"w-full h-1.5"}),c.jsx("div",{className:"text-[10px] text-zinc-500 dark:text-zinc-500 mt-0.5",children:"Minimum faces per person cluster"})]}),c.jsxs("div",{children:[c.jsxs("label",{className:"block text-xs text-zinc-600 dark:text-zinc-400 mb-0.5",children:["Min Samples: ",wt.min_samples]}),c.jsx("input",{type:"range",min:"1",max:"5",step:"1",value:wt.min_samples,onChange:ce=>xi("min_samples",parseInt(ce.target.value)),className:"w-full h-1.5"}),c.jsx("div",{className:"text-[10px] text-zinc-500 dark:text-zinc-500 mt-0.5",children:"Neighborhood density for clustering"})]}),c.jsx("div",{className:"pt-2 border-t border-zinc-200 dark:border-zinc-700",children:c.jsx("div",{className:"text-[10px] text-zinc-600 dark:text-zinc-400 leading-relaxed",children:_i()})})]}),w==="smartMerge"&&c.jsx("div",{className:"space-y-4",children:c.jsxs("div",{children:[c.jsx("label",{className:"text-sm font-medium text-zinc-700 dark:text-zinc-300 mb-3 block",children:"Smart Merge Aggressiveness"}),c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{className:"px-2",children:[c.jsx("input",{type:"range",min:"1",max:"5",step:"1",value:_e,onChange:ce=>ze(Number(ce.target.value)),className:"w-full h-2 bg-zinc-200 dark:bg-zinc-700 rounded-lg appearance-none cursor-pointer accent-blue-600",style:{background:`linear-gradient(to right, rgb(37 99 235) 0%, rgb(37 99 235) ${(_e-1)/4*100}%, rgb(161 161 170) ${(_e-1)/4*100}%, rgb(161 161 170) 100%)`}}),c.jsxs("div",{className:"flex justify-between mt-1 text-[10px] text-zinc-500 dark:text-zinc-400",children:[c.jsx("span",{children:"Most Relaxed"}),c.jsx("span",{children:"Most Aggressive"})]}),c.jsxs("div",{className:"flex justify-between mt-0.5 text-[9px] text-zinc-400 dark:text-zinc-500",children:[c.jsx("span",{children:"1"}),c.jsx("span",{children:"2"}),c.jsx("span",{children:"3"}),c.jsx("span",{children:"4"}),c.jsx("span",{children:"5"})]})]}),c.jsxs("div",{className:"p-3 rounded-md bg-blue-50 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-800",children:[c.jsxs("div",{className:"text-sm font-medium text-blue-900 dark:text-blue-100 mb-1",children:["Level ",_e,": ",Jh(_e).name]}),c.jsx("div",{className:"text-xs text-blue-700 dark:text-blue-300",children:Jh(_e).description}),c.jsxs("div",{className:"text-[10px] text-blue-600 dark:text-blue-400 mt-1",children:["Threshold: ",Jh(_e).threshold]})]})]})]})}),w==="exclusions"&&c.jsxs("div",{className:"space-y-3",children:[c.jsx("div",{className:"text-xs text-zinc-600 dark:text-zinc-400 mb-2",children:"Uncheck file extensions you want to exclude from face detection. By default, only common photo formats are processed."}),c.jsx("div",{className:"max-h-[60vh] overflow-y-auto grid grid-cols-2 gap-x-2 gap-y-1.5",children:[{label:"JPG",ext:"jpg"},{label:"JPEG",ext:"jpeg"},{label:"PNG",ext:"png"},{label:"GIF",ext:"gif"},{label:"BMP",ext:"bmp"},{label:"WebP",ext:"webp"},{label:"TIFF",ext:"tiff"},{label:"TIF",ext:"tif"},{label:"HEIC",ext:"heic"},{label:"HEIF",ext:"heif"},{label:"RAW",ext:"raw"},{label:"CR2 (Canon)",ext:"cr2"},{label:"NEF (Nikon)",ext:"nef"},{label:"ORF (Olympus)",ext:"orf"},{label:"SR2 (Sony)",ext:"sr2"},{label:"ARW (Sony)",ext:"arw"},{label:"DNG",ext:"dng"},{label:"RW2 (Panasonic)",ext:"rw2"},{label:"RAF (Fuji)",ext:"raf"},{label:"PEF (Pentax)",ext:"pef"},{label:"SRW (Samsung)",ext:"srw"},{label:"3FR (Hasselblad)",ext:"3fr"},{label:"X3F (Sigma)",ext:"x3f"},{label:"MRW (Minolta)",ext:"mrw"},{label:"MEF (Mamiya)",ext:"mef"},{label:"MOS (Leaf)",ext:"mos"},{label:"ERF (Epson)",ext:"erf"},{label:"DCR (Kodak)",ext:"dcr"},{label:"KDC (Kodak)",ext:"kdc"},{label:"FFF (Hasselblad)",ext:"fff"},{label:"IIQ (Phase One)",ext:"iiq"},{label:"RWL (Leica)",ext:"rwl"},{label:"R3D (Red)",ext:"r3d"},{label:"ARI (ARRIRAW)",ext:"ari"},{label:"BAY (Casio)",ext:"bay"},{label:"CAP (Phase One)",ext:"cap"},{label:"DATA (Phase One)",ext:"data"},{label:"DCS (Kodak)",ext:"dcs"},{label:"DRF (Kodak)",ext:"drf"},{label:"EIP (Phase One)",ext:"eip"},{label:"K25 (Kodak)",ext:"k25"},{label:"MDC (Minolta)",ext:"mdc"},{label:"NRW (Nikon)",ext:"nrw"},{label:"OBM (Phase One)",ext:"obm"},{label:"PTX (Pentax)",ext:"ptx"},{label:"PXN (Logitech)",ext:"pxn"},{label:"RWZ (Rawzor)",ext:"rwz"},{label:"SRF (Sony)",ext:"srf"},{label:"CRW (Canon)",ext:"crw"}].map(({label:ce,ext:Ve})=>{const ht=C.has(Ve);return c.jsxs("label",{className:"flex items-center gap-2 p-1.5 rounded hover:bg-zinc-50 dark:hover:bg-zinc-700/50 cursor-pointer",children:[c.jsx("input",{type:"checkbox",checked:!ht,onChange:ut=>{const _t=new Set(C);ut.target.checked?_t.delete(Ve):_t.add(Ve),M(_t)},className:"w-4 h-4 text-blue-600 border-zinc-300 rounded focus:ring-blue-500 dark:border-zinc-600 dark:bg-zinc-700"}),c.jsx("span",{className:"text-xs text-zinc-900 dark:text-zinc-100",children:ce})]},Ve)})}),c.jsxs("div",{className:"pt-2 border-t border-zinc-200 dark:border-zinc-700 text-[10px] text-zinc-500 dark:text-zinc-400",children:[49-Array.from(C).length," included, ",Array.from(C).length," excluded"]})]})]})]})]})]})}function CC({person:t,isEditing:r,editingName:a,onEditingNameChange:s,onStartEdit:o,onSave:u,onCancel:d,onDelete:f,isDragTarget:h,onDragStart:p,onDragEnd:v,onDragOver:y,onDragLeave:w,onDrop:x}){const{data:j}=yn({queryKey:["personAssets",t.id],queryFn:()=>it.getPersonAssets(t.id)}),{data:_}=yn({queryKey:["personFace",t.id],queryFn:()=>it.getPersonFace(t.id),enabled:!r}),z=(j==null?void 0:j.length)||0,k=t.name||`Person ${t.id}`;return c.jsx("div",{draggable:!r,onDragStart:r?void 0:p,onDragEnd:r?void 0:v,onDragOver:r?void 0:y,onDragLeave:r?void 0:w,onDrop:r?void 0:x,className:`border rounded-lg p-4 hover:shadow-md transition-all cursor-move ${h?"border-blue-500 dark:border-blue-400 bg-blue-50 dark:bg-blue-900/20 shadow-lg scale-105":"border-zinc-200 dark:border-zinc-800"} ${r?"cursor-default":""}`,children:c.jsxs("div",{className:"flex items-start gap-3 mb-3",children:[!r&&_&&c.jsx("div",{className:"flex-shrink-0",children:z>0?c.jsx(on,{to:`/gallery?person=${t.id}`,onClick:C=>C.stopPropagation(),className:"block",title:"View photos",children:c.jsx("img",{src:pn.faceThumbUrl(_,80),alt:k,className:"w-16 h-16 rounded-full object-cover border-2 border-zinc-200 dark:border-zinc-700 hover:border-blue-500 dark:hover:border-blue-400 hover:shadow-md transition-all cursor-pointer",loading:"lazy",onError:C=>{C.target.style.display="none"}})}):c.jsx("img",{src:pn.faceThumbUrl(_,80),alt:k,className:"w-16 h-16 rounded-full object-cover border-2 border-zinc-200 dark:border-zinc-700",loading:"lazy",onError:C=>{C.target.style.display="none"}})}),c.jsx("div",{className:"flex-1 min-w-0",children:r?c.jsxs("div",{className:"flex-1",children:[c.jsx("input",{type:"text",value:a,onChange:C=>s(C.target.value),placeholder:"Enter name",className:"w-full px-2 py-1 border border-zinc-300 dark:border-zinc-700 rounded bg-white dark:bg-zinc-800 text-sm",autoFocus:!0,onKeyDown:C=>{C.key==="Enter"?u():C.key==="Escape"&&d()}}),c.jsxs("div",{className:"flex gap-2 mt-2",children:[c.jsx("button",{onClick:u,className:"px-2 py-1 text-xs bg-blue-600 text-white rounded hover:bg-blue-700",children:"Save"}),c.jsx("button",{onClick:d,className:"px-2 py-1 text-xs bg-zinc-200 dark:bg-zinc-700 rounded hover:bg-zinc-300 dark:hover:bg-zinc-600",children:"Cancel"})]})]}):c.jsx(c.Fragment,{children:c.jsxs("div",{className:"flex items-start justify-between gap-2",children:[c.jsxs(on,{to:`/gallery?person=${t.id}`,onClick:C=>C.stopPropagation(),className:"flex-1 min-w-0",title:"View gallery",children:[c.jsx("h3",{className:"font-semibold text-lg truncate hover:text-blue-600 dark:hover:text-blue-400 transition-colors",children:k}),c.jsxs("p",{className:"text-sm text-zinc-600 dark:text-zinc-400 mt-1",children:[z," ",z===1?"photo":"photos"]})]}),c.jsxs("div",{className:"flex gap-1 flex-shrink-0",children:[c.jsx("button",{onClick:C=>{C.stopPropagation(),o()},className:"p-1 text-zinc-600 dark:text-zinc-400 hover:text-blue-600 dark:hover:text-blue-400",title:"Rename person",children:c.jsx(o1,{className:"size-4"})}),c.jsx("button",{onClick:C=>{C.stopPropagation(),f()},className:"p-1 text-zinc-600 dark:text-zinc-400 hover:text-red-600 dark:hover:text-red-400",title:"Delete person",children:c.jsx(qo,{className:"size-4"})})]})]})})})]})})}function AC({asset:t,currentIndex:r,total:a,onNavigate:s,onClose:o,onDelete:u,videoState:d,onVideoStateChange:f}){var je;if(!t)return console.error("Lightbox: asset is required"),null;const h=a!=null?a:1;if(h<=0)return console.error("Lightbox: total asset count is zero"),null;if(r<0||r>=h)return console.error(`Lightbox: currentIndex ${r} is out of bounds for total ${h}`),null;const[p,v]=b.useState(1),[y,w]=b.useState({x:0,y:0}),[x,j]=b.useState(0),[_,z]=b.useState(!1),[k,C]=b.useState({x:0,y:0}),[M,A]=b.useState(!0),[O,Q]=b.useState(!1),[B,Z]=b.useState(1),P=b.useRef(null),D=b.useRef(null),G=b.useRef(null),T=b.useRef(null),U=b.useRef(null),S=ti(t.mime);b.useEffect(()=>{v(1),w({x:0,y:0}),j(0),A(!0),Q(!1),Z(1),T.current&&(clearTimeout(T.current),T.current=null),U.current&&(clearTimeout(U.current),U.current=null)},[t.id]),b.useEffect(()=>(T.current&&(clearTimeout(T.current),T.current=null),U.current&&(clearTimeout(U.current),U.current=null),x!==0&&!S?(Q(!0),Z(1),T.current=setTimeout(()=>{Z(0),U.current=setTimeout(()=>{Q(!1),Z(1),U.current=null},2e3),T.current=null},3e3)):(Q(!1),Z(1)),()=>{T.current&&(clearTimeout(T.current),T.current=null),U.current&&(clearTimeout(U.current),U.current=null)}),[x,S]),b.useEffect(()=>{const de=()=>{if(S&&D.current){if(D.current.readyState>=2){A(!1);return}D.current.src&&D.current.src.includes(String(t.id))&&setTimeout(()=>{D.current&&D.current.readyState>=2&&A(!1)},50)}else if(!S&&P.current){if(P.current.complete&&P.current.naturalWidth>0){A(!1);return}P.current.src&&P.current.src.includes(String(t.id))&&P.current.complete&&A(!1)}};requestAnimationFrame(de);const Oe=setTimeout(de,50);return()=>clearTimeout(Oe)},[t.id,S]),b.useEffect(()=>{const de=Oe=>{Oe.target instanceof HTMLInputElement||Oe.target instanceof HTMLTextAreaElement||(Oe.key==="Escape"?o():Oe.key==="Delete"||Oe.key==="Backspace"?u&&(Oe.preventDefault(),u(t.id)):Oe.key==="ArrowLeft"&&r>0?(Oe.preventDefault(),s(r-1)):Oe.key==="ArrowRight"&&r<h-1?(Oe.preventDefault(),s(r+1)):Oe.key==="+"||Oe.key==="="?v(Ue=>Math.min(Ue+.25,5)):Oe.key==="-"?v(Ue=>Math.max(Ue-.25,.5)):Oe.key==="0"?(v(1),w({x:0,y:0})):(Oe.key==="f"||Oe.key==="F")&&(Oe.preventDefault(),o()))};return window.addEventListener("keydown",de),()=>window.removeEventListener("keydown",de)},[r,h,o,s,u,t.id]),b.useEffect(()=>{const de=Ue=>{if(Ue.ctrlKey||Ue.metaKey){Ue.preventDefault();const _e=Ue.deltaY>0?-.1:.1;v(ze=>Math.max(.5,Math.min(5,ze+_e)))}},Oe=G.current;if(Oe)return Oe.addEventListener("wheel",de,{passive:!1}),()=>Oe.removeEventListener("wheel",de)},[]);const W=de=>{p>1&&(z(!0),C({x:de.clientX-y.x,y:de.clientY-y.y}))},K=de=>{_&&p>1&&w({x:de.clientX-k.x,y:de.clientY-k.y})},I=()=>{z(!1)},se=b.useRef(null),J=b.useRef(null),be=de=>{if(de.touches.length===1)se.current={x:de.touches[0].clientX,y:de.touches[0].clientY,time:Date.now()};else if(de.touches.length===2){const Oe=de.touches[0].clientX-de.touches[1].clientX,Ue=de.touches[0].clientY-de.touches[1].clientY;J.current=Math.sqrt(Oe*Oe+Ue*Ue)}},R=de=>{if(de.touches.length===2&&J.current){const Oe=de.touches[0].clientX-de.touches[1].clientX,Ue=de.touches[0].clientY-de.touches[1].clientY,_e=Math.sqrt(Oe*Oe+Ue*Ue),ze=_e/J.current;v(E=>Math.max(.5,Math.min(5,E*ze))),J.current=_e}},F=de=>{if(de.changedTouches.length===1&&se.current){const Oe=de.changedTouches[0],Ue=Oe.clientX-se.current.x,_e=Oe.clientY-se.current.y,ze=Date.now()-se.current.time,E=Math.sqrt(Ue*Ue+_e*_e);ze<300&&E>50&&Math.abs(Ue)>Math.abs(_e)&&(Ue>0&&r>0?s(r-1):Ue<0&&r<h-1&&s(r+1))}se.current=null,J.current=null},ee=r>0,ie=r<h-1,ue=async()=>{try{await xn.saveOrientation(t.id,x),Q(!1),Z(1),T.current&&(clearTimeout(T.current),T.current=null),U.current&&(clearTimeout(U.current),U.current=null)}catch(de){console.error("Failed to save orientation:",de),alert(de instanceof Error?de.message:"Failed to save orientation to disk")}};let Me,re;try{Me=pn.previewUrl(t.id,t.sha256),re=pn.videoUrl(t.id)}catch(de){return console.error("Lightbox: Error generating media URLs",de,t),c.jsx("div",{className:"fixed inset-0 z-50 bg-black/95 backdrop-blur-sm flex items-center justify-center",children:c.jsxs("div",{className:"text-white text-center",children:[c.jsx("p",{className:"text-lg mb-2",children:"Error loading media"}),c.jsxs("p",{className:"text-sm opacity-75 mb-4",children:["Failed to generate URL for asset ",t.id]}),c.jsx("button",{onClick:o,className:"px-4 py-2 rounded-md bg-white/10 hover:bg-white/20 text-white transition-colors",children:"Close"})]})})}return c.jsxs("div",{className:"fixed inset-0 z-50 bg-black/95 backdrop-blur-sm flex items-center justify-center",onClick:de=>de.target===de.currentTarget&&o(),ref:G,children:[c.jsx("button",{onClick:o,className:"absolute top-4 right-4 z-10 p-2 rounded-full bg-black/50 hover:bg-black/70 text-white transition-colors","aria-label":"Close",children:c.jsx(xa,{className:"w-6 h-6"})}),ee&&c.jsx("button",{onClick:()=>s(r-1),className:"absolute left-4 top-1/2 -translate-y-1/2 z-10 p-3 rounded-full bg-black/50 hover:bg-black/70 text-white transition-colors","aria-label":"Previous",children:c.jsx(a0,{className:"w-6 h-6"})}),ie&&c.jsx("button",{onClick:()=>s(r+1),className:"absolute right-4 top-1/2 -translate-y-1/2 z-10 p-3 rounded-full bg-black/50 hover:bg-black/70 text-white transition-colors","aria-label":"Next",children:c.jsx(fl,{className:"w-6 h-6"})}),c.jsxs("div",{className:"absolute top-4 left-4 z-10 flex items-center gap-2 p-2 rounded-lg bg-black/50 backdrop-blur-sm",children:[c.jsx("button",{onClick:()=>v(de=>Math.max(.5,de-.25)),className:"p-1.5 rounded hover:bg-white/10 text-white transition-colors","aria-label":"Zoom out",disabled:p<=.5,children:c.jsx(Ez,{className:"w-5 h-5"})}),c.jsxs("span",{className:"text-white text-sm min-w-[3rem] text-center",children:[Math.round(p*100),"%"]}),c.jsx("button",{onClick:()=>v(de=>Math.min(5,de+.25)),className:"p-1.5 rounded hover:bg-white/10 text-white transition-colors","aria-label":"Zoom in",disabled:p>=5,children:c.jsx(Nz,{className:"w-5 h-5"})}),p!==1&&c.jsx("button",{onClick:()=>{v(1),w({x:0,y:0})},className:"p-1.5 rounded hover:bg-white/10 text-white transition-colors ml-2","aria-label":"Reset zoom",children:c.jsx(i1,{className:"w-5 h-5"})}),!S&&c.jsxs(c.Fragment,{children:[c.jsx("div",{className:"h-6 w-px bg-white/30 mx-1"}),c.jsx("button",{onClick:()=>j(de=>(de-90)%360),className:"p-1.5 rounded hover:bg-white/10 text-white transition-colors","aria-label":"Rotate left",title:"Rotate left (90)",children:c.jsx($v,{className:"w-5 h-5",style:{transform:"scaleX(-1)"}})}),c.jsx("button",{onClick:()=>j(de=>(de+90)%360),className:"p-1.5 rounded hover:bg-white/10 text-white transition-colors","aria-label":"Rotate right",title:"Rotate right (90)",children:c.jsx($v,{className:"w-5 h-5"})}),x!==0&&c.jsx("button",{onClick:()=>j(0),className:"p-1.5 rounded hover:bg-white/10 text-white transition-colors ml-2","aria-label":"Reset rotation",title:"Reset rotation",children:c.jsx("span",{className:"text-xs",children:"0"})}),O&&c.jsx("div",{className:"ml-2",children:c.jsx("button",{onClick:ue,className:"px-2 py-1 text-xs text-white border border-white/50 rounded hover:border-white/80 transition-opacity",style:{opacity:B,transitionDuration:"2000ms"},"aria-label":"Save orientation to disk",children:"Save to disk"})})]})]}),c.jsxs("div",{className:"absolute bottom-4 left-1/2 -translate-x-1/2 z-10 px-4 py-2 rounded-full bg-black/50 backdrop-blur-sm text-white text-sm",children:[r+1," / ",h]}),c.jsxs("div",{className:"relative w-full h-full flex items-center justify-center overflow-hidden",onMouseDown:W,onMouseMove:K,onMouseUp:I,onMouseLeave:I,onTouchStart:be,onTouchMove:R,onTouchEnd:F,style:{cursor:p>1?_?"grabbing":"grab":"default"},children:[S?c.jsx("video",{ref:D,src:re,type:(()=>{const de=t.mime||"video/mp4";return de==="video/x-msvideo"||de==="video/avi"||de==="video/x-ms-wmv"||de==="video/quicktime"||de==="video/x-matroska"||de==="video/x-flv"?"video/mp4":de})(),controls:!0,autoPlay:(je=d==null?void 0:d.isPlaying)!=null?je:!1,crossOrigin:"anonymous",className:"max-w-full max-h-full object-contain",onError:de=>{const Oe=de.currentTarget,Ue=Oe.error;Ue?console.error("Lightbox: Failed to load video",{assetId:t.id,code:Ue.code,message:Ue.message,networkState:Oe.networkState,readyState:Oe.readyState,src:Oe.src,mime:t.mime}):console.error("Lightbox: Failed to load video",t.id,de),A(!1)},onLoadedData:()=>{A(!1),D.current&&d&&(D.current.currentTime=d.currentTime,d.isPlaying&&D.current.play().catch(()=>{}))},onCanPlay:()=>{A(!1),D.current&&d&&D.current.currentTime===0&&(D.current.currentTime=d.currentTime,d.isPlaying&&D.current.play().catch(()=>{}))},onLoadedMetadata:()=>{A(!1),D.current&&d&&(D.current.currentTime=d.currentTime,d.isPlaying&&D.current.play().catch(()=>{}))},onTimeUpdate:()=>{D.current&&f&&f({currentTime:D.current.currentTime,isPlaying:!D.current.paused})},onPlay:()=>{D.current&&f&&f({currentTime:D.current.currentTime,isPlaying:!0})},onPause:()=>{D.current&&f&&f({currentTime:D.current.currentTime,isPlaying:!1})}}):c.jsx("img",{ref:P,src:Me,alt:t.filename||"Image",className:"max-w-full max-h-full object-contain select-none",style:{transform:`translate(${y.x}px, ${y.y}px) scale(${p}) rotate(${x}deg)`,transition:_?"none":"transform 0.2s ease-out"},onLoad:()=>A(!1),onError:de=>{console.error("Lightbox: Failed to load image",t.id,de),A(!1)},draggable:!1}),M&&c.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:c.jsx("div",{className:"w-12 h-12 border-4 border-white/20 border-t-white rounded-full animate-spin"})})]})]})}class TC extends b.Component{constructor(r){super(r),this.state={hasError:!1,error:null}}static getDerivedStateFromError(r){return{hasError:!0,error:r}}componentDidCatch(r,a){console.error("ErrorBoundary caught an error:",r,a)}render(){var r;return this.state.hasError?this.props.fallback?this.props.fallback:c.jsx("div",{className:"fixed inset-0 z-50 bg-black/95 backdrop-blur-sm flex items-center justify-center",children:c.jsxs("div",{className:"text-white text-center",children:[c.jsx("p",{className:"text-lg mb-2",children:"Something went wrong"}),c.jsx("p",{className:"text-sm opacity-75 mb-4",children:((r=this.state.error)==null?void 0:r.message)||"An unexpected error occurred"}),c.jsx("button",{onClick:()=>this.setState({hasError:!1,error:null}),className:"px-4 py-2 rounded-md bg-white/10 hover:bg-white/20 text-white transition-colors",children:"Try Again"})]})}):this.props.children}}function xu({title:t,children:r,defaultOpen:a=!1}){const[s,o]=b.useState(a);return c.jsxs("div",{className:"border-b border-zinc-200 dark:border-zinc-700 last:border-b-0",children:[c.jsxs("button",{onClick:()=>o(!s),className:"w-full flex items-center justify-between p-2 sm:p-3 hover:bg-zinc-50 dark:hover:bg-zinc-800 transition-colors",children:[c.jsx("span",{className:"font-medium text-xs sm:text-sm",children:t}),s?c.jsx(s1,{className:"w-5 h-5 text-zinc-500"}):c.jsx(jo,{className:"w-5 h-5 text-zinc-500"})]}),s&&c.jsx("div",{className:"px-2 sm:px-3 pb-2 sm:pb-3 space-y-1.5 sm:space-y-2",children:r})]})}function nn({label:t,value:r}){return c.jsxs("div",{className:"grid grid-cols-2 gap-x-2 sm:gap-x-4 gap-y-1 text-xs sm:text-sm",children:[c.jsx("div",{className:"opacity-70 truncate",children:t}),c.jsx("div",{className:"truncate",title:typeof r=="string"?r:void 0,children:r||c.jsx("span",{className:"opacity-50",children:""})})]})}function MC(t,r=1){if(!+t)return"0 B";const a=1024,s=r<0?0:r,o=["B","KB","MB","GB","TB"],u=Math.floor(Math.log(t)/Math.log(a));return`${parseFloat((t/Math.pow(a,u)).toFixed(s))} ${o[u]}`}function em(t){return new Date(t*1e3).toLocaleString()}function RC(t){return t<1?`1/${Math.round(1/t)}s`:`${t.toFixed(1)}s`}function OC({asset:t}){const r=()=>{navigator.clipboard.writeText(t.path)},a=async()=>{try{await xn.download(t.id)}catch(s){console.error("Download failed:",s),alert(`Download failed: ${s instanceof Error?s.message:"Unknown error"}`)}};return c.jsxs("div",{className:"rounded-md border border-zinc-200 dark:border-zinc-800 bg-white dark:bg-zinc-900 divide-y divide-zinc-200 dark:divide-zinc-700",children:[c.jsxs("div",{className:"p-2 sm:p-3 flex gap-1.5 sm:gap-2",children:[c.jsxs("button",{onClick:r,className:"flex-1 px-2 sm:px-3 py-1.5 sm:py-2 rounded-md border border-zinc-300 dark:border-zinc-700 hover:bg-zinc-50 dark:hover:bg-zinc-800 text-xs sm:text-sm transition-colors flex items-center justify-center gap-1.5 sm:gap-2",title:"Copy file path",children:[c.jsx(mz,{className:"w-3.5 sm:w-4 h-3.5 sm:h-4"}),c.jsx("span",{className:"hidden sm:inline",children:"Copy Path"}),c.jsx("span",{className:"sm:hidden",children:"Copy"})]}),c.jsxs("button",{onClick:a,className:"flex-1 px-2 sm:px-3 py-1.5 sm:py-2 rounded-md bg-blue-600 hover:bg-blue-700 text-white text-xs sm:text-sm transition-colors flex items-center justify-center gap-1.5 sm:gap-2",children:[c.jsx(r1,{className:"w-3.5 sm:w-4 h-3.5 sm:h-4"}),c.jsx("span",{className:"hidden sm:inline",children:"Download"}),c.jsx("span",{className:"sm:hidden",children:"DL"})]})]}),c.jsxs(xu,{title:"File Information",defaultOpen:!0,children:[c.jsx(nn,{label:"Filename",value:t.filename}),c.jsx(nn,{label:"Path",value:c.jsx("span",{className:"font-mono text-xs",children:t.path})}),c.jsx(nn,{label:"Type",value:t.mime}),c.jsx(nn,{label:"Size",value:MC(t.size_bytes)}),t.width&&t.height&&c.jsx(nn,{label:"Dimensions",value:`${t.width}  ${t.height} pixels`}),c.jsx(nn,{label:"Modified",value:em(t.mtime_ns/1e9)}),c.jsx(nn,{label:"Created",value:em(t.ctime_ns/1e9)}),t.taken_at&&c.jsx(nn,{label:"Date Taken",value:em(t.taken_at)}),t.duration_ms&&c.jsx(nn,{label:"Duration",value:`${Math.floor(t.duration_ms/1e3/60)}:${String(Math.floor(t.duration_ms/1e3%60)).padStart(2,"0")}`})]}),(t.camera_make||t.camera_model||t.lens_model)&&c.jsxs(xu,{title:"Camera & Lens",children:[t.camera_make&&c.jsx(nn,{label:"Camera Make",value:t.camera_make}),t.camera_model&&c.jsx(nn,{label:"Camera Model",value:t.camera_model}),t.lens_model&&c.jsx(nn,{label:"Lens",value:t.lens_model})]}),(t.iso||t.fnumber||t.exposure)&&c.jsxs(xu,{title:"Exposure Settings",children:[t.iso&&c.jsx(nn,{label:"ISO",value:t.iso}),t.fnumber&&c.jsx(nn,{label:"Aperture",value:`f/${t.fnumber}`}),t.exposure&&c.jsx(nn,{label:"Shutter Speed",value:RC(t.exposure)})]}),c.jsxs(xu,{title:"Technical Details",children:[c.jsx(nn,{label:"File Extension",value:t.ext}),c.jsx(nn,{label:"Directory",value:t.dirname}),t.sha256&&c.jsx(nn,{label:"SHA256",value:c.jsx("span",{className:"font-mono text-xs break-all",children:t.sha256})}),t.xxh64&&c.jsx(nn,{label:"XXH64",value:t.xxh64.toString()}),c.jsx(nn,{label:"Flags",value:t.flags.toString()})]})]})}function DC({asset:t,className:r="",onFullscreen:a,onStateChange:s,savedState:o,videoRef:u}){const d=b.useRef(null),f=u||d,h=b.useRef(null),[p,v]=b.useState(!1),[y,w]=b.useState(!1),[x,j]=b.useState(0),[_,z]=b.useState(0),[k,C]=b.useState(1),[M,A]=b.useState(!1),[O,Q]=b.useState(!0),[B,Z]=b.useState(!0),[P,D]=b.useState(null),[G,T]=b.useState(null),U=b.useRef(void 0),S=Qe(re=>re.playbackSpeed),W=Qe(re=>re.setPlaybackSpeed);b.useEffect(()=>{const re=()=>{if(h.current){const je=h.current.getBoundingClientRect();T({width:je.width,height:je.height})}};return re(),window.addEventListener("resize",re),()=>window.removeEventListener("resize",re)},[]),b.useEffect(()=>{const re=f.current;if(!re)return;const je=()=>{const te=re.currentTime;j(te),s&&s({currentTime:te,isPlaying:!re.paused})},de=()=>{w(!0),s&&s({currentTime:re.currentTime,isPlaying:!0})},Oe=()=>{w(!1),s&&s({currentTime:re.currentTime,isPlaying:!1})},Ue=()=>{w(!1),s&&s({currentTime:re.currentTime,isPlaying:!1})},_e=()=>{z(re.duration),D({width:re.videoWidth,height:re.videoHeight}),Z(!1)},ze=()=>{Z(!1)},E=()=>{Z(!0)},ae=()=>{Z(!1)};return re.addEventListener("timeupdate",je),re.addEventListener("loadedmetadata",_e),re.addEventListener("canplay",ze),re.addEventListener("loadstart",E),re.addEventListener("play",de),re.addEventListener("pause",Oe),re.addEventListener("ended",Ue),re.addEventListener("error",ae),re.readyState>=2&&(Z(!1),D({width:re.videoWidth,height:re.videoHeight})),re.playbackRate=S,()=>{re.removeEventListener("timeupdate",je),re.removeEventListener("loadedmetadata",_e),re.removeEventListener("canplay",ze),re.removeEventListener("loadstart",E),re.removeEventListener("play",de),re.removeEventListener("pause",Oe),re.removeEventListener("ended",Ue),re.removeEventListener("error",ae)}},[t.id,S]),b.useEffect(()=>{const re=f.current;re&&(re.playbackRate=S)},[S,f]),b.useEffect(()=>{const re=()=>{v(!!document.fullscreenElement)};return document.addEventListener("fullscreenchange",re),()=>document.removeEventListener("fullscreenchange",re)},[]),b.useEffect(()=>{const re=f.current;!re||!o||o.currentTime>.5&&re.currentTime<.5&&re.readyState>=2&&(re.currentTime=o.currentTime,o.isPlaying&&re.play().catch(()=>{}))},[o]);const K=async()=>{const re=h.current;if(re)try{document.fullscreenElement?await document.exitFullscreen():await re.requestFullscreen()}catch(je){console.error("Fullscreen error:",je),a&&a()}},I=async()=>{const re=f.current;if(re)if(re.paused)try{await re.play()}catch(je){console.error("Error playing video:",je)}else re.pause()},se=re=>{const je=f.current;if(!je)return;const de=parseFloat(re.target.value);je.currentTime=de,j(de)},J=re=>{const je=f.current;if(!je)return;const de=parseFloat(re.target.value);C(de),je.volume=de,A(de===0)},be=()=>{const re=f.current;re&&(M?(re.volume=k||.5,A(!1)):(re.volume=0,A(!0)))},R=re=>{if(!isFinite(re))return"0:00";const je=Math.floor(re/60),de=Math.floor(re%60);return`${je}:${String(de).padStart(2,"0")}`},F=re=>re===1?"1x":re%1===0?`${re}x`:`${re.toFixed(1)}x`,ee=re=>{const je=parseFloat(re.target.value);W(je)},ie=()=>{Q(!0),U.current&&clearTimeout(U.current),U.current=setTimeout(()=>{y&&Q(!1)},3e3)},ue=()=>{y&&Q(!1)},Me=()=>{if(!P||!G)return{width:"100%",height:"auto",objectFit:"contain"};const re=P.width/P.height;G.width/G.height,P.height>P.width;const je=Math.min(G.height,window.innerHeight*.8);let Oe=G.width,Ue=Oe/re;return Ue>je&&(Ue=je,Oe=Ue*re),{width:`${Oe}px`,height:`${Ue}px`,maxWidth:"100%",maxHeight:`${je}px`,objectFit:"contain"}};return c.jsxs("div",{ref:h,className:`relative bg-black ${p?"":"rounded-md overflow-hidden"} flex items-center justify-center ${r}`,onMouseMove:ie,onMouseLeave:ue,style:p?{width:"100vw",height:"100vh"}:{minHeight:"400px",maxHeight:"80vh",width:"100%",height:"auto"},children:[B&&c.jsx("div",{className:"absolute inset-0 flex items-center justify-center text-white text-lg z-20",children:"Loading..."}),c.jsx("video",{ref:f,src:pn.videoUrl(t.id),type:(()=>{const re=t.mime||"video/mp4";return re==="video/x-msvideo"||re==="video/avi"||re==="video/x-ms-wmv"||re==="video/quicktime"||re==="video/x-matroska"||re==="video/x-flv"?"video/mp4":re})(),style:p?{width:"100vw",height:"100vh",objectFit:"contain"}:Me(),onClick:re=>{re.stopPropagation(),I()},controls:!1,preload:"metadata",crossOrigin:"anonymous",className:`${B?"opacity-0":"opacity-100 transition-opacity duration-300"} cursor-pointer`,onError:re=>{const je=re.currentTarget,de=je.error;de?console.error("Video playback error:",{code:de.code,message:de.message,networkState:je.networkState,readyState:je.readyState,src:je.src,mime:t.mime}):console.error("Video playback error (no error object):",re),Z(!1)},onLoadStart:()=>{console.log("Video load started:",pn.videoUrl(t.id),"MIME:",t.mime)},onCanPlay:()=>{console.log("Video can play:",pn.videoUrl(t.id))}}),c.jsxs("div",{className:`absolute inset-0 bg-gradient-to-t from-black/80 via-transparent to-transparent transition-opacity duration-300 ${O?"opacity-100":"opacity-0"} pointer-events-none`,children:[!B&&c.jsx("div",{className:"absolute inset-0 flex items-center justify-center pointer-events-none",children:c.jsx("button",{onClick:re=>{re.stopPropagation(),I()},className:"p-4 rounded-full bg-black/50 hover:bg-black/70 text-white transition-colors backdrop-blur-sm pointer-events-auto","aria-label":y?"Pause":"Play",children:y?c.jsx(rC,{className:"w-12 h-12"}):c.jsx(v2,{className:"w-12 h-12"})})}),c.jsxs("div",{className:"absolute bottom-0 left-0 right-0 p-4 space-y-2 pointer-events-none",children:[c.jsxs("div",{className:"flex items-center gap-2 pointer-events-auto",children:[c.jsx("span",{className:"text-white text-xs tabular-nums min-w-[3rem]",children:R(x)}),c.jsx("input",{type:"range",min:"0",max:_||0,value:x,onChange:se,className:"flex-1 h-1 bg-white/20 rounded-lg appearance-none cursor-pointer accent-blue-600",style:{background:`linear-gradient(to right, #3b82f6 0%, #3b82f6 ${x/_*100}%, rgba(255,255,255,0.2) ${x/_*100}%, rgba(255,255,255,0.2) 100%)`}}),c.jsx("span",{className:"text-white text-xs tabular-nums min-w-[3rem]",children:R(_)})]}),c.jsxs("div",{className:"flex items-center gap-2 pointer-events-auto",children:[c.jsx("button",{onClick:be,className:"p-1.5 rounded hover:bg-white/10 text-white transition-colors","aria-label":M?"Unmute":"Mute",children:M?c.jsx(oC,{className:"w-5 h-5"}):c.jsx(sC,{className:"w-5 h-5"})}),c.jsx("input",{type:"range",min:"0",max:"1",step:"0.01",value:M?0:k,onChange:J,className:"w-20 h-1 bg-white/20 rounded-lg appearance-none cursor-pointer accent-blue-600"}),c.jsx("input",{type:"range",min:"1",max:"4",step:"0.25",value:S,onChange:ee,className:"w-20 h-1 bg-white/20 rounded-lg appearance-none cursor-pointer accent-blue-600"}),c.jsx("span",{className:"text-white text-xs min-w-[2.5rem]",children:F(S)}),c.jsxs("div",{className:"ml-auto flex items-center gap-2",children:[c.jsx("div",{className:"text-white text-xs",children:t.filename}),c.jsx("button",{onClick:K,className:"p-1.5 rounded hover:bg-white/10 text-white transition-colors","aria-label":p?"Exit Fullscreen":"Fullscreen",title:p?"Exit Fullscreen":"Fullscreen",children:c.jsx(J6,{className:"w-5 h-5"})})]})]})]})]})]})}function wu(t){throw new Error('Could not dynamically require "'+t+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var tm={exports:{}};var nx;function LC(){return nx||(nx=1,(function(t,r){(function(a){t.exports=a()})(function(){return(function a(s,o,u){function d(p,v){if(!o[p]){if(!s[p]){var y=typeof wu=="function"&&wu;if(!v&&y)return y(p,!0);if(f)return f(p,!0);var w=new Error("Cannot find module '"+p+"'");throw w.code="MODULE_NOT_FOUND",w}var x=o[p]={exports:{}};s[p][0].call(x.exports,function(j){var _=s[p][1][j];return d(_||j)},x,x.exports,a,s,o,u)}return o[p].exports}for(var f=typeof wu=="function"&&wu,h=0;h<u.length;h++)d(u[h]);return d})({1:[function(a,s,o){var u=a("./utils"),d=a("./support"),f="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";o.encode=function(h){for(var p,v,y,w,x,j,_,z=[],k=0,C=h.length,M=C,A=u.getTypeOf(h)!=="string";k<h.length;)M=C-k,y=A?(p=h[k++],v=k<C?h[k++]:0,k<C?h[k++]:0):(p=h.charCodeAt(k++),v=k<C?h.charCodeAt(k++):0,k<C?h.charCodeAt(k++):0),w=p>>2,x=(3&p)<<4|v>>4,j=1<M?(15&v)<<2|y>>6:64,_=2<M?63&y:64,z.push(f.charAt(w)+f.charAt(x)+f.charAt(j)+f.charAt(_));return z.join("")},o.decode=function(h){var p,v,y,w,x,j,_=0,z=0,k="data:";if(h.substr(0,k.length)===k)throw new Error("Invalid base64 input, it looks like a data url.");var C,M=3*(h=h.replace(/[^A-Za-z0-9+/=]/g,"")).length/4;if(h.charAt(h.length-1)===f.charAt(64)&&M--,h.charAt(h.length-2)===f.charAt(64)&&M--,M%1!=0)throw new Error("Invalid base64 input, bad content length.");for(C=d.uint8array?new Uint8Array(0|M):new Array(0|M);_<h.length;)p=f.indexOf(h.charAt(_++))<<2|(w=f.indexOf(h.charAt(_++)))>>4,v=(15&w)<<4|(x=f.indexOf(h.charAt(_++)))>>2,y=(3&x)<<6|(j=f.indexOf(h.charAt(_++))),C[z++]=p,x!==64&&(C[z++]=v),j!==64&&(C[z++]=y);return C}},{"./support":30,"./utils":32}],2:[function(a,s,o){var u=a("./external"),d=a("./stream/DataWorker"),f=a("./stream/Crc32Probe"),h=a("./stream/DataLengthProbe");function p(v,y,w,x,j){this.compressedSize=v,this.uncompressedSize=y,this.crc32=w,this.compression=x,this.compressedContent=j}p.prototype={getContentWorker:function(){var v=new d(u.Promise.resolve(this.compressedContent)).pipe(this.compression.uncompressWorker()).pipe(new h("data_length")),y=this;return v.on("end",function(){if(this.streamInfo.data_length!==y.uncompressedSize)throw new Error("Bug : uncompressed data size mismatch")}),v},getCompressedWorker:function(){return new d(u.Promise.resolve(this.compressedContent)).withStreamInfo("compressedSize",this.compressedSize).withStreamInfo("uncompressedSize",this.uncompressedSize).withStreamInfo("crc32",this.crc32).withStreamInfo("compression",this.compression)}},p.createWorkerFrom=function(v,y,w){return v.pipe(new f).pipe(new h("uncompressedSize")).pipe(y.compressWorker(w)).pipe(new h("compressedSize")).withStreamInfo("compression",y)},s.exports=p},{"./external":6,"./stream/Crc32Probe":25,"./stream/DataLengthProbe":26,"./stream/DataWorker":27}],3:[function(a,s,o){var u=a("./stream/GenericWorker");o.STORE={magic:"\0\0",compressWorker:function(){return new u("STORE compression")},uncompressWorker:function(){return new u("STORE decompression")}},o.DEFLATE=a("./flate")},{"./flate":7,"./stream/GenericWorker":28}],4:[function(a,s,o){var u=a("./utils"),d=(function(){for(var f,h=[],p=0;p<256;p++){f=p;for(var v=0;v<8;v++)f=1&f?3988292384^f>>>1:f>>>1;h[p]=f}return h})();s.exports=function(f,h){return f!==void 0&&f.length?u.getTypeOf(f)!=="string"?(function(p,v,y,w){var x=d,j=w+y;p^=-1;for(var _=w;_<j;_++)p=p>>>8^x[255&(p^v[_])];return-1^p})(0|h,f,f.length,0):(function(p,v,y,w){var x=d,j=w+y;p^=-1;for(var _=w;_<j;_++)p=p>>>8^x[255&(p^v.charCodeAt(_))];return-1^p})(0|h,f,f.length,0):0}},{"./utils":32}],5:[function(a,s,o){o.base64=!1,o.binary=!1,o.dir=!1,o.createFolders=!0,o.date=null,o.compression=null,o.compressionOptions=null,o.comment=null,o.unixPermissions=null,o.dosPermissions=null},{}],6:[function(a,s,o){var u=null;u=typeof Promise<"u"?Promise:a("lie"),s.exports={Promise:u}},{lie:37}],7:[function(a,s,o){var u=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Uint32Array<"u",d=a("pako"),f=a("./utils"),h=a("./stream/GenericWorker"),p=u?"uint8array":"array";function v(y,w){h.call(this,"FlateWorker/"+y),this._pako=null,this._pakoAction=y,this._pakoOptions=w,this.meta={}}o.magic="\b\0",f.inherits(v,h),v.prototype.processChunk=function(y){this.meta=y.meta,this._pako===null&&this._createPako(),this._pako.push(f.transformTo(p,y.data),!1)},v.prototype.flush=function(){h.prototype.flush.call(this),this._pako===null&&this._createPako(),this._pako.push([],!0)},v.prototype.cleanUp=function(){h.prototype.cleanUp.call(this),this._pako=null},v.prototype._createPako=function(){this._pako=new d[this._pakoAction]({raw:!0,level:this._pakoOptions.level||-1});var y=this;this._pako.onData=function(w){y.push({data:w,meta:y.meta})}},o.compressWorker=function(y){return new v("Deflate",y)},o.uncompressWorker=function(){return new v("Inflate",{})}},{"./stream/GenericWorker":28,"./utils":32,pako:38}],8:[function(a,s,o){function u(x,j){var _,z="";for(_=0;_<j;_++)z+=String.fromCharCode(255&x),x>>>=8;return z}function d(x,j,_,z,k,C){var M,A,O=x.file,Q=x.compression,B=C!==p.utf8encode,Z=f.transformTo("string",C(O.name)),P=f.transformTo("string",p.utf8encode(O.name)),D=O.comment,G=f.transformTo("string",C(D)),T=f.transformTo("string",p.utf8encode(D)),U=P.length!==O.name.length,S=T.length!==D.length,W="",K="",I="",se=O.dir,J=O.date,be={crc32:0,compressedSize:0,uncompressedSize:0};j&&!_||(be.crc32=x.crc32,be.compressedSize=x.compressedSize,be.uncompressedSize=x.uncompressedSize);var R=0;j&&(R|=8),B||!U&&!S||(R|=2048);var F=0,ee=0;se&&(F|=16),k==="UNIX"?(ee=798,F|=(function(ue,Me){var re=ue;return ue||(re=Me?16893:33204),(65535&re)<<16})(O.unixPermissions,se)):(ee=20,F|=(function(ue){return 63&(ue||0)})(O.dosPermissions)),M=J.getUTCHours(),M<<=6,M|=J.getUTCMinutes(),M<<=5,M|=J.getUTCSeconds()/2,A=J.getUTCFullYear()-1980,A<<=4,A|=J.getUTCMonth()+1,A<<=5,A|=J.getUTCDate(),U&&(K=u(1,1)+u(v(Z),4)+P,W+="up"+u(K.length,2)+K),S&&(I=u(1,1)+u(v(G),4)+T,W+="uc"+u(I.length,2)+I);var ie="";return ie+=`
\0`,ie+=u(R,2),ie+=Q.magic,ie+=u(M,2),ie+=u(A,2),ie+=u(be.crc32,4),ie+=u(be.compressedSize,4),ie+=u(be.uncompressedSize,4),ie+=u(Z.length,2),ie+=u(W.length,2),{fileRecord:y.LOCAL_FILE_HEADER+ie+Z+W,dirRecord:y.CENTRAL_FILE_HEADER+u(ee,2)+ie+u(G.length,2)+"\0\0\0\0"+u(F,4)+u(z,4)+Z+W+G}}var f=a("../utils"),h=a("../stream/GenericWorker"),p=a("../utf8"),v=a("../crc32"),y=a("../signature");function w(x,j,_,z){h.call(this,"ZipFileWorker"),this.bytesWritten=0,this.zipComment=j,this.zipPlatform=_,this.encodeFileName=z,this.streamFiles=x,this.accumulate=!1,this.contentBuffer=[],this.dirRecords=[],this.currentSourceOffset=0,this.entriesCount=0,this.currentFile=null,this._sources=[]}f.inherits(w,h),w.prototype.push=function(x){var j=x.meta.percent||0,_=this.entriesCount,z=this._sources.length;this.accumulate?this.contentBuffer.push(x):(this.bytesWritten+=x.data.length,h.prototype.push.call(this,{data:x.data,meta:{currentFile:this.currentFile,percent:_?(j+100*(_-z-1))/_:100}}))},w.prototype.openedSource=function(x){this.currentSourceOffset=this.bytesWritten,this.currentFile=x.file.name;var j=this.streamFiles&&!x.file.dir;if(j){var _=d(x,j,!1,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);this.push({data:_.fileRecord,meta:{percent:0}})}else this.accumulate=!0},w.prototype.closedSource=function(x){this.accumulate=!1;var j=this.streamFiles&&!x.file.dir,_=d(x,j,!0,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);if(this.dirRecords.push(_.dirRecord),j)this.push({data:(function(z){return y.DATA_DESCRIPTOR+u(z.crc32,4)+u(z.compressedSize,4)+u(z.uncompressedSize,4)})(x),meta:{percent:100}});else for(this.push({data:_.fileRecord,meta:{percent:0}});this.contentBuffer.length;)this.push(this.contentBuffer.shift());this.currentFile=null},w.prototype.flush=function(){for(var x=this.bytesWritten,j=0;j<this.dirRecords.length;j++)this.push({data:this.dirRecords[j],meta:{percent:100}});var _=this.bytesWritten-x,z=(function(k,C,M,A,O){var Q=f.transformTo("string",O(A));return y.CENTRAL_DIRECTORY_END+"\0\0\0\0"+u(k,2)+u(k,2)+u(C,4)+u(M,4)+u(Q.length,2)+Q})(this.dirRecords.length,_,x,this.zipComment,this.encodeFileName);this.push({data:z,meta:{percent:100}})},w.prototype.prepareNextSource=function(){this.previous=this._sources.shift(),this.openedSource(this.previous.streamInfo),this.isPaused?this.previous.pause():this.previous.resume()},w.prototype.registerPrevious=function(x){this._sources.push(x);var j=this;return x.on("data",function(_){j.processChunk(_)}),x.on("end",function(){j.closedSource(j.previous.streamInfo),j._sources.length?j.prepareNextSource():j.end()}),x.on("error",function(_){j.error(_)}),this},w.prototype.resume=function(){return!!h.prototype.resume.call(this)&&(!this.previous&&this._sources.length?(this.prepareNextSource(),!0):this.previous||this._sources.length||this.generatedError?void 0:(this.end(),!0))},w.prototype.error=function(x){var j=this._sources;if(!h.prototype.error.call(this,x))return!1;for(var _=0;_<j.length;_++)try{j[_].error(x)}catch{}return!0},w.prototype.lock=function(){h.prototype.lock.call(this);for(var x=this._sources,j=0;j<x.length;j++)x[j].lock()},s.exports=w},{"../crc32":4,"../signature":23,"../stream/GenericWorker":28,"../utf8":31,"../utils":32}],9:[function(a,s,o){var u=a("../compressions"),d=a("./ZipFileWorker");o.generateWorker=function(f,h,p){var v=new d(h.streamFiles,p,h.platform,h.encodeFileName),y=0;try{f.forEach(function(w,x){y++;var j=(function(C,M){var A=C||M,O=u[A];if(!O)throw new Error(A+" is not a valid compression method !");return O})(x.options.compression,h.compression),_=x.options.compressionOptions||h.compressionOptions||{},z=x.dir,k=x.date;x._compressWorker(j,_).withStreamInfo("file",{name:w,dir:z,date:k,comment:x.comment||"",unixPermissions:x.unixPermissions,dosPermissions:x.dosPermissions}).pipe(v)}),v.entriesCount=y}catch(w){v.error(w)}return v}},{"../compressions":3,"./ZipFileWorker":8}],10:[function(a,s,o){function u(){if(!(this instanceof u))return new u;if(arguments.length)throw new Error("The constructor with parameters has been removed in JSZip 3.0, please check the upgrade guide.");this.files=Object.create(null),this.comment=null,this.root="",this.clone=function(){var d=new u;for(var f in this)typeof this[f]!="function"&&(d[f]=this[f]);return d}}(u.prototype=a("./object")).loadAsync=a("./load"),u.support=a("./support"),u.defaults=a("./defaults"),u.version="3.10.1",u.loadAsync=function(d,f){return new u().loadAsync(d,f)},u.external=a("./external"),s.exports=u},{"./defaults":5,"./external":6,"./load":11,"./object":15,"./support":30}],11:[function(a,s,o){var u=a("./utils"),d=a("./external"),f=a("./utf8"),h=a("./zipEntries"),p=a("./stream/Crc32Probe"),v=a("./nodejsUtils");function y(w){return new d.Promise(function(x,j){var _=w.decompressed.getContentWorker().pipe(new p);_.on("error",function(z){j(z)}).on("end",function(){_.streamInfo.crc32!==w.decompressed.crc32?j(new Error("Corrupted zip : CRC32 mismatch")):x()}).resume()})}s.exports=function(w,x){var j=this;return x=u.extend(x||{},{base64:!1,checkCRC32:!1,optimizedBinaryString:!1,createFolders:!1,decodeFileName:f.utf8decode}),v.isNode&&v.isStream(w)?d.Promise.reject(new Error("JSZip can't accept a stream when loading a zip file.")):u.prepareContent("the loaded zip file",w,!0,x.optimizedBinaryString,x.base64).then(function(_){var z=new h(x);return z.load(_),z}).then(function(_){var z=[d.Promise.resolve(_)],k=_.files;if(x.checkCRC32)for(var C=0;C<k.length;C++)z.push(y(k[C]));return d.Promise.all(z)}).then(function(_){for(var z=_.shift(),k=z.files,C=0;C<k.length;C++){var M=k[C],A=M.fileNameStr,O=u.resolve(M.fileNameStr);j.file(O,M.decompressed,{binary:!0,optimizedBinaryString:!0,date:M.date,dir:M.dir,comment:M.fileCommentStr.length?M.fileCommentStr:null,unixPermissions:M.unixPermissions,dosPermissions:M.dosPermissions,createFolders:x.createFolders}),M.dir||(j.file(O).unsafeOriginalName=A)}return z.zipComment.length&&(j.comment=z.zipComment),j})}},{"./external":6,"./nodejsUtils":14,"./stream/Crc32Probe":25,"./utf8":31,"./utils":32,"./zipEntries":33}],12:[function(a,s,o){var u=a("../utils"),d=a("../stream/GenericWorker");function f(h,p){d.call(this,"Nodejs stream input adapter for "+h),this._upstreamEnded=!1,this._bindStream(p)}u.inherits(f,d),f.prototype._bindStream=function(h){var p=this;(this._stream=h).pause(),h.on("data",function(v){p.push({data:v,meta:{percent:0}})}).on("error",function(v){p.isPaused?this.generatedError=v:p.error(v)}).on("end",function(){p.isPaused?p._upstreamEnded=!0:p.end()})},f.prototype.pause=function(){return!!d.prototype.pause.call(this)&&(this._stream.pause(),!0)},f.prototype.resume=function(){return!!d.prototype.resume.call(this)&&(this._upstreamEnded?this.end():this._stream.resume(),!0)},s.exports=f},{"../stream/GenericWorker":28,"../utils":32}],13:[function(a,s,o){var u=a("readable-stream").Readable;function d(f,h,p){u.call(this,h),this._helper=f;var v=this;f.on("data",function(y,w){v.push(y)||v._helper.pause(),p&&p(w)}).on("error",function(y){v.emit("error",y)}).on("end",function(){v.push(null)})}a("../utils").inherits(d,u),d.prototype._read=function(){this._helper.resume()},s.exports=d},{"../utils":32,"readable-stream":16}],14:[function(a,s,o){s.exports={isNode:typeof Buffer<"u",newBufferFrom:function(u,d){if(Buffer.from&&Buffer.from!==Uint8Array.from)return Buffer.from(u,d);if(typeof u=="number")throw new Error('The "data" argument must not be a number');return new Buffer(u,d)},allocBuffer:function(u){if(Buffer.alloc)return Buffer.alloc(u);var d=new Buffer(u);return d.fill(0),d},isBuffer:function(u){return Buffer.isBuffer(u)},isStream:function(u){return u&&typeof u.on=="function"&&typeof u.pause=="function"&&typeof u.resume=="function"}}},{}],15:[function(a,s,o){function u(O,Q,B){var Z,P=f.getTypeOf(Q),D=f.extend(B||{},v);D.date=D.date||new Date,D.compression!==null&&(D.compression=D.compression.toUpperCase()),typeof D.unixPermissions=="string"&&(D.unixPermissions=parseInt(D.unixPermissions,8)),D.unixPermissions&&16384&D.unixPermissions&&(D.dir=!0),D.dosPermissions&&16&D.dosPermissions&&(D.dir=!0),D.dir&&(O=k(O)),D.createFolders&&(Z=z(O))&&C.call(this,Z,!0);var G=P==="string"&&D.binary===!1&&D.base64===!1;B&&B.binary!==void 0||(D.binary=!G),(Q instanceof y&&Q.uncompressedSize===0||D.dir||!Q||Q.length===0)&&(D.base64=!1,D.binary=!0,Q="",D.compression="STORE",P="string");var T=null;T=Q instanceof y||Q instanceof h?Q:j.isNode&&j.isStream(Q)?new _(O,Q):f.prepareContent(O,Q,D.binary,D.optimizedBinaryString,D.base64);var U=new w(O,T,D);this.files[O]=U}var d=a("./utf8"),f=a("./utils"),h=a("./stream/GenericWorker"),p=a("./stream/StreamHelper"),v=a("./defaults"),y=a("./compressedObject"),w=a("./zipObject"),x=a("./generate"),j=a("./nodejsUtils"),_=a("./nodejs/NodejsStreamInputAdapter"),z=function(O){O.slice(-1)==="/"&&(O=O.substring(0,O.length-1));var Q=O.lastIndexOf("/");return 0<Q?O.substring(0,Q):""},k=function(O){return O.slice(-1)!=="/"&&(O+="/"),O},C=function(O,Q){return Q=Q!==void 0?Q:v.createFolders,O=k(O),this.files[O]||u.call(this,O,null,{dir:!0,createFolders:Q}),this.files[O]};function M(O){return Object.prototype.toString.call(O)==="[object RegExp]"}var A={load:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},forEach:function(O){var Q,B,Z;for(Q in this.files)Z=this.files[Q],(B=Q.slice(this.root.length,Q.length))&&Q.slice(0,this.root.length)===this.root&&O(B,Z)},filter:function(O){var Q=[];return this.forEach(function(B,Z){O(B,Z)&&Q.push(Z)}),Q},file:function(O,Q,B){if(arguments.length!==1)return O=this.root+O,u.call(this,O,Q,B),this;if(M(O)){var Z=O;return this.filter(function(D,G){return!G.dir&&Z.test(D)})}var P=this.files[this.root+O];return P&&!P.dir?P:null},folder:function(O){if(!O)return this;if(M(O))return this.filter(function(P,D){return D.dir&&O.test(P)});var Q=this.root+O,B=C.call(this,Q),Z=this.clone();return Z.root=B.name,Z},remove:function(O){O=this.root+O;var Q=this.files[O];if(Q||(O.slice(-1)!=="/"&&(O+="/"),Q=this.files[O]),Q&&!Q.dir)delete this.files[O];else for(var B=this.filter(function(P,D){return D.name.slice(0,O.length)===O}),Z=0;Z<B.length;Z++)delete this.files[B[Z].name];return this},generate:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},generateInternalStream:function(O){var Q,B={};try{if((B=f.extend(O||{},{streamFiles:!1,compression:"STORE",compressionOptions:null,type:"",platform:"DOS",comment:null,mimeType:"application/zip",encodeFileName:d.utf8encode})).type=B.type.toLowerCase(),B.compression=B.compression.toUpperCase(),B.type==="binarystring"&&(B.type="string"),!B.type)throw new Error("No output type specified.");f.checkSupport(B.type),B.platform!=="darwin"&&B.platform!=="freebsd"&&B.platform!=="linux"&&B.platform!=="sunos"||(B.platform="UNIX"),B.platform==="win32"&&(B.platform="DOS");var Z=B.comment||this.comment||"";Q=x.generateWorker(this,B,Z)}catch(P){(Q=new h("error")).error(P)}return new p(Q,B.type||"string",B.mimeType)},generateAsync:function(O,Q){return this.generateInternalStream(O).accumulate(Q)},generateNodeStream:function(O,Q){return(O=O||{}).type||(O.type="nodebuffer"),this.generateInternalStream(O).toNodejsStream(Q)}};s.exports=A},{"./compressedObject":2,"./defaults":5,"./generate":9,"./nodejs/NodejsStreamInputAdapter":12,"./nodejsUtils":14,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31,"./utils":32,"./zipObject":35}],16:[function(a,s,o){s.exports=a("stream")},{stream:void 0}],17:[function(a,s,o){var u=a("./DataReader");function d(f){u.call(this,f);for(var h=0;h<this.data.length;h++)f[h]=255&f[h]}a("../utils").inherits(d,u),d.prototype.byteAt=function(f){return this.data[this.zero+f]},d.prototype.lastIndexOfSignature=function(f){for(var h=f.charCodeAt(0),p=f.charCodeAt(1),v=f.charCodeAt(2),y=f.charCodeAt(3),w=this.length-4;0<=w;--w)if(this.data[w]===h&&this.data[w+1]===p&&this.data[w+2]===v&&this.data[w+3]===y)return w-this.zero;return-1},d.prototype.readAndCheckSignature=function(f){var h=f.charCodeAt(0),p=f.charCodeAt(1),v=f.charCodeAt(2),y=f.charCodeAt(3),w=this.readData(4);return h===w[0]&&p===w[1]&&v===w[2]&&y===w[3]},d.prototype.readData=function(f){if(this.checkOffset(f),f===0)return[];var h=this.data.slice(this.zero+this.index,this.zero+this.index+f);return this.index+=f,h},s.exports=d},{"../utils":32,"./DataReader":18}],18:[function(a,s,o){var u=a("../utils");function d(f){this.data=f,this.length=f.length,this.index=0,this.zero=0}d.prototype={checkOffset:function(f){this.checkIndex(this.index+f)},checkIndex:function(f){if(this.length<this.zero+f||f<0)throw new Error("End of data reached (data length = "+this.length+", asked index = "+f+"). Corrupted zip ?")},setIndex:function(f){this.checkIndex(f),this.index=f},skip:function(f){this.setIndex(this.index+f)},byteAt:function(){},readInt:function(f){var h,p=0;for(this.checkOffset(f),h=this.index+f-1;h>=this.index;h--)p=(p<<8)+this.byteAt(h);return this.index+=f,p},readString:function(f){return u.transformTo("string",this.readData(f))},readData:function(){},lastIndexOfSignature:function(){},readAndCheckSignature:function(){},readDate:function(){var f=this.readInt(4);return new Date(Date.UTC(1980+(f>>25&127),(f>>21&15)-1,f>>16&31,f>>11&31,f>>5&63,(31&f)<<1))}},s.exports=d},{"../utils":32}],19:[function(a,s,o){var u=a("./Uint8ArrayReader");function d(f){u.call(this,f)}a("../utils").inherits(d,u),d.prototype.readData=function(f){this.checkOffset(f);var h=this.data.slice(this.zero+this.index,this.zero+this.index+f);return this.index+=f,h},s.exports=d},{"../utils":32,"./Uint8ArrayReader":21}],20:[function(a,s,o){var u=a("./DataReader");function d(f){u.call(this,f)}a("../utils").inherits(d,u),d.prototype.byteAt=function(f){return this.data.charCodeAt(this.zero+f)},d.prototype.lastIndexOfSignature=function(f){return this.data.lastIndexOf(f)-this.zero},d.prototype.readAndCheckSignature=function(f){return f===this.readData(4)},d.prototype.readData=function(f){this.checkOffset(f);var h=this.data.slice(this.zero+this.index,this.zero+this.index+f);return this.index+=f,h},s.exports=d},{"../utils":32,"./DataReader":18}],21:[function(a,s,o){var u=a("./ArrayReader");function d(f){u.call(this,f)}a("../utils").inherits(d,u),d.prototype.readData=function(f){if(this.checkOffset(f),f===0)return new Uint8Array(0);var h=this.data.subarray(this.zero+this.index,this.zero+this.index+f);return this.index+=f,h},s.exports=d},{"../utils":32,"./ArrayReader":17}],22:[function(a,s,o){var u=a("../utils"),d=a("../support"),f=a("./ArrayReader"),h=a("./StringReader"),p=a("./NodeBufferReader"),v=a("./Uint8ArrayReader");s.exports=function(y){var w=u.getTypeOf(y);return u.checkSupport(w),w!=="string"||d.uint8array?w==="nodebuffer"?new p(y):d.uint8array?new v(u.transformTo("uint8array",y)):new f(u.transformTo("array",y)):new h(y)}},{"../support":30,"../utils":32,"./ArrayReader":17,"./NodeBufferReader":19,"./StringReader":20,"./Uint8ArrayReader":21}],23:[function(a,s,o){o.LOCAL_FILE_HEADER="PK",o.CENTRAL_FILE_HEADER="PK",o.CENTRAL_DIRECTORY_END="PK",o.ZIP64_CENTRAL_DIRECTORY_LOCATOR="PK\x07",o.ZIP64_CENTRAL_DIRECTORY_END="PK",o.DATA_DESCRIPTOR="PK\x07\b"},{}],24:[function(a,s,o){var u=a("./GenericWorker"),d=a("../utils");function f(h){u.call(this,"ConvertWorker to "+h),this.destType=h}d.inherits(f,u),f.prototype.processChunk=function(h){this.push({data:d.transformTo(this.destType,h.data),meta:h.meta})},s.exports=f},{"../utils":32,"./GenericWorker":28}],25:[function(a,s,o){var u=a("./GenericWorker"),d=a("../crc32");function f(){u.call(this,"Crc32Probe"),this.withStreamInfo("crc32",0)}a("../utils").inherits(f,u),f.prototype.processChunk=function(h){this.streamInfo.crc32=d(h.data,this.streamInfo.crc32||0),this.push(h)},s.exports=f},{"../crc32":4,"../utils":32,"./GenericWorker":28}],26:[function(a,s,o){var u=a("../utils"),d=a("./GenericWorker");function f(h){d.call(this,"DataLengthProbe for "+h),this.propName=h,this.withStreamInfo(h,0)}u.inherits(f,d),f.prototype.processChunk=function(h){if(h){var p=this.streamInfo[this.propName]||0;this.streamInfo[this.propName]=p+h.data.length}d.prototype.processChunk.call(this,h)},s.exports=f},{"../utils":32,"./GenericWorker":28}],27:[function(a,s,o){var u=a("../utils"),d=a("./GenericWorker");function f(h){d.call(this,"DataWorker");var p=this;this.dataIsReady=!1,this.index=0,this.max=0,this.data=null,this.type="",this._tickScheduled=!1,h.then(function(v){p.dataIsReady=!0,p.data=v,p.max=v&&v.length||0,p.type=u.getTypeOf(v),p.isPaused||p._tickAndRepeat()},function(v){p.error(v)})}u.inherits(f,d),f.prototype.cleanUp=function(){d.prototype.cleanUp.call(this),this.data=null},f.prototype.resume=function(){return!!d.prototype.resume.call(this)&&(!this._tickScheduled&&this.dataIsReady&&(this._tickScheduled=!0,u.delay(this._tickAndRepeat,[],this)),!0)},f.prototype._tickAndRepeat=function(){this._tickScheduled=!1,this.isPaused||this.isFinished||(this._tick(),this.isFinished||(u.delay(this._tickAndRepeat,[],this),this._tickScheduled=!0))},f.prototype._tick=function(){if(this.isPaused||this.isFinished)return!1;var h=null,p=Math.min(this.max,this.index+16384);if(this.index>=this.max)return this.end();switch(this.type){case"string":h=this.data.substring(this.index,p);break;case"uint8array":h=this.data.subarray(this.index,p);break;case"array":case"nodebuffer":h=this.data.slice(this.index,p)}return this.index=p,this.push({data:h,meta:{percent:this.max?this.index/this.max*100:0}})},s.exports=f},{"../utils":32,"./GenericWorker":28}],28:[function(a,s,o){function u(d){this.name=d||"default",this.streamInfo={},this.generatedError=null,this.extraStreamInfo={},this.isPaused=!0,this.isFinished=!1,this.isLocked=!1,this._listeners={data:[],end:[],error:[]},this.previous=null}u.prototype={push:function(d){this.emit("data",d)},end:function(){if(this.isFinished)return!1;this.flush();try{this.emit("end"),this.cleanUp(),this.isFinished=!0}catch(d){this.emit("error",d)}return!0},error:function(d){return!this.isFinished&&(this.isPaused?this.generatedError=d:(this.isFinished=!0,this.emit("error",d),this.previous&&this.previous.error(d),this.cleanUp()),!0)},on:function(d,f){return this._listeners[d].push(f),this},cleanUp:function(){this.streamInfo=this.generatedError=this.extraStreamInfo=null,this._listeners=[]},emit:function(d,f){if(this._listeners[d])for(var h=0;h<this._listeners[d].length;h++)this._listeners[d][h].call(this,f)},pipe:function(d){return d.registerPrevious(this)},registerPrevious:function(d){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.streamInfo=d.streamInfo,this.mergeStreamInfo(),this.previous=d;var f=this;return d.on("data",function(h){f.processChunk(h)}),d.on("end",function(){f.end()}),d.on("error",function(h){f.error(h)}),this},pause:function(){return!this.isPaused&&!this.isFinished&&(this.isPaused=!0,this.previous&&this.previous.pause(),!0)},resume:function(){if(!this.isPaused||this.isFinished)return!1;var d=this.isPaused=!1;return this.generatedError&&(this.error(this.generatedError),d=!0),this.previous&&this.previous.resume(),!d},flush:function(){},processChunk:function(d){this.push(d)},withStreamInfo:function(d,f){return this.extraStreamInfo[d]=f,this.mergeStreamInfo(),this},mergeStreamInfo:function(){for(var d in this.extraStreamInfo)Object.prototype.hasOwnProperty.call(this.extraStreamInfo,d)&&(this.streamInfo[d]=this.extraStreamInfo[d])},lock:function(){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.isLocked=!0,this.previous&&this.previous.lock()},toString:function(){var d="Worker "+this.name;return this.previous?this.previous+" -> "+d:d}},s.exports=u},{}],29:[function(a,s,o){var u=a("../utils"),d=a("./ConvertWorker"),f=a("./GenericWorker"),h=a("../base64"),p=a("../support"),v=a("../external"),y=null;if(p.nodestream)try{y=a("../nodejs/NodejsStreamOutputAdapter")}catch{}function w(j,_){return new v.Promise(function(z,k){var C=[],M=j._internalType,A=j._outputType,O=j._mimeType;j.on("data",function(Q,B){C.push(Q),_&&_(B)}).on("error",function(Q){C=[],k(Q)}).on("end",function(){try{var Q=(function(B,Z,P){switch(B){case"blob":return u.newBlob(u.transformTo("arraybuffer",Z),P);case"base64":return h.encode(Z);default:return u.transformTo(B,Z)}})(A,(function(B,Z){var P,D=0,G=null,T=0;for(P=0;P<Z.length;P++)T+=Z[P].length;switch(B){case"string":return Z.join("");case"array":return Array.prototype.concat.apply([],Z);case"uint8array":for(G=new Uint8Array(T),P=0;P<Z.length;P++)G.set(Z[P],D),D+=Z[P].length;return G;case"nodebuffer":return Buffer.concat(Z);default:throw new Error("concat : unsupported type '"+B+"'")}})(M,C),O);z(Q)}catch(B){k(B)}C=[]}).resume()})}function x(j,_,z){var k=_;switch(_){case"blob":case"arraybuffer":k="uint8array";break;case"base64":k="string"}try{this._internalType=k,this._outputType=_,this._mimeType=z,u.checkSupport(k),this._worker=j.pipe(new d(k)),j.lock()}catch(C){this._worker=new f("error"),this._worker.error(C)}}x.prototype={accumulate:function(j){return w(this,j)},on:function(j,_){var z=this;return j==="data"?this._worker.on(j,function(k){_.call(z,k.data,k.meta)}):this._worker.on(j,function(){u.delay(_,arguments,z)}),this},resume:function(){return u.delay(this._worker.resume,[],this._worker),this},pause:function(){return this._worker.pause(),this},toNodejsStream:function(j){if(u.checkSupport("nodestream"),this._outputType!=="nodebuffer")throw new Error(this._outputType+" is not supported by this method");return new y(this,{objectMode:this._outputType!=="nodebuffer"},j)}},s.exports=x},{"../base64":1,"../external":6,"../nodejs/NodejsStreamOutputAdapter":13,"../support":30,"../utils":32,"./ConvertWorker":24,"./GenericWorker":28}],30:[function(a,s,o){if(o.base64=!0,o.array=!0,o.string=!0,o.arraybuffer=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u",o.nodebuffer=typeof Buffer<"u",o.uint8array=typeof Uint8Array<"u",typeof ArrayBuffer>"u")o.blob=!1;else{var u=new ArrayBuffer(0);try{o.blob=new Blob([u],{type:"application/zip"}).size===0}catch{try{var d=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);d.append(u),o.blob=d.getBlob("application/zip").size===0}catch{o.blob=!1}}}try{o.nodestream=!!a("readable-stream").Readable}catch{o.nodestream=!1}},{"readable-stream":16}],31:[function(a,s,o){for(var u=a("./utils"),d=a("./support"),f=a("./nodejsUtils"),h=a("./stream/GenericWorker"),p=new Array(256),v=0;v<256;v++)p[v]=252<=v?6:248<=v?5:240<=v?4:224<=v?3:192<=v?2:1;p[254]=p[254]=1;function y(){h.call(this,"utf-8 decode"),this.leftOver=null}function w(){h.call(this,"utf-8 encode")}o.utf8encode=function(x){return d.nodebuffer?f.newBufferFrom(x,"utf-8"):(function(j){var _,z,k,C,M,A=j.length,O=0;for(C=0;C<A;C++)(64512&(z=j.charCodeAt(C)))==55296&&C+1<A&&(64512&(k=j.charCodeAt(C+1)))==56320&&(z=65536+(z-55296<<10)+(k-56320),C++),O+=z<128?1:z<2048?2:z<65536?3:4;for(_=d.uint8array?new Uint8Array(O):new Array(O),C=M=0;M<O;C++)(64512&(z=j.charCodeAt(C)))==55296&&C+1<A&&(64512&(k=j.charCodeAt(C+1)))==56320&&(z=65536+(z-55296<<10)+(k-56320),C++),z<128?_[M++]=z:(z<2048?_[M++]=192|z>>>6:(z<65536?_[M++]=224|z>>>12:(_[M++]=240|z>>>18,_[M++]=128|z>>>12&63),_[M++]=128|z>>>6&63),_[M++]=128|63&z);return _})(x)},o.utf8decode=function(x){return d.nodebuffer?u.transformTo("nodebuffer",x).toString("utf-8"):(function(j){var _,z,k,C,M=j.length,A=new Array(2*M);for(_=z=0;_<M;)if((k=j[_++])<128)A[z++]=k;else if(4<(C=p[k]))A[z++]=65533,_+=C-1;else{for(k&=C===2?31:C===3?15:7;1<C&&_<M;)k=k<<6|63&j[_++],C--;1<C?A[z++]=65533:k<65536?A[z++]=k:(k-=65536,A[z++]=55296|k>>10&1023,A[z++]=56320|1023&k)}return A.length!==z&&(A.subarray?A=A.subarray(0,z):A.length=z),u.applyFromCharCode(A)})(x=u.transformTo(d.uint8array?"uint8array":"array",x))},u.inherits(y,h),y.prototype.processChunk=function(x){var j=u.transformTo(d.uint8array?"uint8array":"array",x.data);if(this.leftOver&&this.leftOver.length){if(d.uint8array){var _=j;(j=new Uint8Array(_.length+this.leftOver.length)).set(this.leftOver,0),j.set(_,this.leftOver.length)}else j=this.leftOver.concat(j);this.leftOver=null}var z=(function(C,M){var A;for((M=M||C.length)>C.length&&(M=C.length),A=M-1;0<=A&&(192&C[A])==128;)A--;return A<0||A===0?M:A+p[C[A]]>M?A:M})(j),k=j;z!==j.length&&(d.uint8array?(k=j.subarray(0,z),this.leftOver=j.subarray(z,j.length)):(k=j.slice(0,z),this.leftOver=j.slice(z,j.length))),this.push({data:o.utf8decode(k),meta:x.meta})},y.prototype.flush=function(){this.leftOver&&this.leftOver.length&&(this.push({data:o.utf8decode(this.leftOver),meta:{}}),this.leftOver=null)},o.Utf8DecodeWorker=y,u.inherits(w,h),w.prototype.processChunk=function(x){this.push({data:o.utf8encode(x.data),meta:x.meta})},o.Utf8EncodeWorker=w},{"./nodejsUtils":14,"./stream/GenericWorker":28,"./support":30,"./utils":32}],32:[function(a,s,o){var u=a("./support"),d=a("./base64"),f=a("./nodejsUtils"),h=a("./external");function p(_){return _}function v(_,z){for(var k=0;k<_.length;++k)z[k]=255&_.charCodeAt(k);return z}a("setimmediate"),o.newBlob=function(_,z){o.checkSupport("blob");try{return new Blob([_],{type:z})}catch{try{var k=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);return k.append(_),k.getBlob(z)}catch{throw new Error("Bug : can't construct the Blob.")}}};var y={stringifyByChunk:function(_,z,k){var C=[],M=0,A=_.length;if(A<=k)return String.fromCharCode.apply(null,_);for(;M<A;)z==="array"||z==="nodebuffer"?C.push(String.fromCharCode.apply(null,_.slice(M,Math.min(M+k,A)))):C.push(String.fromCharCode.apply(null,_.subarray(M,Math.min(M+k,A)))),M+=k;return C.join("")},stringifyByChar:function(_){for(var z="",k=0;k<_.length;k++)z+=String.fromCharCode(_[k]);return z},applyCanBeUsed:{uint8array:(function(){try{return u.uint8array&&String.fromCharCode.apply(null,new Uint8Array(1)).length===1}catch{return!1}})(),nodebuffer:(function(){try{return u.nodebuffer&&String.fromCharCode.apply(null,f.allocBuffer(1)).length===1}catch{return!1}})()}};function w(_){var z=65536,k=o.getTypeOf(_),C=!0;if(k==="uint8array"?C=y.applyCanBeUsed.uint8array:k==="nodebuffer"&&(C=y.applyCanBeUsed.nodebuffer),C)for(;1<z;)try{return y.stringifyByChunk(_,k,z)}catch{z=Math.floor(z/2)}return y.stringifyByChar(_)}function x(_,z){for(var k=0;k<_.length;k++)z[k]=_[k];return z}o.applyFromCharCode=w;var j={};j.string={string:p,array:function(_){return v(_,new Array(_.length))},arraybuffer:function(_){return j.string.uint8array(_).buffer},uint8array:function(_){return v(_,new Uint8Array(_.length))},nodebuffer:function(_){return v(_,f.allocBuffer(_.length))}},j.array={string:w,array:p,arraybuffer:function(_){return new Uint8Array(_).buffer},uint8array:function(_){return new Uint8Array(_)},nodebuffer:function(_){return f.newBufferFrom(_)}},j.arraybuffer={string:function(_){return w(new Uint8Array(_))},array:function(_){return x(new Uint8Array(_),new Array(_.byteLength))},arraybuffer:p,uint8array:function(_){return new Uint8Array(_)},nodebuffer:function(_){return f.newBufferFrom(new Uint8Array(_))}},j.uint8array={string:w,array:function(_){return x(_,new Array(_.length))},arraybuffer:function(_){return _.buffer},uint8array:p,nodebuffer:function(_){return f.newBufferFrom(_)}},j.nodebuffer={string:w,array:function(_){return x(_,new Array(_.length))},arraybuffer:function(_){return j.nodebuffer.uint8array(_).buffer},uint8array:function(_){return x(_,new Uint8Array(_.length))},nodebuffer:p},o.transformTo=function(_,z){if(z=z||"",!_)return z;o.checkSupport(_);var k=o.getTypeOf(z);return j[k][_](z)},o.resolve=function(_){for(var z=_.split("/"),k=[],C=0;C<z.length;C++){var M=z[C];M==="."||M===""&&C!==0&&C!==z.length-1||(M===".."?k.pop():k.push(M))}return k.join("/")},o.getTypeOf=function(_){return typeof _=="string"?"string":Object.prototype.toString.call(_)==="[object Array]"?"array":u.nodebuffer&&f.isBuffer(_)?"nodebuffer":u.uint8array&&_ instanceof Uint8Array?"uint8array":u.arraybuffer&&_ instanceof ArrayBuffer?"arraybuffer":void 0},o.checkSupport=function(_){if(!u[_.toLowerCase()])throw new Error(_+" is not supported by this platform")},o.MAX_VALUE_16BITS=65535,o.MAX_VALUE_32BITS=-1,o.pretty=function(_){var z,k,C="";for(k=0;k<(_||"").length;k++)C+="\\x"+((z=_.charCodeAt(k))<16?"0":"")+z.toString(16).toUpperCase();return C},o.delay=function(_,z,k){setImmediate(function(){_.apply(k||null,z||[])})},o.inherits=function(_,z){function k(){}k.prototype=z.prototype,_.prototype=new k},o.extend=function(){var _,z,k={};for(_=0;_<arguments.length;_++)for(z in arguments[_])Object.prototype.hasOwnProperty.call(arguments[_],z)&&k[z]===void 0&&(k[z]=arguments[_][z]);return k},o.prepareContent=function(_,z,k,C,M){return h.Promise.resolve(z).then(function(A){return u.blob&&(A instanceof Blob||["[object File]","[object Blob]"].indexOf(Object.prototype.toString.call(A))!==-1)&&typeof FileReader<"u"?new h.Promise(function(O,Q){var B=new FileReader;B.onload=function(Z){O(Z.target.result)},B.onerror=function(Z){Q(Z.target.error)},B.readAsArrayBuffer(A)}):A}).then(function(A){var O=o.getTypeOf(A);return O?(O==="arraybuffer"?A=o.transformTo("uint8array",A):O==="string"&&(M?A=d.decode(A):k&&C!==!0&&(A=(function(Q){return v(Q,u.uint8array?new Uint8Array(Q.length):new Array(Q.length))})(A))),A):h.Promise.reject(new Error("Can't read the data of '"+_+"'. Is it in a supported JavaScript type (String, Blob, ArrayBuffer, etc) ?"))})}},{"./base64":1,"./external":6,"./nodejsUtils":14,"./support":30,setimmediate:54}],33:[function(a,s,o){var u=a("./reader/readerFor"),d=a("./utils"),f=a("./signature"),h=a("./zipEntry"),p=a("./support");function v(y){this.files=[],this.loadOptions=y}v.prototype={checkSignature:function(y){if(!this.reader.readAndCheckSignature(y)){this.reader.index-=4;var w=this.reader.readString(4);throw new Error("Corrupted zip or bug: unexpected signature ("+d.pretty(w)+", expected "+d.pretty(y)+")")}},isSignature:function(y,w){var x=this.reader.index;this.reader.setIndex(y);var j=this.reader.readString(4)===w;return this.reader.setIndex(x),j},readBlockEndOfCentral:function(){this.diskNumber=this.reader.readInt(2),this.diskWithCentralDirStart=this.reader.readInt(2),this.centralDirRecordsOnThisDisk=this.reader.readInt(2),this.centralDirRecords=this.reader.readInt(2),this.centralDirSize=this.reader.readInt(4),this.centralDirOffset=this.reader.readInt(4),this.zipCommentLength=this.reader.readInt(2);var y=this.reader.readData(this.zipCommentLength),w=p.uint8array?"uint8array":"array",x=d.transformTo(w,y);this.zipComment=this.loadOptions.decodeFileName(x)},readBlockZip64EndOfCentral:function(){this.zip64EndOfCentralSize=this.reader.readInt(8),this.reader.skip(4),this.diskNumber=this.reader.readInt(4),this.diskWithCentralDirStart=this.reader.readInt(4),this.centralDirRecordsOnThisDisk=this.reader.readInt(8),this.centralDirRecords=this.reader.readInt(8),this.centralDirSize=this.reader.readInt(8),this.centralDirOffset=this.reader.readInt(8),this.zip64ExtensibleData={};for(var y,w,x,j=this.zip64EndOfCentralSize-44;0<j;)y=this.reader.readInt(2),w=this.reader.readInt(4),x=this.reader.readData(w),this.zip64ExtensibleData[y]={id:y,length:w,value:x}},readBlockZip64EndOfCentralLocator:function(){if(this.diskWithZip64CentralDirStart=this.reader.readInt(4),this.relativeOffsetEndOfZip64CentralDir=this.reader.readInt(8),this.disksCount=this.reader.readInt(4),1<this.disksCount)throw new Error("Multi-volumes zip are not supported")},readLocalFiles:function(){var y,w;for(y=0;y<this.files.length;y++)w=this.files[y],this.reader.setIndex(w.localHeaderOffset),this.checkSignature(f.LOCAL_FILE_HEADER),w.readLocalPart(this.reader),w.handleUTF8(),w.processAttributes()},readCentralDir:function(){var y;for(this.reader.setIndex(this.centralDirOffset);this.reader.readAndCheckSignature(f.CENTRAL_FILE_HEADER);)(y=new h({zip64:this.zip64},this.loadOptions)).readCentralPart(this.reader),this.files.push(y);if(this.centralDirRecords!==this.files.length&&this.centralDirRecords!==0&&this.files.length===0)throw new Error("Corrupted zip or bug: expected "+this.centralDirRecords+" records in central dir, got "+this.files.length)},readEndOfCentral:function(){var y=this.reader.lastIndexOfSignature(f.CENTRAL_DIRECTORY_END);if(y<0)throw this.isSignature(0,f.LOCAL_FILE_HEADER)?new Error("Corrupted zip: can't find end of central directory"):new Error("Can't find end of central directory : is this a zip file ? If it is, see https://stuk.github.io/jszip/documentation/howto/read_zip.html");this.reader.setIndex(y);var w=y;if(this.checkSignature(f.CENTRAL_DIRECTORY_END),this.readBlockEndOfCentral(),this.diskNumber===d.MAX_VALUE_16BITS||this.diskWithCentralDirStart===d.MAX_VALUE_16BITS||this.centralDirRecordsOnThisDisk===d.MAX_VALUE_16BITS||this.centralDirRecords===d.MAX_VALUE_16BITS||this.centralDirSize===d.MAX_VALUE_32BITS||this.centralDirOffset===d.MAX_VALUE_32BITS){if(this.zip64=!0,(y=this.reader.lastIndexOfSignature(f.ZIP64_CENTRAL_DIRECTORY_LOCATOR))<0)throw new Error("Corrupted zip: can't find the ZIP64 end of central directory locator");if(this.reader.setIndex(y),this.checkSignature(f.ZIP64_CENTRAL_DIRECTORY_LOCATOR),this.readBlockZip64EndOfCentralLocator(),!this.isSignature(this.relativeOffsetEndOfZip64CentralDir,f.ZIP64_CENTRAL_DIRECTORY_END)&&(this.relativeOffsetEndOfZip64CentralDir=this.reader.lastIndexOfSignature(f.ZIP64_CENTRAL_DIRECTORY_END),this.relativeOffsetEndOfZip64CentralDir<0))throw new Error("Corrupted zip: can't find the ZIP64 end of central directory");this.reader.setIndex(this.relativeOffsetEndOfZip64CentralDir),this.checkSignature(f.ZIP64_CENTRAL_DIRECTORY_END),this.readBlockZip64EndOfCentral()}var x=this.centralDirOffset+this.centralDirSize;this.zip64&&(x+=20,x+=12+this.zip64EndOfCentralSize);var j=w-x;if(0<j)this.isSignature(w,f.CENTRAL_FILE_HEADER)||(this.reader.zero=j);else if(j<0)throw new Error("Corrupted zip: missing "+Math.abs(j)+" bytes.")},prepareReader:function(y){this.reader=u(y)},load:function(y){this.prepareReader(y),this.readEndOfCentral(),this.readCentralDir(),this.readLocalFiles()}},s.exports=v},{"./reader/readerFor":22,"./signature":23,"./support":30,"./utils":32,"./zipEntry":34}],34:[function(a,s,o){var u=a("./reader/readerFor"),d=a("./utils"),f=a("./compressedObject"),h=a("./crc32"),p=a("./utf8"),v=a("./compressions"),y=a("./support");function w(x,j){this.options=x,this.loadOptions=j}w.prototype={isEncrypted:function(){return(1&this.bitFlag)==1},useUTF8:function(){return(2048&this.bitFlag)==2048},readLocalPart:function(x){var j,_;if(x.skip(22),this.fileNameLength=x.readInt(2),_=x.readInt(2),this.fileName=x.readData(this.fileNameLength),x.skip(_),this.compressedSize===-1||this.uncompressedSize===-1)throw new Error("Bug or corrupted zip : didn't get enough information from the central directory (compressedSize === -1 || uncompressedSize === -1)");if((j=(function(z){for(var k in v)if(Object.prototype.hasOwnProperty.call(v,k)&&v[k].magic===z)return v[k];return null})(this.compressionMethod))===null)throw new Error("Corrupted zip : compression "+d.pretty(this.compressionMethod)+" unknown (inner file : "+d.transformTo("string",this.fileName)+")");this.decompressed=new f(this.compressedSize,this.uncompressedSize,this.crc32,j,x.readData(this.compressedSize))},readCentralPart:function(x){this.versionMadeBy=x.readInt(2),x.skip(2),this.bitFlag=x.readInt(2),this.compressionMethod=x.readString(2),this.date=x.readDate(),this.crc32=x.readInt(4),this.compressedSize=x.readInt(4),this.uncompressedSize=x.readInt(4);var j=x.readInt(2);if(this.extraFieldsLength=x.readInt(2),this.fileCommentLength=x.readInt(2),this.diskNumberStart=x.readInt(2),this.internalFileAttributes=x.readInt(2),this.externalFileAttributes=x.readInt(4),this.localHeaderOffset=x.readInt(4),this.isEncrypted())throw new Error("Encrypted zip are not supported");x.skip(j),this.readExtraFields(x),this.parseZIP64ExtraField(x),this.fileComment=x.readData(this.fileCommentLength)},processAttributes:function(){this.unixPermissions=null,this.dosPermissions=null;var x=this.versionMadeBy>>8;this.dir=!!(16&this.externalFileAttributes),x==0&&(this.dosPermissions=63&this.externalFileAttributes),x==3&&(this.unixPermissions=this.externalFileAttributes>>16&65535),this.dir||this.fileNameStr.slice(-1)!=="/"||(this.dir=!0)},parseZIP64ExtraField:function(){if(this.extraFields[1]){var x=u(this.extraFields[1].value);this.uncompressedSize===d.MAX_VALUE_32BITS&&(this.uncompressedSize=x.readInt(8)),this.compressedSize===d.MAX_VALUE_32BITS&&(this.compressedSize=x.readInt(8)),this.localHeaderOffset===d.MAX_VALUE_32BITS&&(this.localHeaderOffset=x.readInt(8)),this.diskNumberStart===d.MAX_VALUE_32BITS&&(this.diskNumberStart=x.readInt(4))}},readExtraFields:function(x){var j,_,z,k=x.index+this.extraFieldsLength;for(this.extraFields||(this.extraFields={});x.index+4<k;)j=x.readInt(2),_=x.readInt(2),z=x.readData(_),this.extraFields[j]={id:j,length:_,value:z};x.setIndex(k)},handleUTF8:function(){var x=y.uint8array?"uint8array":"array";if(this.useUTF8())this.fileNameStr=p.utf8decode(this.fileName),this.fileCommentStr=p.utf8decode(this.fileComment);else{var j=this.findExtraFieldUnicodePath();if(j!==null)this.fileNameStr=j;else{var _=d.transformTo(x,this.fileName);this.fileNameStr=this.loadOptions.decodeFileName(_)}var z=this.findExtraFieldUnicodeComment();if(z!==null)this.fileCommentStr=z;else{var k=d.transformTo(x,this.fileComment);this.fileCommentStr=this.loadOptions.decodeFileName(k)}}},findExtraFieldUnicodePath:function(){var x=this.extraFields[28789];if(x){var j=u(x.value);return j.readInt(1)!==1||h(this.fileName)!==j.readInt(4)?null:p.utf8decode(j.readData(x.length-5))}return null},findExtraFieldUnicodeComment:function(){var x=this.extraFields[25461];if(x){var j=u(x.value);return j.readInt(1)!==1||h(this.fileComment)!==j.readInt(4)?null:p.utf8decode(j.readData(x.length-5))}return null}},s.exports=w},{"./compressedObject":2,"./compressions":3,"./crc32":4,"./reader/readerFor":22,"./support":30,"./utf8":31,"./utils":32}],35:[function(a,s,o){function u(j,_,z){this.name=j,this.dir=z.dir,this.date=z.date,this.comment=z.comment,this.unixPermissions=z.unixPermissions,this.dosPermissions=z.dosPermissions,this._data=_,this._dataBinary=z.binary,this.options={compression:z.compression,compressionOptions:z.compressionOptions}}var d=a("./stream/StreamHelper"),f=a("./stream/DataWorker"),h=a("./utf8"),p=a("./compressedObject"),v=a("./stream/GenericWorker");u.prototype={internalStream:function(j){var _=null,z="string";try{if(!j)throw new Error("No output type specified.");var k=(z=j.toLowerCase())==="string"||z==="text";z!=="binarystring"&&z!=="text"||(z="string"),_=this._decompressWorker();var C=!this._dataBinary;C&&!k&&(_=_.pipe(new h.Utf8EncodeWorker)),!C&&k&&(_=_.pipe(new h.Utf8DecodeWorker))}catch(M){(_=new v("error")).error(M)}return new d(_,z,"")},async:function(j,_){return this.internalStream(j).accumulate(_)},nodeStream:function(j,_){return this.internalStream(j||"nodebuffer").toNodejsStream(_)},_compressWorker:function(j,_){if(this._data instanceof p&&this._data.compression.magic===j.magic)return this._data.getCompressedWorker();var z=this._decompressWorker();return this._dataBinary||(z=z.pipe(new h.Utf8EncodeWorker)),p.createWorkerFrom(z,j,_)},_decompressWorker:function(){return this._data instanceof p?this._data.getContentWorker():this._data instanceof v?this._data:new f(this._data)}};for(var y=["asText","asBinary","asNodeBuffer","asUint8Array","asArrayBuffer"],w=function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},x=0;x<y.length;x++)u.prototype[y[x]]=w;s.exports=u},{"./compressedObject":2,"./stream/DataWorker":27,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31}],36:[function(a,s,o){(function(u){var d,f,h=u.MutationObserver||u.WebKitMutationObserver;if(h){var p=0,v=new h(j),y=u.document.createTextNode("");v.observe(y,{characterData:!0}),d=function(){y.data=p=++p%2}}else if(u.setImmediate||u.MessageChannel===void 0)d="document"in u&&"onreadystatechange"in u.document.createElement("script")?function(){var _=u.document.createElement("script");_.onreadystatechange=function(){j(),_.onreadystatechange=null,_.parentNode.removeChild(_),_=null},u.document.documentElement.appendChild(_)}:function(){setTimeout(j,0)};else{var w=new u.MessageChannel;w.port1.onmessage=j,d=function(){w.port2.postMessage(0)}}var x=[];function j(){var _,z;f=!0;for(var k=x.length;k;){for(z=x,x=[],_=-1;++_<k;)z[_]();k=x.length}f=!1}s.exports=function(_){x.push(_)!==1||f||d()}}).call(this,typeof ou<"u"?ou:typeof self<"u"?self:typeof window<"u"?window:{})},{}],37:[function(a,s,o){var u=a("immediate");function d(){}var f={},h=["REJECTED"],p=["FULFILLED"],v=["PENDING"];function y(k){if(typeof k!="function")throw new TypeError("resolver must be a function");this.state=v,this.queue=[],this.outcome=void 0,k!==d&&_(this,k)}function w(k,C,M){this.promise=k,typeof C=="function"&&(this.onFulfilled=C,this.callFulfilled=this.otherCallFulfilled),typeof M=="function"&&(this.onRejected=M,this.callRejected=this.otherCallRejected)}function x(k,C,M){u(function(){var A;try{A=C(M)}catch(O){return f.reject(k,O)}A===k?f.reject(k,new TypeError("Cannot resolve promise with itself")):f.resolve(k,A)})}function j(k){var C=k&&k.then;if(k&&(typeof k=="object"||typeof k=="function")&&typeof C=="function")return function(){C.apply(k,arguments)}}function _(k,C){var M=!1;function A(B){M||(M=!0,f.reject(k,B))}function O(B){M||(M=!0,f.resolve(k,B))}var Q=z(function(){C(O,A)});Q.status==="error"&&A(Q.value)}function z(k,C){var M={};try{M.value=k(C),M.status="success"}catch(A){M.status="error",M.value=A}return M}(s.exports=y).prototype.finally=function(k){if(typeof k!="function")return this;var C=this.constructor;return this.then(function(M){return C.resolve(k()).then(function(){return M})},function(M){return C.resolve(k()).then(function(){throw M})})},y.prototype.catch=function(k){return this.then(null,k)},y.prototype.then=function(k,C){if(typeof k!="function"&&this.state===p||typeof C!="function"&&this.state===h)return this;var M=new this.constructor(d);return this.state!==v?x(M,this.state===p?k:C,this.outcome):this.queue.push(new w(M,k,C)),M},w.prototype.callFulfilled=function(k){f.resolve(this.promise,k)},w.prototype.otherCallFulfilled=function(k){x(this.promise,this.onFulfilled,k)},w.prototype.callRejected=function(k){f.reject(this.promise,k)},w.prototype.otherCallRejected=function(k){x(this.promise,this.onRejected,k)},f.resolve=function(k,C){var M=z(j,C);if(M.status==="error")return f.reject(k,M.value);var A=M.value;if(A)_(k,A);else{k.state=p,k.outcome=C;for(var O=-1,Q=k.queue.length;++O<Q;)k.queue[O].callFulfilled(C)}return k},f.reject=function(k,C){k.state=h,k.outcome=C;for(var M=-1,A=k.queue.length;++M<A;)k.queue[M].callRejected(C);return k},y.resolve=function(k){return k instanceof this?k:f.resolve(new this(d),k)},y.reject=function(k){var C=new this(d);return f.reject(C,k)},y.all=function(k){var C=this;if(Object.prototype.toString.call(k)!=="[object Array]")return this.reject(new TypeError("must be an array"));var M=k.length,A=!1;if(!M)return this.resolve([]);for(var O=new Array(M),Q=0,B=-1,Z=new this(d);++B<M;)P(k[B],B);return Z;function P(D,G){C.resolve(D).then(function(T){O[G]=T,++Q!==M||A||(A=!0,f.resolve(Z,O))},function(T){A||(A=!0,f.reject(Z,T))})}},y.race=function(k){var C=this;if(Object.prototype.toString.call(k)!=="[object Array]")return this.reject(new TypeError("must be an array"));var M=k.length,A=!1;if(!M)return this.resolve([]);for(var O=-1,Q=new this(d);++O<M;)B=k[O],C.resolve(B).then(function(Z){A||(A=!0,f.resolve(Q,Z))},function(Z){A||(A=!0,f.reject(Q,Z))});var B;return Q}},{immediate:36}],38:[function(a,s,o){var u={};(0,a("./lib/utils/common").assign)(u,a("./lib/deflate"),a("./lib/inflate"),a("./lib/zlib/constants")),s.exports=u},{"./lib/deflate":39,"./lib/inflate":40,"./lib/utils/common":41,"./lib/zlib/constants":44}],39:[function(a,s,o){var u=a("./zlib/deflate"),d=a("./utils/common"),f=a("./utils/strings"),h=a("./zlib/messages"),p=a("./zlib/zstream"),v=Object.prototype.toString,y=0,w=-1,x=0,j=8;function _(k){if(!(this instanceof _))return new _(k);this.options=d.assign({level:w,method:j,chunkSize:16384,windowBits:15,memLevel:8,strategy:x,to:""},k||{});var C=this.options;C.raw&&0<C.windowBits?C.windowBits=-C.windowBits:C.gzip&&0<C.windowBits&&C.windowBits<16&&(C.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new p,this.strm.avail_out=0;var M=u.deflateInit2(this.strm,C.level,C.method,C.windowBits,C.memLevel,C.strategy);if(M!==y)throw new Error(h[M]);if(C.header&&u.deflateSetHeader(this.strm,C.header),C.dictionary){var A;if(A=typeof C.dictionary=="string"?f.string2buf(C.dictionary):v.call(C.dictionary)==="[object ArrayBuffer]"?new Uint8Array(C.dictionary):C.dictionary,(M=u.deflateSetDictionary(this.strm,A))!==y)throw new Error(h[M]);this._dict_set=!0}}function z(k,C){var M=new _(C);if(M.push(k,!0),M.err)throw M.msg||h[M.err];return M.result}_.prototype.push=function(k,C){var M,A,O=this.strm,Q=this.options.chunkSize;if(this.ended)return!1;A=C===~~C?C:C===!0?4:0,typeof k=="string"?O.input=f.string2buf(k):v.call(k)==="[object ArrayBuffer]"?O.input=new Uint8Array(k):O.input=k,O.next_in=0,O.avail_in=O.input.length;do{if(O.avail_out===0&&(O.output=new d.Buf8(Q),O.next_out=0,O.avail_out=Q),(M=u.deflate(O,A))!==1&&M!==y)return this.onEnd(M),!(this.ended=!0);O.avail_out!==0&&(O.avail_in!==0||A!==4&&A!==2)||(this.options.to==="string"?this.onData(f.buf2binstring(d.shrinkBuf(O.output,O.next_out))):this.onData(d.shrinkBuf(O.output,O.next_out)))}while((0<O.avail_in||O.avail_out===0)&&M!==1);return A===4?(M=u.deflateEnd(this.strm),this.onEnd(M),this.ended=!0,M===y):A!==2||(this.onEnd(y),!(O.avail_out=0))},_.prototype.onData=function(k){this.chunks.push(k)},_.prototype.onEnd=function(k){k===y&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=d.flattenChunks(this.chunks)),this.chunks=[],this.err=k,this.msg=this.strm.msg},o.Deflate=_,o.deflate=z,o.deflateRaw=function(k,C){return(C=C||{}).raw=!0,z(k,C)},o.gzip=function(k,C){return(C=C||{}).gzip=!0,z(k,C)}},{"./utils/common":41,"./utils/strings":42,"./zlib/deflate":46,"./zlib/messages":51,"./zlib/zstream":53}],40:[function(a,s,o){var u=a("./zlib/inflate"),d=a("./utils/common"),f=a("./utils/strings"),h=a("./zlib/constants"),p=a("./zlib/messages"),v=a("./zlib/zstream"),y=a("./zlib/gzheader"),w=Object.prototype.toString;function x(_){if(!(this instanceof x))return new x(_);this.options=d.assign({chunkSize:16384,windowBits:0,to:""},_||{});var z=this.options;z.raw&&0<=z.windowBits&&z.windowBits<16&&(z.windowBits=-z.windowBits,z.windowBits===0&&(z.windowBits=-15)),!(0<=z.windowBits&&z.windowBits<16)||_&&_.windowBits||(z.windowBits+=32),15<z.windowBits&&z.windowBits<48&&(15&z.windowBits)==0&&(z.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new v,this.strm.avail_out=0;var k=u.inflateInit2(this.strm,z.windowBits);if(k!==h.Z_OK)throw new Error(p[k]);this.header=new y,u.inflateGetHeader(this.strm,this.header)}function j(_,z){var k=new x(z);if(k.push(_,!0),k.err)throw k.msg||p[k.err];return k.result}x.prototype.push=function(_,z){var k,C,M,A,O,Q,B=this.strm,Z=this.options.chunkSize,P=this.options.dictionary,D=!1;if(this.ended)return!1;C=z===~~z?z:z===!0?h.Z_FINISH:h.Z_NO_FLUSH,typeof _=="string"?B.input=f.binstring2buf(_):w.call(_)==="[object ArrayBuffer]"?B.input=new Uint8Array(_):B.input=_,B.next_in=0,B.avail_in=B.input.length;do{if(B.avail_out===0&&(B.output=new d.Buf8(Z),B.next_out=0,B.avail_out=Z),(k=u.inflate(B,h.Z_NO_FLUSH))===h.Z_NEED_DICT&&P&&(Q=typeof P=="string"?f.string2buf(P):w.call(P)==="[object ArrayBuffer]"?new Uint8Array(P):P,k=u.inflateSetDictionary(this.strm,Q)),k===h.Z_BUF_ERROR&&D===!0&&(k=h.Z_OK,D=!1),k!==h.Z_STREAM_END&&k!==h.Z_OK)return this.onEnd(k),!(this.ended=!0);B.next_out&&(B.avail_out!==0&&k!==h.Z_STREAM_END&&(B.avail_in!==0||C!==h.Z_FINISH&&C!==h.Z_SYNC_FLUSH)||(this.options.to==="string"?(M=f.utf8border(B.output,B.next_out),A=B.next_out-M,O=f.buf2string(B.output,M),B.next_out=A,B.avail_out=Z-A,A&&d.arraySet(B.output,B.output,M,A,0),this.onData(O)):this.onData(d.shrinkBuf(B.output,B.next_out)))),B.avail_in===0&&B.avail_out===0&&(D=!0)}while((0<B.avail_in||B.avail_out===0)&&k!==h.Z_STREAM_END);return k===h.Z_STREAM_END&&(C=h.Z_FINISH),C===h.Z_FINISH?(k=u.inflateEnd(this.strm),this.onEnd(k),this.ended=!0,k===h.Z_OK):C!==h.Z_SYNC_FLUSH||(this.onEnd(h.Z_OK),!(B.avail_out=0))},x.prototype.onData=function(_){this.chunks.push(_)},x.prototype.onEnd=function(_){_===h.Z_OK&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=d.flattenChunks(this.chunks)),this.chunks=[],this.err=_,this.msg=this.strm.msg},o.Inflate=x,o.inflate=j,o.inflateRaw=function(_,z){return(z=z||{}).raw=!0,j(_,z)},o.ungzip=j},{"./utils/common":41,"./utils/strings":42,"./zlib/constants":44,"./zlib/gzheader":47,"./zlib/inflate":49,"./zlib/messages":51,"./zlib/zstream":53}],41:[function(a,s,o){var u=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Int32Array<"u";o.assign=function(h){for(var p=Array.prototype.slice.call(arguments,1);p.length;){var v=p.shift();if(v){if(typeof v!="object")throw new TypeError(v+"must be non-object");for(var y in v)v.hasOwnProperty(y)&&(h[y]=v[y])}}return h},o.shrinkBuf=function(h,p){return h.length===p?h:h.subarray?h.subarray(0,p):(h.length=p,h)};var d={arraySet:function(h,p,v,y,w){if(p.subarray&&h.subarray)h.set(p.subarray(v,v+y),w);else for(var x=0;x<y;x++)h[w+x]=p[v+x]},flattenChunks:function(h){var p,v,y,w,x,j;for(p=y=0,v=h.length;p<v;p++)y+=h[p].length;for(j=new Uint8Array(y),p=w=0,v=h.length;p<v;p++)x=h[p],j.set(x,w),w+=x.length;return j}},f={arraySet:function(h,p,v,y,w){for(var x=0;x<y;x++)h[w+x]=p[v+x]},flattenChunks:function(h){return[].concat.apply([],h)}};o.setTyped=function(h){h?(o.Buf8=Uint8Array,o.Buf16=Uint16Array,o.Buf32=Int32Array,o.assign(o,d)):(o.Buf8=Array,o.Buf16=Array,o.Buf32=Array,o.assign(o,f))},o.setTyped(u)},{}],42:[function(a,s,o){var u=a("./common"),d=!0,f=!0;try{String.fromCharCode.apply(null,[0])}catch{d=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{f=!1}for(var h=new u.Buf8(256),p=0;p<256;p++)h[p]=252<=p?6:248<=p?5:240<=p?4:224<=p?3:192<=p?2:1;function v(y,w){if(w<65537&&(y.subarray&&f||!y.subarray&&d))return String.fromCharCode.apply(null,u.shrinkBuf(y,w));for(var x="",j=0;j<w;j++)x+=String.fromCharCode(y[j]);return x}h[254]=h[254]=1,o.string2buf=function(y){var w,x,j,_,z,k=y.length,C=0;for(_=0;_<k;_++)(64512&(x=y.charCodeAt(_)))==55296&&_+1<k&&(64512&(j=y.charCodeAt(_+1)))==56320&&(x=65536+(x-55296<<10)+(j-56320),_++),C+=x<128?1:x<2048?2:x<65536?3:4;for(w=new u.Buf8(C),_=z=0;z<C;_++)(64512&(x=y.charCodeAt(_)))==55296&&_+1<k&&(64512&(j=y.charCodeAt(_+1)))==56320&&(x=65536+(x-55296<<10)+(j-56320),_++),x<128?w[z++]=x:(x<2048?w[z++]=192|x>>>6:(x<65536?w[z++]=224|x>>>12:(w[z++]=240|x>>>18,w[z++]=128|x>>>12&63),w[z++]=128|x>>>6&63),w[z++]=128|63&x);return w},o.buf2binstring=function(y){return v(y,y.length)},o.binstring2buf=function(y){for(var w=new u.Buf8(y.length),x=0,j=w.length;x<j;x++)w[x]=y.charCodeAt(x);return w},o.buf2string=function(y,w){var x,j,_,z,k=w||y.length,C=new Array(2*k);for(x=j=0;x<k;)if((_=y[x++])<128)C[j++]=_;else if(4<(z=h[_]))C[j++]=65533,x+=z-1;else{for(_&=z===2?31:z===3?15:7;1<z&&x<k;)_=_<<6|63&y[x++],z--;1<z?C[j++]=65533:_<65536?C[j++]=_:(_-=65536,C[j++]=55296|_>>10&1023,C[j++]=56320|1023&_)}return v(C,j)},o.utf8border=function(y,w){var x;for((w=w||y.length)>y.length&&(w=y.length),x=w-1;0<=x&&(192&y[x])==128;)x--;return x<0||x===0?w:x+h[y[x]]>w?x:w}},{"./common":41}],43:[function(a,s,o){s.exports=function(u,d,f,h){for(var p=65535&u|0,v=u>>>16&65535|0,y=0;f!==0;){for(f-=y=2e3<f?2e3:f;v=v+(p=p+d[h++]|0)|0,--y;);p%=65521,v%=65521}return p|v<<16|0}},{}],44:[function(a,s,o){s.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},{}],45:[function(a,s,o){var u=(function(){for(var d,f=[],h=0;h<256;h++){d=h;for(var p=0;p<8;p++)d=1&d?3988292384^d>>>1:d>>>1;f[h]=d}return f})();s.exports=function(d,f,h,p){var v=u,y=p+h;d^=-1;for(var w=p;w<y;w++)d=d>>>8^v[255&(d^f[w])];return-1^d}},{}],46:[function(a,s,o){var u,d=a("../utils/common"),f=a("./trees"),h=a("./adler32"),p=a("./crc32"),v=a("./messages"),y=0,w=4,x=0,j=-2,_=-1,z=4,k=2,C=8,M=9,A=286,O=30,Q=19,B=2*A+1,Z=15,P=3,D=258,G=D+P+1,T=42,U=113,S=1,W=2,K=3,I=4;function se(E,ae){return E.msg=v[ae],ae}function J(E){return(E<<1)-(4<E?9:0)}function be(E){for(var ae=E.length;0<=--ae;)E[ae]=0}function R(E){var ae=E.state,te=ae.pending;te>E.avail_out&&(te=E.avail_out),te!==0&&(d.arraySet(E.output,ae.pending_buf,ae.pending_out,te,E.next_out),E.next_out+=te,ae.pending_out+=te,E.total_out+=te,E.avail_out-=te,ae.pending-=te,ae.pending===0&&(ae.pending_out=0))}function F(E,ae){f._tr_flush_block(E,0<=E.block_start?E.block_start:-1,E.strstart-E.block_start,ae),E.block_start=E.strstart,R(E.strm)}function ee(E,ae){E.pending_buf[E.pending++]=ae}function ie(E,ae){E.pending_buf[E.pending++]=ae>>>8&255,E.pending_buf[E.pending++]=255&ae}function ue(E,ae){var te,q,H=E.max_chain_length,$=E.strstart,he=E.prev_length,ke=E.nice_match,oe=E.strstart>E.w_size-G?E.strstart-(E.w_size-G):0,Te=E.window,ve=E.w_mask,we=E.prev,De=E.strstart+D,Ee=Te[$+he-1],He=Te[$+he];E.prev_length>=E.good_match&&(H>>=2),ke>E.lookahead&&(ke=E.lookahead);do if(Te[(te=ae)+he]===He&&Te[te+he-1]===Ee&&Te[te]===Te[$]&&Te[++te]===Te[$+1]){$+=2,te++;do;while(Te[++$]===Te[++te]&&Te[++$]===Te[++te]&&Te[++$]===Te[++te]&&Te[++$]===Te[++te]&&Te[++$]===Te[++te]&&Te[++$]===Te[++te]&&Te[++$]===Te[++te]&&Te[++$]===Te[++te]&&$<De);if(q=D-(De-$),$=De-D,he<q){if(E.match_start=ae,ke<=(he=q))break;Ee=Te[$+he-1],He=Te[$+he]}}while((ae=we[ae&ve])>oe&&--H!=0);return he<=E.lookahead?he:E.lookahead}function Me(E){var ae,te,q,H,$,he,ke,oe,Te,ve,we=E.w_size;do{if(H=E.window_size-E.lookahead-E.strstart,E.strstart>=we+(we-G)){for(d.arraySet(E.window,E.window,we,we,0),E.match_start-=we,E.strstart-=we,E.block_start-=we,ae=te=E.hash_size;q=E.head[--ae],E.head[ae]=we<=q?q-we:0,--te;);for(ae=te=we;q=E.prev[--ae],E.prev[ae]=we<=q?q-we:0,--te;);H+=we}if(E.strm.avail_in===0)break;if(he=E.strm,ke=E.window,oe=E.strstart+E.lookahead,Te=H,ve=void 0,ve=he.avail_in,Te<ve&&(ve=Te),te=ve===0?0:(he.avail_in-=ve,d.arraySet(ke,he.input,he.next_in,ve,oe),he.state.wrap===1?he.adler=h(he.adler,ke,ve,oe):he.state.wrap===2&&(he.adler=p(he.adler,ke,ve,oe)),he.next_in+=ve,he.total_in+=ve,ve),E.lookahead+=te,E.lookahead+E.insert>=P)for($=E.strstart-E.insert,E.ins_h=E.window[$],E.ins_h=(E.ins_h<<E.hash_shift^E.window[$+1])&E.hash_mask;E.insert&&(E.ins_h=(E.ins_h<<E.hash_shift^E.window[$+P-1])&E.hash_mask,E.prev[$&E.w_mask]=E.head[E.ins_h],E.head[E.ins_h]=$,$++,E.insert--,!(E.lookahead+E.insert<P)););}while(E.lookahead<G&&E.strm.avail_in!==0)}function re(E,ae){for(var te,q;;){if(E.lookahead<G){if(Me(E),E.lookahead<G&&ae===y)return S;if(E.lookahead===0)break}if(te=0,E.lookahead>=P&&(E.ins_h=(E.ins_h<<E.hash_shift^E.window[E.strstart+P-1])&E.hash_mask,te=E.prev[E.strstart&E.w_mask]=E.head[E.ins_h],E.head[E.ins_h]=E.strstart),te!==0&&E.strstart-te<=E.w_size-G&&(E.match_length=ue(E,te)),E.match_length>=P)if(q=f._tr_tally(E,E.strstart-E.match_start,E.match_length-P),E.lookahead-=E.match_length,E.match_length<=E.max_lazy_match&&E.lookahead>=P){for(E.match_length--;E.strstart++,E.ins_h=(E.ins_h<<E.hash_shift^E.window[E.strstart+P-1])&E.hash_mask,te=E.prev[E.strstart&E.w_mask]=E.head[E.ins_h],E.head[E.ins_h]=E.strstart,--E.match_length!=0;);E.strstart++}else E.strstart+=E.match_length,E.match_length=0,E.ins_h=E.window[E.strstart],E.ins_h=(E.ins_h<<E.hash_shift^E.window[E.strstart+1])&E.hash_mask;else q=f._tr_tally(E,0,E.window[E.strstart]),E.lookahead--,E.strstart++;if(q&&(F(E,!1),E.strm.avail_out===0))return S}return E.insert=E.strstart<P-1?E.strstart:P-1,ae===w?(F(E,!0),E.strm.avail_out===0?K:I):E.last_lit&&(F(E,!1),E.strm.avail_out===0)?S:W}function je(E,ae){for(var te,q,H;;){if(E.lookahead<G){if(Me(E),E.lookahead<G&&ae===y)return S;if(E.lookahead===0)break}if(te=0,E.lookahead>=P&&(E.ins_h=(E.ins_h<<E.hash_shift^E.window[E.strstart+P-1])&E.hash_mask,te=E.prev[E.strstart&E.w_mask]=E.head[E.ins_h],E.head[E.ins_h]=E.strstart),E.prev_length=E.match_length,E.prev_match=E.match_start,E.match_length=P-1,te!==0&&E.prev_length<E.max_lazy_match&&E.strstart-te<=E.w_size-G&&(E.match_length=ue(E,te),E.match_length<=5&&(E.strategy===1||E.match_length===P&&4096<E.strstart-E.match_start)&&(E.match_length=P-1)),E.prev_length>=P&&E.match_length<=E.prev_length){for(H=E.strstart+E.lookahead-P,q=f._tr_tally(E,E.strstart-1-E.prev_match,E.prev_length-P),E.lookahead-=E.prev_length-1,E.prev_length-=2;++E.strstart<=H&&(E.ins_h=(E.ins_h<<E.hash_shift^E.window[E.strstart+P-1])&E.hash_mask,te=E.prev[E.strstart&E.w_mask]=E.head[E.ins_h],E.head[E.ins_h]=E.strstart),--E.prev_length!=0;);if(E.match_available=0,E.match_length=P-1,E.strstart++,q&&(F(E,!1),E.strm.avail_out===0))return S}else if(E.match_available){if((q=f._tr_tally(E,0,E.window[E.strstart-1]))&&F(E,!1),E.strstart++,E.lookahead--,E.strm.avail_out===0)return S}else E.match_available=1,E.strstart++,E.lookahead--}return E.match_available&&(q=f._tr_tally(E,0,E.window[E.strstart-1]),E.match_available=0),E.insert=E.strstart<P-1?E.strstart:P-1,ae===w?(F(E,!0),E.strm.avail_out===0?K:I):E.last_lit&&(F(E,!1),E.strm.avail_out===0)?S:W}function de(E,ae,te,q,H){this.good_length=E,this.max_lazy=ae,this.nice_length=te,this.max_chain=q,this.func=H}function Oe(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=C,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new d.Buf16(2*B),this.dyn_dtree=new d.Buf16(2*(2*O+1)),this.bl_tree=new d.Buf16(2*(2*Q+1)),be(this.dyn_ltree),be(this.dyn_dtree),be(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new d.Buf16(Z+1),this.heap=new d.Buf16(2*A+1),be(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new d.Buf16(2*A+1),be(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function Ue(E){var ae;return E&&E.state?(E.total_in=E.total_out=0,E.data_type=k,(ae=E.state).pending=0,ae.pending_out=0,ae.wrap<0&&(ae.wrap=-ae.wrap),ae.status=ae.wrap?T:U,E.adler=ae.wrap===2?0:1,ae.last_flush=y,f._tr_init(ae),x):se(E,j)}function _e(E){var ae=Ue(E);return ae===x&&(function(te){te.window_size=2*te.w_size,be(te.head),te.max_lazy_match=u[te.level].max_lazy,te.good_match=u[te.level].good_length,te.nice_match=u[te.level].nice_length,te.max_chain_length=u[te.level].max_chain,te.strstart=0,te.block_start=0,te.lookahead=0,te.insert=0,te.match_length=te.prev_length=P-1,te.match_available=0,te.ins_h=0})(E.state),ae}function ze(E,ae,te,q,H,$){if(!E)return j;var he=1;if(ae===_&&(ae=6),q<0?(he=0,q=-q):15<q&&(he=2,q-=16),H<1||M<H||te!==C||q<8||15<q||ae<0||9<ae||$<0||z<$)return se(E,j);q===8&&(q=9);var ke=new Oe;return(E.state=ke).strm=E,ke.wrap=he,ke.gzhead=null,ke.w_bits=q,ke.w_size=1<<ke.w_bits,ke.w_mask=ke.w_size-1,ke.hash_bits=H+7,ke.hash_size=1<<ke.hash_bits,ke.hash_mask=ke.hash_size-1,ke.hash_shift=~~((ke.hash_bits+P-1)/P),ke.window=new d.Buf8(2*ke.w_size),ke.head=new d.Buf16(ke.hash_size),ke.prev=new d.Buf16(ke.w_size),ke.lit_bufsize=1<<H+6,ke.pending_buf_size=4*ke.lit_bufsize,ke.pending_buf=new d.Buf8(ke.pending_buf_size),ke.d_buf=1*ke.lit_bufsize,ke.l_buf=3*ke.lit_bufsize,ke.level=ae,ke.strategy=$,ke.method=te,_e(E)}u=[new de(0,0,0,0,function(E,ae){var te=65535;for(te>E.pending_buf_size-5&&(te=E.pending_buf_size-5);;){if(E.lookahead<=1){if(Me(E),E.lookahead===0&&ae===y)return S;if(E.lookahead===0)break}E.strstart+=E.lookahead,E.lookahead=0;var q=E.block_start+te;if((E.strstart===0||E.strstart>=q)&&(E.lookahead=E.strstart-q,E.strstart=q,F(E,!1),E.strm.avail_out===0)||E.strstart-E.block_start>=E.w_size-G&&(F(E,!1),E.strm.avail_out===0))return S}return E.insert=0,ae===w?(F(E,!0),E.strm.avail_out===0?K:I):(E.strstart>E.block_start&&(F(E,!1),E.strm.avail_out),S)}),new de(4,4,8,4,re),new de(4,5,16,8,re),new de(4,6,32,32,re),new de(4,4,16,16,je),new de(8,16,32,32,je),new de(8,16,128,128,je),new de(8,32,128,256,je),new de(32,128,258,1024,je),new de(32,258,258,4096,je)],o.deflateInit=function(E,ae){return ze(E,ae,C,15,8,0)},o.deflateInit2=ze,o.deflateReset=_e,o.deflateResetKeep=Ue,o.deflateSetHeader=function(E,ae){return E&&E.state?E.state.wrap!==2?j:(E.state.gzhead=ae,x):j},o.deflate=function(E,ae){var te,q,H,$;if(!E||!E.state||5<ae||ae<0)return E?se(E,j):j;if(q=E.state,!E.output||!E.input&&E.avail_in!==0||q.status===666&&ae!==w)return se(E,E.avail_out===0?-5:j);if(q.strm=E,te=q.last_flush,q.last_flush=ae,q.status===T)if(q.wrap===2)E.adler=0,ee(q,31),ee(q,139),ee(q,8),q.gzhead?(ee(q,(q.gzhead.text?1:0)+(q.gzhead.hcrc?2:0)+(q.gzhead.extra?4:0)+(q.gzhead.name?8:0)+(q.gzhead.comment?16:0)),ee(q,255&q.gzhead.time),ee(q,q.gzhead.time>>8&255),ee(q,q.gzhead.time>>16&255),ee(q,q.gzhead.time>>24&255),ee(q,q.level===9?2:2<=q.strategy||q.level<2?4:0),ee(q,255&q.gzhead.os),q.gzhead.extra&&q.gzhead.extra.length&&(ee(q,255&q.gzhead.extra.length),ee(q,q.gzhead.extra.length>>8&255)),q.gzhead.hcrc&&(E.adler=p(E.adler,q.pending_buf,q.pending,0)),q.gzindex=0,q.status=69):(ee(q,0),ee(q,0),ee(q,0),ee(q,0),ee(q,0),ee(q,q.level===9?2:2<=q.strategy||q.level<2?4:0),ee(q,3),q.status=U);else{var he=C+(q.w_bits-8<<4)<<8;he|=(2<=q.strategy||q.level<2?0:q.level<6?1:q.level===6?2:3)<<6,q.strstart!==0&&(he|=32),he+=31-he%31,q.status=U,ie(q,he),q.strstart!==0&&(ie(q,E.adler>>>16),ie(q,65535&E.adler)),E.adler=1}if(q.status===69)if(q.gzhead.extra){for(H=q.pending;q.gzindex<(65535&q.gzhead.extra.length)&&(q.pending!==q.pending_buf_size||(q.gzhead.hcrc&&q.pending>H&&(E.adler=p(E.adler,q.pending_buf,q.pending-H,H)),R(E),H=q.pending,q.pending!==q.pending_buf_size));)ee(q,255&q.gzhead.extra[q.gzindex]),q.gzindex++;q.gzhead.hcrc&&q.pending>H&&(E.adler=p(E.adler,q.pending_buf,q.pending-H,H)),q.gzindex===q.gzhead.extra.length&&(q.gzindex=0,q.status=73)}else q.status=73;if(q.status===73)if(q.gzhead.name){H=q.pending;do{if(q.pending===q.pending_buf_size&&(q.gzhead.hcrc&&q.pending>H&&(E.adler=p(E.adler,q.pending_buf,q.pending-H,H)),R(E),H=q.pending,q.pending===q.pending_buf_size)){$=1;break}$=q.gzindex<q.gzhead.name.length?255&q.gzhead.name.charCodeAt(q.gzindex++):0,ee(q,$)}while($!==0);q.gzhead.hcrc&&q.pending>H&&(E.adler=p(E.adler,q.pending_buf,q.pending-H,H)),$===0&&(q.gzindex=0,q.status=91)}else q.status=91;if(q.status===91)if(q.gzhead.comment){H=q.pending;do{if(q.pending===q.pending_buf_size&&(q.gzhead.hcrc&&q.pending>H&&(E.adler=p(E.adler,q.pending_buf,q.pending-H,H)),R(E),H=q.pending,q.pending===q.pending_buf_size)){$=1;break}$=q.gzindex<q.gzhead.comment.length?255&q.gzhead.comment.charCodeAt(q.gzindex++):0,ee(q,$)}while($!==0);q.gzhead.hcrc&&q.pending>H&&(E.adler=p(E.adler,q.pending_buf,q.pending-H,H)),$===0&&(q.status=103)}else q.status=103;if(q.status===103&&(q.gzhead.hcrc?(q.pending+2>q.pending_buf_size&&R(E),q.pending+2<=q.pending_buf_size&&(ee(q,255&E.adler),ee(q,E.adler>>8&255),E.adler=0,q.status=U)):q.status=U),q.pending!==0){if(R(E),E.avail_out===0)return q.last_flush=-1,x}else if(E.avail_in===0&&J(ae)<=J(te)&&ae!==w)return se(E,-5);if(q.status===666&&E.avail_in!==0)return se(E,-5);if(E.avail_in!==0||q.lookahead!==0||ae!==y&&q.status!==666){var ke=q.strategy===2?(function(oe,Te){for(var ve;;){if(oe.lookahead===0&&(Me(oe),oe.lookahead===0)){if(Te===y)return S;break}if(oe.match_length=0,ve=f._tr_tally(oe,0,oe.window[oe.strstart]),oe.lookahead--,oe.strstart++,ve&&(F(oe,!1),oe.strm.avail_out===0))return S}return oe.insert=0,Te===w?(F(oe,!0),oe.strm.avail_out===0?K:I):oe.last_lit&&(F(oe,!1),oe.strm.avail_out===0)?S:W})(q,ae):q.strategy===3?(function(oe,Te){for(var ve,we,De,Ee,He=oe.window;;){if(oe.lookahead<=D){if(Me(oe),oe.lookahead<=D&&Te===y)return S;if(oe.lookahead===0)break}if(oe.match_length=0,oe.lookahead>=P&&0<oe.strstart&&(we=He[De=oe.strstart-1])===He[++De]&&we===He[++De]&&we===He[++De]){Ee=oe.strstart+D;do;while(we===He[++De]&&we===He[++De]&&we===He[++De]&&we===He[++De]&&we===He[++De]&&we===He[++De]&&we===He[++De]&&we===He[++De]&&De<Ee);oe.match_length=D-(Ee-De),oe.match_length>oe.lookahead&&(oe.match_length=oe.lookahead)}if(oe.match_length>=P?(ve=f._tr_tally(oe,1,oe.match_length-P),oe.lookahead-=oe.match_length,oe.strstart+=oe.match_length,oe.match_length=0):(ve=f._tr_tally(oe,0,oe.window[oe.strstart]),oe.lookahead--,oe.strstart++),ve&&(F(oe,!1),oe.strm.avail_out===0))return S}return oe.insert=0,Te===w?(F(oe,!0),oe.strm.avail_out===0?K:I):oe.last_lit&&(F(oe,!1),oe.strm.avail_out===0)?S:W})(q,ae):u[q.level].func(q,ae);if(ke!==K&&ke!==I||(q.status=666),ke===S||ke===K)return E.avail_out===0&&(q.last_flush=-1),x;if(ke===W&&(ae===1?f._tr_align(q):ae!==5&&(f._tr_stored_block(q,0,0,!1),ae===3&&(be(q.head),q.lookahead===0&&(q.strstart=0,q.block_start=0,q.insert=0))),R(E),E.avail_out===0))return q.last_flush=-1,x}return ae!==w?x:q.wrap<=0?1:(q.wrap===2?(ee(q,255&E.adler),ee(q,E.adler>>8&255),ee(q,E.adler>>16&255),ee(q,E.adler>>24&255),ee(q,255&E.total_in),ee(q,E.total_in>>8&255),ee(q,E.total_in>>16&255),ee(q,E.total_in>>24&255)):(ie(q,E.adler>>>16),ie(q,65535&E.adler)),R(E),0<q.wrap&&(q.wrap=-q.wrap),q.pending!==0?x:1)},o.deflateEnd=function(E){var ae;return E&&E.state?(ae=E.state.status)!==T&&ae!==69&&ae!==73&&ae!==91&&ae!==103&&ae!==U&&ae!==666?se(E,j):(E.state=null,ae===U?se(E,-3):x):j},o.deflateSetDictionary=function(E,ae){var te,q,H,$,he,ke,oe,Te,ve=ae.length;if(!E||!E.state||($=(te=E.state).wrap)===2||$===1&&te.status!==T||te.lookahead)return j;for($===1&&(E.adler=h(E.adler,ae,ve,0)),te.wrap=0,ve>=te.w_size&&($===0&&(be(te.head),te.strstart=0,te.block_start=0,te.insert=0),Te=new d.Buf8(te.w_size),d.arraySet(Te,ae,ve-te.w_size,te.w_size,0),ae=Te,ve=te.w_size),he=E.avail_in,ke=E.next_in,oe=E.input,E.avail_in=ve,E.next_in=0,E.input=ae,Me(te);te.lookahead>=P;){for(q=te.strstart,H=te.lookahead-(P-1);te.ins_h=(te.ins_h<<te.hash_shift^te.window[q+P-1])&te.hash_mask,te.prev[q&te.w_mask]=te.head[te.ins_h],te.head[te.ins_h]=q,q++,--H;);te.strstart=q,te.lookahead=P-1,Me(te)}return te.strstart+=te.lookahead,te.block_start=te.strstart,te.insert=te.lookahead,te.lookahead=0,te.match_length=te.prev_length=P-1,te.match_available=0,E.next_in=ke,E.input=oe,E.avail_in=he,te.wrap=$,x},o.deflateInfo="pako deflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./messages":51,"./trees":52}],47:[function(a,s,o){s.exports=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}},{}],48:[function(a,s,o){s.exports=function(u,d){var f,h,p,v,y,w,x,j,_,z,k,C,M,A,O,Q,B,Z,P,D,G,T,U,S,W;f=u.state,h=u.next_in,S=u.input,p=h+(u.avail_in-5),v=u.next_out,W=u.output,y=v-(d-u.avail_out),w=v+(u.avail_out-257),x=f.dmax,j=f.wsize,_=f.whave,z=f.wnext,k=f.window,C=f.hold,M=f.bits,A=f.lencode,O=f.distcode,Q=(1<<f.lenbits)-1,B=(1<<f.distbits)-1;e:do{M<15&&(C+=S[h++]<<M,M+=8,C+=S[h++]<<M,M+=8),Z=A[C&Q];t:for(;;){if(C>>>=P=Z>>>24,M-=P,(P=Z>>>16&255)===0)W[v++]=65535&Z;else{if(!(16&P)){if((64&P)==0){Z=A[(65535&Z)+(C&(1<<P)-1)];continue t}if(32&P){f.mode=12;break e}u.msg="invalid literal/length code",f.mode=30;break e}D=65535&Z,(P&=15)&&(M<P&&(C+=S[h++]<<M,M+=8),D+=C&(1<<P)-1,C>>>=P,M-=P),M<15&&(C+=S[h++]<<M,M+=8,C+=S[h++]<<M,M+=8),Z=O[C&B];n:for(;;){if(C>>>=P=Z>>>24,M-=P,!(16&(P=Z>>>16&255))){if((64&P)==0){Z=O[(65535&Z)+(C&(1<<P)-1)];continue n}u.msg="invalid distance code",f.mode=30;break e}if(G=65535&Z,M<(P&=15)&&(C+=S[h++]<<M,(M+=8)<P&&(C+=S[h++]<<M,M+=8)),x<(G+=C&(1<<P)-1)){u.msg="invalid distance too far back",f.mode=30;break e}if(C>>>=P,M-=P,(P=v-y)<G){if(_<(P=G-P)&&f.sane){u.msg="invalid distance too far back",f.mode=30;break e}if(U=k,(T=0)===z){if(T+=j-P,P<D){for(D-=P;W[v++]=k[T++],--P;);T=v-G,U=W}}else if(z<P){if(T+=j+z-P,(P-=z)<D){for(D-=P;W[v++]=k[T++],--P;);if(T=0,z<D){for(D-=P=z;W[v++]=k[T++],--P;);T=v-G,U=W}}}else if(T+=z-P,P<D){for(D-=P;W[v++]=k[T++],--P;);T=v-G,U=W}for(;2<D;)W[v++]=U[T++],W[v++]=U[T++],W[v++]=U[T++],D-=3;D&&(W[v++]=U[T++],1<D&&(W[v++]=U[T++]))}else{for(T=v-G;W[v++]=W[T++],W[v++]=W[T++],W[v++]=W[T++],2<(D-=3););D&&(W[v++]=W[T++],1<D&&(W[v++]=W[T++]))}break}}break}}while(h<p&&v<w);h-=D=M>>3,C&=(1<<(M-=D<<3))-1,u.next_in=h,u.next_out=v,u.avail_in=h<p?p-h+5:5-(h-p),u.avail_out=v<w?w-v+257:257-(v-w),f.hold=C,f.bits=M}},{}],49:[function(a,s,o){var u=a("../utils/common"),d=a("./adler32"),f=a("./crc32"),h=a("./inffast"),p=a("./inftrees"),v=1,y=2,w=0,x=-2,j=1,_=852,z=592;function k(T){return(T>>>24&255)+(T>>>8&65280)+((65280&T)<<8)+((255&T)<<24)}function C(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new u.Buf16(320),this.work=new u.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function M(T){var U;return T&&T.state?(U=T.state,T.total_in=T.total_out=U.total=0,T.msg="",U.wrap&&(T.adler=1&U.wrap),U.mode=j,U.last=0,U.havedict=0,U.dmax=32768,U.head=null,U.hold=0,U.bits=0,U.lencode=U.lendyn=new u.Buf32(_),U.distcode=U.distdyn=new u.Buf32(z),U.sane=1,U.back=-1,w):x}function A(T){var U;return T&&T.state?((U=T.state).wsize=0,U.whave=0,U.wnext=0,M(T)):x}function O(T,U){var S,W;return T&&T.state?(W=T.state,U<0?(S=0,U=-U):(S=1+(U>>4),U<48&&(U&=15)),U&&(U<8||15<U)?x:(W.window!==null&&W.wbits!==U&&(W.window=null),W.wrap=S,W.wbits=U,A(T))):x}function Q(T,U){var S,W;return T?(W=new C,(T.state=W).window=null,(S=O(T,U))!==w&&(T.state=null),S):x}var B,Z,P=!0;function D(T){if(P){var U;for(B=new u.Buf32(512),Z=new u.Buf32(32),U=0;U<144;)T.lens[U++]=8;for(;U<256;)T.lens[U++]=9;for(;U<280;)T.lens[U++]=7;for(;U<288;)T.lens[U++]=8;for(p(v,T.lens,0,288,B,0,T.work,{bits:9}),U=0;U<32;)T.lens[U++]=5;p(y,T.lens,0,32,Z,0,T.work,{bits:5}),P=!1}T.lencode=B,T.lenbits=9,T.distcode=Z,T.distbits=5}function G(T,U,S,W){var K,I=T.state;return I.window===null&&(I.wsize=1<<I.wbits,I.wnext=0,I.whave=0,I.window=new u.Buf8(I.wsize)),W>=I.wsize?(u.arraySet(I.window,U,S-I.wsize,I.wsize,0),I.wnext=0,I.whave=I.wsize):(W<(K=I.wsize-I.wnext)&&(K=W),u.arraySet(I.window,U,S-W,K,I.wnext),(W-=K)?(u.arraySet(I.window,U,S-W,W,0),I.wnext=W,I.whave=I.wsize):(I.wnext+=K,I.wnext===I.wsize&&(I.wnext=0),I.whave<I.wsize&&(I.whave+=K))),0}o.inflateReset=A,o.inflateReset2=O,o.inflateResetKeep=M,o.inflateInit=function(T){return Q(T,15)},o.inflateInit2=Q,o.inflate=function(T,U){var S,W,K,I,se,J,be,R,F,ee,ie,ue,Me,re,je,de,Oe,Ue,_e,ze,E,ae,te,q,H=0,$=new u.Buf8(4),he=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!T||!T.state||!T.output||!T.input&&T.avail_in!==0)return x;(S=T.state).mode===12&&(S.mode=13),se=T.next_out,K=T.output,be=T.avail_out,I=T.next_in,W=T.input,J=T.avail_in,R=S.hold,F=S.bits,ee=J,ie=be,ae=w;e:for(;;)switch(S.mode){case j:if(S.wrap===0){S.mode=13;break}for(;F<16;){if(J===0)break e;J--,R+=W[I++]<<F,F+=8}if(2&S.wrap&&R===35615){$[S.check=0]=255&R,$[1]=R>>>8&255,S.check=f(S.check,$,2,0),F=R=0,S.mode=2;break}if(S.flags=0,S.head&&(S.head.done=!1),!(1&S.wrap)||(((255&R)<<8)+(R>>8))%31){T.msg="incorrect header check",S.mode=30;break}if((15&R)!=8){T.msg="unknown compression method",S.mode=30;break}if(F-=4,E=8+(15&(R>>>=4)),S.wbits===0)S.wbits=E;else if(E>S.wbits){T.msg="invalid window size",S.mode=30;break}S.dmax=1<<E,T.adler=S.check=1,S.mode=512&R?10:12,F=R=0;break;case 2:for(;F<16;){if(J===0)break e;J--,R+=W[I++]<<F,F+=8}if(S.flags=R,(255&S.flags)!=8){T.msg="unknown compression method",S.mode=30;break}if(57344&S.flags){T.msg="unknown header flags set",S.mode=30;break}S.head&&(S.head.text=R>>8&1),512&S.flags&&($[0]=255&R,$[1]=R>>>8&255,S.check=f(S.check,$,2,0)),F=R=0,S.mode=3;case 3:for(;F<32;){if(J===0)break e;J--,R+=W[I++]<<F,F+=8}S.head&&(S.head.time=R),512&S.flags&&($[0]=255&R,$[1]=R>>>8&255,$[2]=R>>>16&255,$[3]=R>>>24&255,S.check=f(S.check,$,4,0)),F=R=0,S.mode=4;case 4:for(;F<16;){if(J===0)break e;J--,R+=W[I++]<<F,F+=8}S.head&&(S.head.xflags=255&R,S.head.os=R>>8),512&S.flags&&($[0]=255&R,$[1]=R>>>8&255,S.check=f(S.check,$,2,0)),F=R=0,S.mode=5;case 5:if(1024&S.flags){for(;F<16;){if(J===0)break e;J--,R+=W[I++]<<F,F+=8}S.length=R,S.head&&(S.head.extra_len=R),512&S.flags&&($[0]=255&R,$[1]=R>>>8&255,S.check=f(S.check,$,2,0)),F=R=0}else S.head&&(S.head.extra=null);S.mode=6;case 6:if(1024&S.flags&&(J<(ue=S.length)&&(ue=J),ue&&(S.head&&(E=S.head.extra_len-S.length,S.head.extra||(S.head.extra=new Array(S.head.extra_len)),u.arraySet(S.head.extra,W,I,ue,E)),512&S.flags&&(S.check=f(S.check,W,ue,I)),J-=ue,I+=ue,S.length-=ue),S.length))break e;S.length=0,S.mode=7;case 7:if(2048&S.flags){if(J===0)break e;for(ue=0;E=W[I+ue++],S.head&&E&&S.length<65536&&(S.head.name+=String.fromCharCode(E)),E&&ue<J;);if(512&S.flags&&(S.check=f(S.check,W,ue,I)),J-=ue,I+=ue,E)break e}else S.head&&(S.head.name=null);S.length=0,S.mode=8;case 8:if(4096&S.flags){if(J===0)break e;for(ue=0;E=W[I+ue++],S.head&&E&&S.length<65536&&(S.head.comment+=String.fromCharCode(E)),E&&ue<J;);if(512&S.flags&&(S.check=f(S.check,W,ue,I)),J-=ue,I+=ue,E)break e}else S.head&&(S.head.comment=null);S.mode=9;case 9:if(512&S.flags){for(;F<16;){if(J===0)break e;J--,R+=W[I++]<<F,F+=8}if(R!==(65535&S.check)){T.msg="header crc mismatch",S.mode=30;break}F=R=0}S.head&&(S.head.hcrc=S.flags>>9&1,S.head.done=!0),T.adler=S.check=0,S.mode=12;break;case 10:for(;F<32;){if(J===0)break e;J--,R+=W[I++]<<F,F+=8}T.adler=S.check=k(R),F=R=0,S.mode=11;case 11:if(S.havedict===0)return T.next_out=se,T.avail_out=be,T.next_in=I,T.avail_in=J,S.hold=R,S.bits=F,2;T.adler=S.check=1,S.mode=12;case 12:if(U===5||U===6)break e;case 13:if(S.last){R>>>=7&F,F-=7&F,S.mode=27;break}for(;F<3;){if(J===0)break e;J--,R+=W[I++]<<F,F+=8}switch(S.last=1&R,F-=1,3&(R>>>=1)){case 0:S.mode=14;break;case 1:if(D(S),S.mode=20,U!==6)break;R>>>=2,F-=2;break e;case 2:S.mode=17;break;case 3:T.msg="invalid block type",S.mode=30}R>>>=2,F-=2;break;case 14:for(R>>>=7&F,F-=7&F;F<32;){if(J===0)break e;J--,R+=W[I++]<<F,F+=8}if((65535&R)!=(R>>>16^65535)){T.msg="invalid stored block lengths",S.mode=30;break}if(S.length=65535&R,F=R=0,S.mode=15,U===6)break e;case 15:S.mode=16;case 16:if(ue=S.length){if(J<ue&&(ue=J),be<ue&&(ue=be),ue===0)break e;u.arraySet(K,W,I,ue,se),J-=ue,I+=ue,be-=ue,se+=ue,S.length-=ue;break}S.mode=12;break;case 17:for(;F<14;){if(J===0)break e;J--,R+=W[I++]<<F,F+=8}if(S.nlen=257+(31&R),R>>>=5,F-=5,S.ndist=1+(31&R),R>>>=5,F-=5,S.ncode=4+(15&R),R>>>=4,F-=4,286<S.nlen||30<S.ndist){T.msg="too many length or distance symbols",S.mode=30;break}S.have=0,S.mode=18;case 18:for(;S.have<S.ncode;){for(;F<3;){if(J===0)break e;J--,R+=W[I++]<<F,F+=8}S.lens[he[S.have++]]=7&R,R>>>=3,F-=3}for(;S.have<19;)S.lens[he[S.have++]]=0;if(S.lencode=S.lendyn,S.lenbits=7,te={bits:S.lenbits},ae=p(0,S.lens,0,19,S.lencode,0,S.work,te),S.lenbits=te.bits,ae){T.msg="invalid code lengths set",S.mode=30;break}S.have=0,S.mode=19;case 19:for(;S.have<S.nlen+S.ndist;){for(;de=(H=S.lencode[R&(1<<S.lenbits)-1])>>>16&255,Oe=65535&H,!((je=H>>>24)<=F);){if(J===0)break e;J--,R+=W[I++]<<F,F+=8}if(Oe<16)R>>>=je,F-=je,S.lens[S.have++]=Oe;else{if(Oe===16){for(q=je+2;F<q;){if(J===0)break e;J--,R+=W[I++]<<F,F+=8}if(R>>>=je,F-=je,S.have===0){T.msg="invalid bit length repeat",S.mode=30;break}E=S.lens[S.have-1],ue=3+(3&R),R>>>=2,F-=2}else if(Oe===17){for(q=je+3;F<q;){if(J===0)break e;J--,R+=W[I++]<<F,F+=8}F-=je,E=0,ue=3+(7&(R>>>=je)),R>>>=3,F-=3}else{for(q=je+7;F<q;){if(J===0)break e;J--,R+=W[I++]<<F,F+=8}F-=je,E=0,ue=11+(127&(R>>>=je)),R>>>=7,F-=7}if(S.have+ue>S.nlen+S.ndist){T.msg="invalid bit length repeat",S.mode=30;break}for(;ue--;)S.lens[S.have++]=E}}if(S.mode===30)break;if(S.lens[256]===0){T.msg="invalid code -- missing end-of-block",S.mode=30;break}if(S.lenbits=9,te={bits:S.lenbits},ae=p(v,S.lens,0,S.nlen,S.lencode,0,S.work,te),S.lenbits=te.bits,ae){T.msg="invalid literal/lengths set",S.mode=30;break}if(S.distbits=6,S.distcode=S.distdyn,te={bits:S.distbits},ae=p(y,S.lens,S.nlen,S.ndist,S.distcode,0,S.work,te),S.distbits=te.bits,ae){T.msg="invalid distances set",S.mode=30;break}if(S.mode=20,U===6)break e;case 20:S.mode=21;case 21:if(6<=J&&258<=be){T.next_out=se,T.avail_out=be,T.next_in=I,T.avail_in=J,S.hold=R,S.bits=F,h(T,ie),se=T.next_out,K=T.output,be=T.avail_out,I=T.next_in,W=T.input,J=T.avail_in,R=S.hold,F=S.bits,S.mode===12&&(S.back=-1);break}for(S.back=0;de=(H=S.lencode[R&(1<<S.lenbits)-1])>>>16&255,Oe=65535&H,!((je=H>>>24)<=F);){if(J===0)break e;J--,R+=W[I++]<<F,F+=8}if(de&&(240&de)==0){for(Ue=je,_e=de,ze=Oe;de=(H=S.lencode[ze+((R&(1<<Ue+_e)-1)>>Ue)])>>>16&255,Oe=65535&H,!(Ue+(je=H>>>24)<=F);){if(J===0)break e;J--,R+=W[I++]<<F,F+=8}R>>>=Ue,F-=Ue,S.back+=Ue}if(R>>>=je,F-=je,S.back+=je,S.length=Oe,de===0){S.mode=26;break}if(32&de){S.back=-1,S.mode=12;break}if(64&de){T.msg="invalid literal/length code",S.mode=30;break}S.extra=15&de,S.mode=22;case 22:if(S.extra){for(q=S.extra;F<q;){if(J===0)break e;J--,R+=W[I++]<<F,F+=8}S.length+=R&(1<<S.extra)-1,R>>>=S.extra,F-=S.extra,S.back+=S.extra}S.was=S.length,S.mode=23;case 23:for(;de=(H=S.distcode[R&(1<<S.distbits)-1])>>>16&255,Oe=65535&H,!((je=H>>>24)<=F);){if(J===0)break e;J--,R+=W[I++]<<F,F+=8}if((240&de)==0){for(Ue=je,_e=de,ze=Oe;de=(H=S.distcode[ze+((R&(1<<Ue+_e)-1)>>Ue)])>>>16&255,Oe=65535&H,!(Ue+(je=H>>>24)<=F);){if(J===0)break e;J--,R+=W[I++]<<F,F+=8}R>>>=Ue,F-=Ue,S.back+=Ue}if(R>>>=je,F-=je,S.back+=je,64&de){T.msg="invalid distance code",S.mode=30;break}S.offset=Oe,S.extra=15&de,S.mode=24;case 24:if(S.extra){for(q=S.extra;F<q;){if(J===0)break e;J--,R+=W[I++]<<F,F+=8}S.offset+=R&(1<<S.extra)-1,R>>>=S.extra,F-=S.extra,S.back+=S.extra}if(S.offset>S.dmax){T.msg="invalid distance too far back",S.mode=30;break}S.mode=25;case 25:if(be===0)break e;if(ue=ie-be,S.offset>ue){if((ue=S.offset-ue)>S.whave&&S.sane){T.msg="invalid distance too far back",S.mode=30;break}Me=ue>S.wnext?(ue-=S.wnext,S.wsize-ue):S.wnext-ue,ue>S.length&&(ue=S.length),re=S.window}else re=K,Me=se-S.offset,ue=S.length;for(be<ue&&(ue=be),be-=ue,S.length-=ue;K[se++]=re[Me++],--ue;);S.length===0&&(S.mode=21);break;case 26:if(be===0)break e;K[se++]=S.length,be--,S.mode=21;break;case 27:if(S.wrap){for(;F<32;){if(J===0)break e;J--,R|=W[I++]<<F,F+=8}if(ie-=be,T.total_out+=ie,S.total+=ie,ie&&(T.adler=S.check=S.flags?f(S.check,K,ie,se-ie):d(S.check,K,ie,se-ie)),ie=be,(S.flags?R:k(R))!==S.check){T.msg="incorrect data check",S.mode=30;break}F=R=0}S.mode=28;case 28:if(S.wrap&&S.flags){for(;F<32;){if(J===0)break e;J--,R+=W[I++]<<F,F+=8}if(R!==(4294967295&S.total)){T.msg="incorrect length check",S.mode=30;break}F=R=0}S.mode=29;case 29:ae=1;break e;case 30:ae=-3;break e;case 31:return-4;case 32:default:return x}return T.next_out=se,T.avail_out=be,T.next_in=I,T.avail_in=J,S.hold=R,S.bits=F,(S.wsize||ie!==T.avail_out&&S.mode<30&&(S.mode<27||U!==4))&&G(T,T.output,T.next_out,ie-T.avail_out)?(S.mode=31,-4):(ee-=T.avail_in,ie-=T.avail_out,T.total_in+=ee,T.total_out+=ie,S.total+=ie,S.wrap&&ie&&(T.adler=S.check=S.flags?f(S.check,K,ie,T.next_out-ie):d(S.check,K,ie,T.next_out-ie)),T.data_type=S.bits+(S.last?64:0)+(S.mode===12?128:0)+(S.mode===20||S.mode===15?256:0),(ee==0&&ie===0||U===4)&&ae===w&&(ae=-5),ae)},o.inflateEnd=function(T){if(!T||!T.state)return x;var U=T.state;return U.window&&(U.window=null),T.state=null,w},o.inflateGetHeader=function(T,U){var S;return T&&T.state?(2&(S=T.state).wrap)==0?x:((S.head=U).done=!1,w):x},o.inflateSetDictionary=function(T,U){var S,W=U.length;return T&&T.state?(S=T.state).wrap!==0&&S.mode!==11?x:S.mode===11&&d(1,U,W,0)!==S.check?-3:G(T,U,W,W)?(S.mode=31,-4):(S.havedict=1,w):x},o.inflateInfo="pako inflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./inffast":48,"./inftrees":50}],50:[function(a,s,o){var u=a("../utils/common"),d=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],f=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],h=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],p=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];s.exports=function(v,y,w,x,j,_,z,k){var C,M,A,O,Q,B,Z,P,D,G=k.bits,T=0,U=0,S=0,W=0,K=0,I=0,se=0,J=0,be=0,R=0,F=null,ee=0,ie=new u.Buf16(16),ue=new u.Buf16(16),Me=null,re=0;for(T=0;T<=15;T++)ie[T]=0;for(U=0;U<x;U++)ie[y[w+U]]++;for(K=G,W=15;1<=W&&ie[W]===0;W--);if(W<K&&(K=W),W===0)return j[_++]=20971520,j[_++]=20971520,k.bits=1,0;for(S=1;S<W&&ie[S]===0;S++);for(K<S&&(K=S),T=J=1;T<=15;T++)if(J<<=1,(J-=ie[T])<0)return-1;if(0<J&&(v===0||W!==1))return-1;for(ue[1]=0,T=1;T<15;T++)ue[T+1]=ue[T]+ie[T];for(U=0;U<x;U++)y[w+U]!==0&&(z[ue[y[w+U]]++]=U);if(B=v===0?(F=Me=z,19):v===1?(F=d,ee-=257,Me=f,re-=257,256):(F=h,Me=p,-1),T=S,Q=_,se=U=R=0,A=-1,O=(be=1<<(I=K))-1,v===1&&852<be||v===2&&592<be)return 1;for(;;){for(Z=T-se,D=z[U]<B?(P=0,z[U]):z[U]>B?(P=Me[re+z[U]],F[ee+z[U]]):(P=96,0),C=1<<T-se,S=M=1<<I;j[Q+(R>>se)+(M-=C)]=Z<<24|P<<16|D|0,M!==0;);for(C=1<<T-1;R&C;)C>>=1;if(C!==0?(R&=C-1,R+=C):R=0,U++,--ie[T]==0){if(T===W)break;T=y[w+z[U]]}if(K<T&&(R&O)!==A){for(se===0&&(se=K),Q+=S,J=1<<(I=T-se);I+se<W&&!((J-=ie[I+se])<=0);)I++,J<<=1;if(be+=1<<I,v===1&&852<be||v===2&&592<be)return 1;j[A=R&O]=K<<24|I<<16|Q-_|0}}return R!==0&&(j[Q+R]=T-se<<24|64<<16|0),k.bits=K,0}},{"../utils/common":41}],51:[function(a,s,o){s.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},{}],52:[function(a,s,o){var u=a("../utils/common"),d=0,f=1;function h(H){for(var $=H.length;0<=--$;)H[$]=0}var p=0,v=29,y=256,w=y+1+v,x=30,j=19,_=2*w+1,z=15,k=16,C=7,M=256,A=16,O=17,Q=18,B=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],Z=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],P=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],D=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],G=new Array(2*(w+2));h(G);var T=new Array(2*x);h(T);var U=new Array(512);h(U);var S=new Array(256);h(S);var W=new Array(v);h(W);var K,I,se,J=new Array(x);function be(H,$,he,ke,oe){this.static_tree=H,this.extra_bits=$,this.extra_base=he,this.elems=ke,this.max_length=oe,this.has_stree=H&&H.length}function R(H,$){this.dyn_tree=H,this.max_code=0,this.stat_desc=$}function F(H){return H<256?U[H]:U[256+(H>>>7)]}function ee(H,$){H.pending_buf[H.pending++]=255&$,H.pending_buf[H.pending++]=$>>>8&255}function ie(H,$,he){H.bi_valid>k-he?(H.bi_buf|=$<<H.bi_valid&65535,ee(H,H.bi_buf),H.bi_buf=$>>k-H.bi_valid,H.bi_valid+=he-k):(H.bi_buf|=$<<H.bi_valid&65535,H.bi_valid+=he)}function ue(H,$,he){ie(H,he[2*$],he[2*$+1])}function Me(H,$){for(var he=0;he|=1&H,H>>>=1,he<<=1,0<--$;);return he>>>1}function re(H,$,he){var ke,oe,Te=new Array(z+1),ve=0;for(ke=1;ke<=z;ke++)Te[ke]=ve=ve+he[ke-1]<<1;for(oe=0;oe<=$;oe++){var we=H[2*oe+1];we!==0&&(H[2*oe]=Me(Te[we]++,we))}}function je(H){var $;for($=0;$<w;$++)H.dyn_ltree[2*$]=0;for($=0;$<x;$++)H.dyn_dtree[2*$]=0;for($=0;$<j;$++)H.bl_tree[2*$]=0;H.dyn_ltree[2*M]=1,H.opt_len=H.static_len=0,H.last_lit=H.matches=0}function de(H){8<H.bi_valid?ee(H,H.bi_buf):0<H.bi_valid&&(H.pending_buf[H.pending++]=H.bi_buf),H.bi_buf=0,H.bi_valid=0}function Oe(H,$,he,ke){var oe=2*$,Te=2*he;return H[oe]<H[Te]||H[oe]===H[Te]&&ke[$]<=ke[he]}function Ue(H,$,he){for(var ke=H.heap[he],oe=he<<1;oe<=H.heap_len&&(oe<H.heap_len&&Oe($,H.heap[oe+1],H.heap[oe],H.depth)&&oe++,!Oe($,ke,H.heap[oe],H.depth));)H.heap[he]=H.heap[oe],he=oe,oe<<=1;H.heap[he]=ke}function _e(H,$,he){var ke,oe,Te,ve,we=0;if(H.last_lit!==0)for(;ke=H.pending_buf[H.d_buf+2*we]<<8|H.pending_buf[H.d_buf+2*we+1],oe=H.pending_buf[H.l_buf+we],we++,ke===0?ue(H,oe,$):(ue(H,(Te=S[oe])+y+1,$),(ve=B[Te])!==0&&ie(H,oe-=W[Te],ve),ue(H,Te=F(--ke),he),(ve=Z[Te])!==0&&ie(H,ke-=J[Te],ve)),we<H.last_lit;);ue(H,M,$)}function ze(H,$){var he,ke,oe,Te=$.dyn_tree,ve=$.stat_desc.static_tree,we=$.stat_desc.has_stree,De=$.stat_desc.elems,Ee=-1;for(H.heap_len=0,H.heap_max=_,he=0;he<De;he++)Te[2*he]!==0?(H.heap[++H.heap_len]=Ee=he,H.depth[he]=0):Te[2*he+1]=0;for(;H.heap_len<2;)Te[2*(oe=H.heap[++H.heap_len]=Ee<2?++Ee:0)]=1,H.depth[oe]=0,H.opt_len--,we&&(H.static_len-=ve[2*oe+1]);for($.max_code=Ee,he=H.heap_len>>1;1<=he;he--)Ue(H,Te,he);for(oe=De;he=H.heap[1],H.heap[1]=H.heap[H.heap_len--],Ue(H,Te,1),ke=H.heap[1],H.heap[--H.heap_max]=he,H.heap[--H.heap_max]=ke,Te[2*oe]=Te[2*he]+Te[2*ke],H.depth[oe]=(H.depth[he]>=H.depth[ke]?H.depth[he]:H.depth[ke])+1,Te[2*he+1]=Te[2*ke+1]=oe,H.heap[1]=oe++,Ue(H,Te,1),2<=H.heap_len;);H.heap[--H.heap_max]=H.heap[1],(function(He,Ae){var $e,Ge,Ze,Be,Je,vt,Pe=Ae.dyn_tree,Ut=Ae.max_code,wt=Ae.stat_desc.static_tree,qt=Ae.stat_desc.has_stree,xt=Ae.stat_desc.extra_bits,Dt=Ae.stat_desc.extra_base,jt=Ae.stat_desc.max_length,Lt=0;for(Be=0;Be<=z;Be++)He.bl_count[Be]=0;for(Pe[2*He.heap[He.heap_max]+1]=0,$e=He.heap_max+1;$e<_;$e++)jt<(Be=Pe[2*Pe[2*(Ge=He.heap[$e])+1]+1]+1)&&(Be=jt,Lt++),Pe[2*Ge+1]=Be,Ut<Ge||(He.bl_count[Be]++,Je=0,Dt<=Ge&&(Je=xt[Ge-Dt]),vt=Pe[2*Ge],He.opt_len+=vt*(Be+Je),qt&&(He.static_len+=vt*(wt[2*Ge+1]+Je)));if(Lt!==0){do{for(Be=jt-1;He.bl_count[Be]===0;)Be--;He.bl_count[Be]--,He.bl_count[Be+1]+=2,He.bl_count[jt]--,Lt-=2}while(0<Lt);for(Be=jt;Be!==0;Be--)for(Ge=He.bl_count[Be];Ge!==0;)Ut<(Ze=He.heap[--$e])||(Pe[2*Ze+1]!==Be&&(He.opt_len+=(Be-Pe[2*Ze+1])*Pe[2*Ze],Pe[2*Ze+1]=Be),Ge--)}})(H,$),re(Te,Ee,H.bl_count)}function E(H,$,he){var ke,oe,Te=-1,ve=$[1],we=0,De=7,Ee=4;for(ve===0&&(De=138,Ee=3),$[2*(he+1)+1]=65535,ke=0;ke<=he;ke++)oe=ve,ve=$[2*(ke+1)+1],++we<De&&oe===ve||(we<Ee?H.bl_tree[2*oe]+=we:oe!==0?(oe!==Te&&H.bl_tree[2*oe]++,H.bl_tree[2*A]++):we<=10?H.bl_tree[2*O]++:H.bl_tree[2*Q]++,Te=oe,Ee=(we=0)===ve?(De=138,3):oe===ve?(De=6,3):(De=7,4))}function ae(H,$,he){var ke,oe,Te=-1,ve=$[1],we=0,De=7,Ee=4;for(ve===0&&(De=138,Ee=3),ke=0;ke<=he;ke++)if(oe=ve,ve=$[2*(ke+1)+1],!(++we<De&&oe===ve)){if(we<Ee)for(;ue(H,oe,H.bl_tree),--we!=0;);else oe!==0?(oe!==Te&&(ue(H,oe,H.bl_tree),we--),ue(H,A,H.bl_tree),ie(H,we-3,2)):we<=10?(ue(H,O,H.bl_tree),ie(H,we-3,3)):(ue(H,Q,H.bl_tree),ie(H,we-11,7));Te=oe,Ee=(we=0)===ve?(De=138,3):oe===ve?(De=6,3):(De=7,4)}}h(J);var te=!1;function q(H,$,he,ke){ie(H,(p<<1)+(ke?1:0),3),(function(oe,Te,ve,we){de(oe),ee(oe,ve),ee(oe,~ve),u.arraySet(oe.pending_buf,oe.window,Te,ve,oe.pending),oe.pending+=ve})(H,$,he)}o._tr_init=function(H){te||((function(){var $,he,ke,oe,Te,ve=new Array(z+1);for(oe=ke=0;oe<v-1;oe++)for(W[oe]=ke,$=0;$<1<<B[oe];$++)S[ke++]=oe;for(S[ke-1]=oe,oe=Te=0;oe<16;oe++)for(J[oe]=Te,$=0;$<1<<Z[oe];$++)U[Te++]=oe;for(Te>>=7;oe<x;oe++)for(J[oe]=Te<<7,$=0;$<1<<Z[oe]-7;$++)U[256+Te++]=oe;for(he=0;he<=z;he++)ve[he]=0;for($=0;$<=143;)G[2*$+1]=8,$++,ve[8]++;for(;$<=255;)G[2*$+1]=9,$++,ve[9]++;for(;$<=279;)G[2*$+1]=7,$++,ve[7]++;for(;$<=287;)G[2*$+1]=8,$++,ve[8]++;for(re(G,w+1,ve),$=0;$<x;$++)T[2*$+1]=5,T[2*$]=Me($,5);K=new be(G,B,y+1,w,z),I=new be(T,Z,0,x,z),se=new be(new Array(0),P,0,j,C)})(),te=!0),H.l_desc=new R(H.dyn_ltree,K),H.d_desc=new R(H.dyn_dtree,I),H.bl_desc=new R(H.bl_tree,se),H.bi_buf=0,H.bi_valid=0,je(H)},o._tr_stored_block=q,o._tr_flush_block=function(H,$,he,ke){var oe,Te,ve=0;0<H.level?(H.strm.data_type===2&&(H.strm.data_type=(function(we){var De,Ee=4093624447;for(De=0;De<=31;De++,Ee>>>=1)if(1&Ee&&we.dyn_ltree[2*De]!==0)return d;if(we.dyn_ltree[18]!==0||we.dyn_ltree[20]!==0||we.dyn_ltree[26]!==0)return f;for(De=32;De<y;De++)if(we.dyn_ltree[2*De]!==0)return f;return d})(H)),ze(H,H.l_desc),ze(H,H.d_desc),ve=(function(we){var De;for(E(we,we.dyn_ltree,we.l_desc.max_code),E(we,we.dyn_dtree,we.d_desc.max_code),ze(we,we.bl_desc),De=j-1;3<=De&&we.bl_tree[2*D[De]+1]===0;De--);return we.opt_len+=3*(De+1)+5+5+4,De})(H),oe=H.opt_len+3+7>>>3,(Te=H.static_len+3+7>>>3)<=oe&&(oe=Te)):oe=Te=he+5,he+4<=oe&&$!==-1?q(H,$,he,ke):H.strategy===4||Te===oe?(ie(H,2+(ke?1:0),3),_e(H,G,T)):(ie(H,4+(ke?1:0),3),(function(we,De,Ee,He){var Ae;for(ie(we,De-257,5),ie(we,Ee-1,5),ie(we,He-4,4),Ae=0;Ae<He;Ae++)ie(we,we.bl_tree[2*D[Ae]+1],3);ae(we,we.dyn_ltree,De-1),ae(we,we.dyn_dtree,Ee-1)})(H,H.l_desc.max_code+1,H.d_desc.max_code+1,ve+1),_e(H,H.dyn_ltree,H.dyn_dtree)),je(H),ke&&de(H)},o._tr_tally=function(H,$,he){return H.pending_buf[H.d_buf+2*H.last_lit]=$>>>8&255,H.pending_buf[H.d_buf+2*H.last_lit+1]=255&$,H.pending_buf[H.l_buf+H.last_lit]=255&he,H.last_lit++,$===0?H.dyn_ltree[2*he]++:(H.matches++,$--,H.dyn_ltree[2*(S[he]+y+1)]++,H.dyn_dtree[2*F($)]++),H.last_lit===H.lit_bufsize-1},o._tr_align=function(H){ie(H,2,3),ue(H,M,G),(function($){$.bi_valid===16?(ee($,$.bi_buf),$.bi_buf=0,$.bi_valid=0):8<=$.bi_valid&&($.pending_buf[$.pending++]=255&$.bi_buf,$.bi_buf>>=8,$.bi_valid-=8)})(H)}},{"../utils/common":41}],53:[function(a,s,o){s.exports=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}},{}],54:[function(a,s,o){(function(u){(function(d,f){if(!d.setImmediate){var h,p,v,y,w=1,x={},j=!1,_=d.document,z=Object.getPrototypeOf&&Object.getPrototypeOf(d);z=z&&z.setTimeout?z:d,h={}.toString.call(d.process)==="[object process]"?function(A){process.nextTick(function(){C(A)})}:(function(){if(d.postMessage&&!d.importScripts){var A=!0,O=d.onmessage;return d.onmessage=function(){A=!1},d.postMessage("","*"),d.onmessage=O,A}})()?(y="setImmediate$"+Math.random()+"$",d.addEventListener?d.addEventListener("message",M,!1):d.attachEvent("onmessage",M),function(A){d.postMessage(y+A,"*")}):d.MessageChannel?((v=new MessageChannel).port1.onmessage=function(A){C(A.data)},function(A){v.port2.postMessage(A)}):_&&"onreadystatechange"in _.createElement("script")?(p=_.documentElement,function(A){var O=_.createElement("script");O.onreadystatechange=function(){C(A),O.onreadystatechange=null,p.removeChild(O),O=null},p.appendChild(O)}):function(A){setTimeout(C,0,A)},z.setImmediate=function(A){typeof A!="function"&&(A=new Function(""+A));for(var O=new Array(arguments.length-1),Q=0;Q<O.length;Q++)O[Q]=arguments[Q+1];var B={callback:A,args:O};return x[w]=B,h(w),w++},z.clearImmediate=k}function k(A){delete x[A]}function C(A){if(j)setTimeout(C,0,A);else{var O=x[A];if(O){j=!0;try{(function(Q){var B=Q.callback,Z=Q.args;switch(Z.length){case 0:B();break;case 1:B(Z[0]);break;case 2:B(Z[0],Z[1]);break;case 3:B(Z[0],Z[1],Z[2]);break;default:B.apply(f,Z)}})(O)}finally{k(A),j=!1}}}}function M(A){A.source===d&&typeof A.data=="string"&&A.data.indexOf(y)===0&&C(+A.data.slice(y.length))}})(typeof self>"u"?u===void 0?this:u:self)}).call(this,typeof ou<"u"?ou:typeof self<"u"?self:typeof window<"u"?window:{})},{}]},{},[10])(10)})})(tm)),tm.exports}var FC=LC();const UC=gx(FC);function BC({videoElement:t,isOpen:r,onClose:a,onResume:s,assetFilename:o}){const[u,d]=b.useState([]),[f,h]=b.useState(new Set),[p,v]=b.useState(!1),[y,w]=b.useState(!1);b.useRef(null);const x=b.useRef(!1),j=b.useRef(!1);b.useEffect(()=>{r&&t&&!j.current&&!p&&(j.current=!0,_()),r||(d([]),h(new Set),j.current=!1)},[r,t]);const _=async()=>{if(!t)return;v(!0);const M=[];if(!t.crossOrigin||t.crossOrigin!=="anonymous")if(t.readyState===0)t.crossOrigin="anonymous";else{const B=t.src,Z=t.currentTime;t.crossOrigin="anonymous",t.src="",await new Promise(P=>setTimeout(P,50)),t.src=B,await new Promise(P=>{const D=()=>{t.removeEventListener("canplay",D),t.currentTime=Z,P(null)};t.addEventListener("canplay",D),setTimeout(()=>{t.removeEventListener("canplay",D),P(null)},5e3)})}const A=document.createElement("canvas");A.width=t.videoWidth,A.height=t.videoHeight;const O=A.getContext("2d");if(!O){v(!1);return}x.current=!t.paused;const Q=t.currentTime;t.pause();try{O.drawImage(t,0,0,A.width,A.height);const B=await new Promise((P,D)=>{A.toBlob(G=>{G?P(G):D(new Error("Failed to create blob"))},"image/jpeg",.95)}),Z=A.toDataURL("image/jpeg",.95);M.push({dataUrl:Z,index:0,blob:B});for(let P=1;P<5;P++){await new Promise(T=>setTimeout(T,150)),t.currentTime=Q+P*.15,await new Promise(T=>{const U=()=>{t.removeEventListener("seeked",U),T(null)};t.addEventListener("seeked",U)}),O.drawImage(t,0,0,A.width,A.height);const D=await new Promise((T,U)=>{A.toBlob(S=>{S?T(S):U(new Error("Failed to create blob"))},"image/jpeg",.95)}),G=A.toDataURL("image/jpeg",.95);M.push({dataUrl:G,index:P,blob:D})}t.currentTime=Q,await new Promise(P=>{const D=()=>{t.removeEventListener("seeked",D),P(null)};t.addEventListener("seeked",D)}),d(M),h(new Set(M.map((P,D)=>D)))}catch(B){console.error("Error capturing burst:",B),alert("Failed to capture frames"),t.currentTime=Q,x.current&&t.play().catch(()=>{}),a()}finally{v(!1)}},z=M=>{h(A=>{const O=new Set(A);return O.has(M)?O.delete(M):O.add(M),O})},k=async()=>{if(f.size===0){alert("Please select at least one frame");return}w(!0);try{const M=u.filter((O,Q)=>f.has(Q)),A=o.replace(/\.[^/.]+$/,"")||"frame";if(M.length===1){const O=M[0],Q=URL.createObjectURL(O.blob),B=document.createElement("a");B.href=Q,B.download=`${A}_${O.index+1}.jpg`,document.body.appendChild(B),B.click(),document.body.removeChild(B),URL.revokeObjectURL(Q)}else{const O=new UC;M.forEach((P,D)=>{O.file(`${A}_${P.index+1}.jpg`,P.blob)});const Q=await O.generateAsync({type:"blob"}),B=URL.createObjectURL(Q),Z=document.createElement("a");Z.href=B,Z.download=`${A}_burst.zip`,document.body.appendChild(Z),Z.click(),document.body.removeChild(Z),URL.revokeObjectURL(B)}C()}catch(M){console.error("Error saving frames:",M),alert("Failed to save frames")}finally{w(!1)}},C=()=>{d([]),h(new Set),s(x.current),a()};return r?c.jsx("div",{className:"fixed inset-0 z-50 bg-black/90 backdrop-blur-sm flex items-center justify-center p-4",children:c.jsxs("div",{className:"bg-white dark:bg-zinc-800 rounded-lg shadow-xl max-w-6xl w-full max-h-[90vh] overflow-y-auto",children:[c.jsxs("div",{className:"sticky top-0 bg-white dark:bg-zinc-800 border-b border-zinc-200 dark:border-zinc-700 px-6 py-4 flex items-center justify-between",children:[c.jsx("h2",{className:"text-xl font-semibold text-zinc-900 dark:text-zinc-100",children:"Capture Burst"}),c.jsx("button",{onClick:C,className:"p-2 rounded-md hover:bg-zinc-100 dark:hover:bg-zinc-700 text-zinc-600 dark:text-zinc-400","aria-label":"Close",children:c.jsx(xa,{className:"w-5 h-5"})})]}),c.jsx("div",{className:"p-6",children:p?c.jsx("div",{className:"flex items-center justify-center py-12",children:c.jsxs("div",{className:"text-center",children:[c.jsx("div",{className:"w-12 h-12 border-4 border-blue-600 border-t-transparent rounded-full animate-spin mx-auto mb-4"}),c.jsx("p",{className:"text-zinc-600 dark:text-zinc-400",children:"Capturing frames..."})]})}):u.length>0?c.jsxs(c.Fragment,{children:[c.jsx("p",{className:"text-sm text-zinc-600 dark:text-zinc-400 mb-4",children:"Select the frames you want to save. Click on a frame to toggle selection."}),c.jsx("div",{className:"grid grid-cols-5 gap-4 mb-6",children:u.map((M,A)=>c.jsxs("div",{onClick:()=>z(A),className:`relative cursor-pointer rounded-md overflow-hidden border-2 transition-all ${f.has(A)?"border-blue-500 ring-2 ring-blue-500 ring-offset-2":"border-zinc-200 dark:border-zinc-700 hover:border-zinc-300 dark:hover:border-zinc-600"}`,children:[c.jsx("img",{src:M.dataUrl,alt:`Frame ${A+1}`,className:"w-full h-auto"}),c.jsx("div",{className:"absolute top-2 left-2 bg-black/50 text-white text-xs px-2 py-1 rounded",children:A+1}),f.has(A)&&c.jsx("div",{className:"absolute top-2 right-2 bg-blue-500 text-white rounded-full w-6 h-6 flex items-center justify-center text-xs font-bold",children:""})]},A))}),c.jsxs("div",{className:"flex items-center justify-between pt-4 border-t border-zinc-200 dark:border-zinc-700",children:[c.jsxs("div",{className:"text-sm text-zinc-600 dark:text-zinc-400",children:[f.size," of ",u.length," selected"]}),c.jsxs("div",{className:"flex gap-3",children:[c.jsx("button",{onClick:C,className:"px-4 py-2 rounded-md border border-zinc-300 dark:border-zinc-600 text-zinc-700 dark:text-zinc-300 hover:bg-zinc-50 dark:hover:bg-zinc-700 transition-colors",children:"Cancel"}),c.jsx("button",{onClick:k,disabled:f.size===0||y,className:"px-4 py-2 rounded-md bg-blue-600 hover:bg-blue-700 disabled:bg-blue-400 disabled:cursor-not-allowed text-white transition-colors flex items-center gap-2",children:y?c.jsxs(c.Fragment,{children:[c.jsxs("svg",{className:"animate-spin h-4 w-4",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[c.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),c.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),c.jsx("span",{children:"Saving..."})]}):c.jsxs("span",{children:["Save ",f.size===1?"Frame":"Frames"]})})]})]})]}):null})]})}):null}function $C({src:t,alt:r,onFullscreen:a}){const[s,o]=b.useState(!0),[u,d]=b.useState(!1),[f,h]=b.useState(!1),p=b.useRef(null),v=b.useRef(null),[y,w]=b.useState(null),[x,j]=b.useState(null);b.useEffect(()=>{o(!0),d(!1);const k=()=>{if(p.current&&p.current.complete&&p.current.naturalHeight!==0){o(!1),w({width:p.current.naturalWidth,height:p.current.naturalHeight});return}requestAnimationFrame(()=>{p.current&&p.current.complete&&p.current.naturalHeight!==0&&(o(!1),w({width:p.current.naturalWidth,height:p.current.naturalHeight}))})};k();const C=setTimeout(k,100);return()=>clearTimeout(C)},[t]),b.useEffect(()=>{const k=()=>{if(v.current){const C=v.current.getBoundingClientRect();j({width:C.width,height:C.height})}};return k(),window.addEventListener("resize",k),window.addEventListener("orientationchange",k),()=>{window.removeEventListener("resize",k),window.removeEventListener("orientationchange",k)}},[]);const _=()=>{if(!y||!x)return{width:"100%",height:"auto",objectFit:"contain"};const k=y.width/y.height;y.height>y.width;const C=Math.min(x.height,window.innerHeight*.8);let A=x.width,O=A/k;return O>C&&(O=C,A=O*k),{width:`${A}px`,height:`${O}px`,maxWidth:"100%",maxHeight:`${C}px`,objectFit:"contain"}},z=()=>{o(!1),p.current&&w({width:p.current.naturalWidth,height:p.current.naturalHeight})};return c.jsxs("div",{ref:v,className:"relative w-full flex items-center justify-center",onMouseEnter:()=>h(!0),onMouseLeave:()=>h(!1),style:{minHeight:"400px",maxHeight:"80vh",width:"100%"},children:[s&&!u&&c.jsx("div",{className:"absolute inset-0 flex items-center justify-center text-white text-lg z-10 bg-black",children:"Loading..."}),c.jsx("img",{ref:p,src:t,alt:r,style:_(),className:`${s?"opacity-0":"opacity-100 transition-opacity duration-300"}`,onLoad:z,onError:()=>{o(!1),d(!0)}}),a&&!s&&c.jsx("button",{onClick:k=>{k.preventDefault(),k.stopPropagation(),a&&a()},onMouseDown:k=>{k.preventDefault(),k.stopPropagation()},className:`absolute bottom-4 right-4 p-2 rounded bg-black/50 hover:bg-black/70 text-white transition-all z-30 ${f?"opacity-100":"opacity-70"}`,"aria-label":"Fullscreen",title:"Fullscreen",style:{pointerEvents:"auto",cursor:"pointer"},children:c.jsx(i1,{className:"w-5 h-5"})})]})}function HC(){var Ut,wt,qt,xt,Dt,jt,Lt,jn,xe,Ke;const{id:t}=h_(),r=Ea(),s=wn().state,{pageSize:o}=rd(),u=s==null?void 0:s.asset,d=s==null?void 0:s.from,f=(wt=(Ut=d==null?void 0:d.pathname)==null?void 0:Ut.startsWith("/search"))!=null?wt:!1,h=b.useMemo(()=>d!=null&&d.search?new URLSearchParams(d.search):null,[d==null?void 0:d.search]),p=f&&h&&h.get("q")||"",v=(h==null?void 0:h.get("from"))||void 0,y=(h==null?void 0:h.get("to"))||void 0,w=(h==null?void 0:h.get("camera_make"))||void 0,x=(h==null?void 0:h.get("camera_model"))||void 0,j=(h==null?void 0:h.get("platformType"))||void 0,_=(h==null?void 0:h.get("minSize"))||void 0,z=_?Number(_):void 0,k=(h==null?void 0:h.get("maxSize"))||void 0,C=k?Number(k):void 0,M=(h==null?void 0:h.get("fileTypes"))||void 0,A=M?M.split(",").map(Y=>Y.trim()).filter(Boolean):void 0,O=b.useMemo(()=>{if(d!=null&&d.search){const fe=new URLSearchParams(d.search).get("person");if(fe){const Re=parseInt(fe,10);if(!isNaN(Re))return Re}}},[d==null?void 0:d.search]),Q=b.useMemo(()=>{var Y,fe;return d!=null&&d.pathname?`${d.pathname}${(Y=d.search)!=null?Y:""}${(fe=d.hash)!=null?fe:""}`:null},[d==null?void 0:d.pathname,d==null?void 0:d.search,d==null?void 0:d.hash]),B=b.useCallback(()=>{if(Q){r(Q,{replace:!0});return}if(window.history.length>1){r(-1);return}r("/gallery")},[r,Q]),[Z,P]=b.useState(!1),[D,G]=b.useState((qt=s==null?void 0:s.index)!=null?qt:0),[T,U]=b.useState(!1),[S,W]=b.useState(null),[K,I]=b.useState(!1),[se,J]=b.useState(null),[be,R]=b.useState(!1),[F,ee]=b.useState(null),ie=b.useRef(null),ue=(s==null?void 0:s.sort)||"none",Me=(s==null?void 0:s.order)||"desc",re=f&&!!p,{data:je,refetch:de}=r0({sort:ue,order:Me,pageSize:o,person_id:O,enabled:!re}),{data:Oe,refetch:Ue}=t1({q:p,from:v,to:y,camera_make:w,camera_model:x,platformType:j,pageSize:o,enabled:re}),[_e,ze]=b.useState(new Set),E=re?(xt=Oe==null?void 0:Oe.pages.flatMap(Y=>Y.items))!=null?xt:[]:(Dt=je==null?void 0:je.pages.flatMap(Y=>Y.items))!=null?Dt:[],te=(re?E.filter(Y=>!(z!==void 0&&Y.size_bytes<z||C!==void 0&&Y.size_bytes>C||A&&A.length>0&&!A.some(Re=>Re.includes("/")?Y.mime.startsWith(Re):Y.mime.includes(Re)))):E).filter(Y=>!_e.has(Y.id)),q=Qe(Y=>Y.prioritizeFolderStructure),H=Qe(Y=>Y.prioritizeFilenameDate),$=b.useMemo(()=>Ym(te,q,H,ue,Me),[te,q,H,ue,Me]),he=b.useMemo(()=>{if(s!=null&&s.filteredAssetIds&&s.filteredAssetIds.length>0){const Y=new Map($.map(Re=>[Re.id,Re]));return s.filteredAssetIds.map(Re=>Y.get(Re)).filter(Re=>!!Re)}return $},[s==null?void 0:s.filteredAssetIds,$]),ke=(jn=re?(jt=Oe==null?void 0:Oe.pages[0])==null?void 0:jt.total:(Lt=je==null?void 0:je.pages[0])==null?void 0:Lt.total)!=null?jn:$.length,oe=t?parseInt(t,10):null,Te=u||(oe?$.find(Y=>Y.id===oe):null),ve=oe&&!Te&&!_e.has(oe),{data:we,isLoading:De}=yn({queryKey:["asset",oe],queryFn:()=>oe?xn.get(oe):Promise.reject(new Error("No asset ID")),enabled:ve,staleTime:6e4}),Ee=we||Te,He=b.useMemo(()=>{var Re;if(!Ee)return 0;if(s!=null&&s.filteredAssetIds&&s.index!==void 0){const Le=s.filteredAssetIds.length-1;if(s.index>=0&&s.index<=Le)return s.index;const Xe=s.filteredAssetIds.indexOf(Ee.id);if(Xe>=0)return Xe}const Y=he.findIndex(Le=>Le.id===Ee.id);if(Y>=0)return Y;const fe=(Re=s==null?void 0:s.index)!=null?Re:0;return he.length===0?0:Math.min(Math.max(0,fe),he.length-1)},[Ee,he,s==null?void 0:s.index,s==null?void 0:s.filteredAssetIds]);b.useEffect(()=>{G(He)},[He]);const Ae=b.useCallback(Y=>{if(s!=null&&s.filteredAssetIds&&Y>=0&&Y<s.filteredAssetIds.length){const fe=s.filteredAssetIds[Y],Re=he.find(Le=>Le.id===fe);Re&&!_e.has(fe)?(G(Y),r(`/asset/${fe}`,{state:{asset:Re,index:Y,sort:ue,order:Me,filteredAssetIds:s.filteredAssetIds,from:d},replace:!0})):_e.has(fe)||(G(Y),r(`/asset/${fe}`,{state:{index:Y,sort:ue,order:Me,filteredAssetIds:s.filteredAssetIds,from:d},replace:!0}));return}if(Y>=0&&Y<he.length){const fe=he[Y];fe&&!_e.has(fe.id)&&(G(Y),r(`/asset/${fe.id}`,{state:{asset:fe,index:Y,sort:ue,order:Me,filteredAssetIds:s==null?void 0:s.filteredAssetIds,from:d},replace:!0}))}},[he,_e,r,ue,Me,d,s==null?void 0:s.filteredAssetIds]),$e=Qe(Y=>Y.showDeleteConfirmation),Ge=Qe(Y=>Y.deleteOriginalFiles),Ze=b.useCallback(async Y=>{const fe=Y||(S==null?void 0:S.id)||(Ee==null?void 0:Ee.id);if(fe)try{const Re=await xn.delete(fe,{permanent:Ge});if(Ge){const Le=Re;if(!Le.success){if(Le.read_only){alert(`Unable to delete "${(S==null?void 0:S.filename)||fe}" from disk because the file is read-only${Le.path?` (${Le.path})`:""}. Update the file permissions and try again.`);return}throw new Error(Le.error||"Failed to delete asset.")}}else{const Le=Re;if(!Le.success)throw new Error(Le.error||"Failed to remove asset from index.")}U(!1),W(null),ze(Le=>new Set([...Le,fe])),fe===(Ee==null?void 0:Ee.id)&&ee({deletedId:fe,originalIndex:D}),re?Ue():de()}catch(Re){console.error("Delete failed:",Re),alert(`Delete failed: ${Re instanceof Error?Re.message:"Unknown error"}`)}},[S,Ee,he,D,r,de,Ue,ue,Me,d,B,re,Ge,s==null?void 0:s.filteredAssetIds]),Be=b.useCallback(Y=>{const fe=Ee&&Ee.id===Y?Ee:$.find(Re=>Re.id===Y);fe?$e?(W(fe),U(!0)):Ze(Y):(console.warn("Asset not found for deletion, using ID only:",Y),$e?(W({id:Y}),U(!0)):Ze(Y))},[$,Ee,$e,Ze]);if(b.useEffect(()=>{if(Ee&&_e.has(Ee.id))if(he.length===0)B();else{let Y=null,fe=D;if(s!=null&&s.filteredAssetIds&&s.filteredAssetIds.length>0){const Re=s.filteredAssetIds.indexOf(Ee.id);Re>=0&&(Re<s.filteredAssetIds.length-1?(Y=s.filteredAssetIds[Re+1],fe=Re):Re>0&&(Y=s.filteredAssetIds[Re-1],fe=Re-1))}else D<he.length?(Y=he[D].id,fe=D):he.length>0&&(Y=he[he.length-1].id,fe=he.length-1);if(Y!==null){const Re=he.find(Le=>Le.id===Y)||$.find(Le=>Le.id===Y);if(Re){const Le=s!=null&&s.filteredAssetIds?s.filteredAssetIds.filter(Xe=>Xe!==Ee.id):void 0;r(`/asset/${Re.id}`,{state:{asset:Re,index:fe,sort:ue,order:Me,filteredAssetIds:Le,from:d},replace:!0})}else B()}else B()}},[Ee,he,$,D,r,ue,Me,_e,B,s==null?void 0:s.filteredAssetIds,d]),b.useEffect(()=>{if(!F)return;const{deletedId:Y,originalIndex:fe}=F;if(he.length>0&&!he.some(Re=>Re.id===Y)){const Re=fe<he.length?fe:Math.max(0,he.length-1);if(Re>=0&&Re<he.length){const Le=he[Re];if(Le&&Le.id!==Y){r(`/asset/${Le.id}`,{state:{asset:Le,index:Re,sort:ue,order:Me,filteredAssetIds:s==null?void 0:s.filteredAssetIds,from:d},replace:!0}),ee(null);return}}B(),ee(null)}},[F,he,r,ue,Me,d,B,s==null?void 0:s.filteredAssetIds]),b.useEffect(()=>{const Y=fe=>{if(!(fe.target instanceof HTMLInputElement||fe.target instanceof HTMLTextAreaElement))if(fe.key==="Escape")Z?P(!1):(fe.preventDefault(),B());else if(fe.key==="Delete"||fe.key==="Backspace")!Z&&Ee&&(fe.preventDefault(),Be(Ee.id));else if(fe.key==="ArrowLeft"&&!Z&&Ee)(s!=null&&s.filteredAssetIds?s.filteredAssetIds.length:he.length)>0&&D>0&&(fe.preventDefault(),Ae(D-1));else if(fe.key==="ArrowRight"&&!Z&&Ee){const Re=s!=null&&s.filteredAssetIds?s.filteredAssetIds.length:he.length;Re>0&&D>=0&&D<Re-1&&(fe.preventDefault(),Ae(D+1))}else if(fe.key===" "&&!Z&&Ee&&ti(Ee.mime)){fe.preventDefault();const Re=ie.current;Re&&(Re.paused?Re.play().catch(Le=>{console.error("Error playing video:",Le)}):Re.pause())}else(fe.key==="f"||fe.key==="F")&&(fe.preventDefault(),Z?P(!1):Ee&&P(!0))};return window.addEventListener("keydown",Y),()=>window.removeEventListener("keydown",Y)},[Z,B,he,Ae,Ee,Be,ie,D]),ve&&De)return c.jsxs("div",{className:"container-responsive py-10 text-center opacity-70",children:["Loading asset ",t,"..."]});if(!Ee)return c.jsxs("div",{className:"container-responsive py-10 text-center opacity-70",children:["Unable to load asset ",t,". The asset may have been deleted or does not exist.",c.jsx("div",{className:"mt-3",children:c.jsx("button",{onClick:B,className:"px-3 py-2 rounded border border-zinc-300 dark:border-zinc-700",children:"Go Back"})})]});const Je=s!=null&&s.filteredAssetIds?s.filteredAssetIds.length:he.length,vt=D>0,Pe=D<Je-1;return c.jsxs(c.Fragment,{children:[c.jsxs("div",{className:"container-responsive py-2 sm:py-4 grid grid-cols-1 lg:grid-cols-[1fr_320px] gap-3 sm:gap-4",children:[c.jsxs("div",{className:"relative",children:[vt&&c.jsx("button",{onClick:()=>Ae(D-1),className:"absolute left-2 top-1/2 -translate-y-1/2 z-10 p-2 rounded-full bg-black/50 hover:bg-black/70 text-white transition-colors shadow-lg","aria-label":"Previous",children:c.jsx(a0,{className:"w-6 h-6"})}),Pe&&c.jsx("button",{onClick:()=>Ae(D+1),className:"absolute right-2 top-1/2 -translate-y-1/2 z-10 p-2 rounded-full bg-black/50 hover:bg-black/70 text-white transition-colors shadow-lg","aria-label":"Next",children:c.jsx(fl,{className:"w-6 h-6"})}),(he.length>1||(s==null?void 0:s.filteredAssetIds)&&s.filteredAssetIds.length>1)&&c.jsxs("div",{className:"absolute top-2 left-1/2 -translate-x-1/2 z-10 px-3 py-1 rounded-full bg-black/50 backdrop-blur-sm text-white text-sm",children:[D+1," / ",s!=null&&s.filteredAssetIds?s.filteredAssetIds.length:ke>0?ke:he.length]}),ti(Ee.mime)?c.jsx(DC,{asset:Ee,className:"border border-zinc-200 dark:border-zinc-800",onFullscreen:()=>P(!0),onStateChange:J,savedState:se,videoRef:ie}):c.jsx("div",{className:"rounded-md overflow-hidden border border-zinc-200 dark:border-zinc-800 bg-black relative",children:c.jsx($C,{src:pn.previewUrl(Ee.id,Ee.sha256),alt:Ee.filename,onFullscreen:()=>P(!0)})})]}),c.jsxs("aside",{className:"lg:sticky lg:top-4 lg:self-start",children:[c.jsx(OC,{asset:Ee}),c.jsxs("div",{className:"mt-3 space-y-2",children:[ti(Ee.mime)&&c.jsxs(c.Fragment,{children:[c.jsx("button",{onClick:async()=>{if(!K){I(!0);try{await xn.extractAudioMp3(Ee.id)}catch(Y){console.error("Extract audio failed:",Y),alert(`Extract audio failed: ${Y instanceof Error?Y.message:"Unknown error"}`)}finally{I(!1)}}},disabled:K,className:"w-full px-3 py-2 rounded-md bg-amber-600 hover:bg-amber-700 disabled:bg-amber-400 disabled:cursor-not-allowed text-white text-sm transition-colors flex items-center justify-center gap-2",children:K?c.jsxs(c.Fragment,{children:[c.jsxs("svg",{className:"animate-spin h-4 w-4 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[c.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),c.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),c.jsx("span",{children:"Extracting..."})]}):c.jsx("span",{children:"Extract Audio"})}),c.jsx("button",{onClick:()=>R(!0),className:"w-full px-3 py-2 rounded-md bg-purple-600 hover:bg-purple-700 text-white text-sm transition-colors",children:"Capture Burst"})]}),c.jsx("button",{onClick:()=>{Ee!=null&&Ee.id?Be(Ee.id):console.error("Cannot delete: asset or asset.id is undefined",Ee)},disabled:!(Ee!=null&&Ee.id),className:"w-full px-3 py-2 rounded-md bg-red-600 hover:bg-red-700 disabled:bg-red-400 disabled:cursor-not-allowed text-white text-sm transition-colors",children:"Delete"})]})]})]}),Z&&Ee&&(()=>{const Y=D,fe=Ee,Re=he.length||ke||1;return fe?c.jsx(TC,{fallback:c.jsx("div",{className:"fixed inset-0 z-50 bg-black/95 backdrop-blur-sm flex items-center justify-center",children:c.jsxs("div",{className:"text-white text-center",children:[c.jsx("p",{className:"text-lg mb-2",children:"Error loading lightbox"}),c.jsx("button",{onClick:()=>P(!1),className:"px-4 py-2 rounded-md bg-white/10 hover:bg-white/20 text-white transition-colors",children:"Close"})]})}),children:c.jsx(AC,{asset:fe,currentIndex:Y,total:Re,onClose:()=>P(!1),onNavigate:Ae,onDelete:Be,videoState:ti(fe.mime)?se:void 0,onVideoStateChange:ti(fe.mime)?J:void 0})}):null})(),c.jsx(ls,{isOpen:T,onClose:()=>{U(!1),W(null)},onConfirm:()=>Ze(),title:Ge?"Delete From Disk":"Remove From Nazr",message:Ge?`This will delete "${(xe=S==null?void 0:S.filename)!=null?xe:"this asset"}" from Nazr and remove the original file from disk. This cannot be undone.`:`Remove "${(Ke=S==null?void 0:S.filename)!=null?Ke:"this asset"}" from the Nazr index? The original file stays on disk.`,confirmText:"Delete",cancelText:"Cancel",variant:"danger"}),ti(Ee.mime)&&c.jsx(BC,{videoElement:ie.current,isOpen:be,onClose:()=>R(!1),onResume:Y=>{ie.current&&Y&&ie.current.play().catch(()=>{})},assetFilename:Ee.filename})]})}function PC(){return c.jsxs("div",{className:"container-responsive py-16 text-center",children:[c.jsx("div",{className:"text-2xl font-semibold mb-2",children:"404  Not Found"}),c.jsx("div",{className:"opacity-70",children:"The page you are looking for doesnt exist."}),c.jsx("div",{className:"mt-4",children:c.jsx(on,{to:"/",className:"px-3 py-2 rounded-md border border-zinc-300 dark:border-zinc-700",children:"Go Home"})})]})}function qC(){const t=wn(),r=Ea(),a=Qe(o=>o.defaultScreen),s=b.useRef(!1);return b.useEffect(()=>{"scrollRestoration"in window.history&&(window.history.scrollRestoration="manual")},[]),b.useEffect(()=>{!s.current&&t.pathname==="/"&&a!=="dashboard"&&(s.current=!0,r(`/${a}`,{replace:!0}))},[t.pathname,a,r]),c.jsxs("div",{className:"min-h-full flex flex-col",children:[c.jsx(l4,{}),c.jsx("main",{className:"flex-1",children:c.jsx(C_,{children:c.jsxs(da,{element:c.jsx(IC,{}),children:[c.jsx(da,{index:!0,element:c.jsx(Q6,{})}),c.jsx(da,{path:"gallery",element:c.jsx(vC,{})}),c.jsx(da,{path:"search",element:c.jsx(SC,{})}),c.jsx(da,{path:"albums",element:c.jsx(zC,{})}),c.jsx(da,{path:"people",element:c.jsx(NC,{})}),c.jsx(da,{path:"asset/:id",element:c.jsx(HC,{})}),c.jsx(da,{path:"*",element:c.jsx(PC,{})})]})})}),c.jsx(u4,{})]})}function IC(){return c.jsx(j_,{})}D5.createRoot(document.getElementById("root")).render(c.jsx(b.StrictMode,{children:c.jsx(YS,{client:IS,children:c.jsx(XS,{children:c.jsx(J_,{children:c.jsx(qC,{})})})})}));
